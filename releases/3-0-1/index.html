<!doctype html><html lang=en class="js csstransforms3d"><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-0PJKXDWQ4P"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-0PJKXDWQ4P")}</script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name=referrer content="no-referrer-when-downgrade"><meta property="og:image" content="https://docs.rhize.com//images/og/graphic-rhize-release-v3.0.1.png"><meta property="og:image:secure_url" content="https://docs.rhize.com/images/og/graphic-rhize-release-v3.0.1.png"><meta property="og:description" content="Release notes for v3.0.1 of the Rhize application"><meta property="og:type" content="website"><meta property="og:title" content="3.0.1"><meta property="og:site_name" content="Rhize documentation"><meta property="og:url" content="https://docs.rhize.com/releases/3-0-1/"><meta property="og:locale" content="en"><meta name=generator content="Hugo 0.139.0"><meta name=description content="Release notes for v3.0.1 of the Rhize application"><link rel=canonical href=https://docs.rhize.com/releases/3-0-1/><link rel=apple-touch-icon sizes=57x57 href=https://docs.rhize.com/images/favicons/apple-touch-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=https://docs.rhize.com/images/favicons/apple-touch-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=https://docs.rhize.com/images/favicons/apple-touch-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=https://docs.rhize.com/images/favicons/apple-touch-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=https://docs.rhize.com/images/favicons/apple-touch-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=https://docs.rhize.com/images/favicons/apple-touch-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=https://docs.rhize.com/images/favicons/apple-touch-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=https://docs.rhize.com/images/favicons/apple-touch-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=https://docs.rhize.com/images/favicons/apple-touch-icon-180x180.png><link rel=icon type=image/png href=https://docs.rhize.com/images/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://docs.rhize.com/images/favicons/android-chrome-192x192.png sizes=192x192><link rel=icon type=image/png href=https://docs.rhize.com/images/favicons/favicon-96x96.png sizes=96x96><link rel=icon type=image/png href=https://docs.rhize.com/images/favicons/favicon-16x16.png sizes=16x16><link rel=manifest href=https://docs.rhize.com/images/favicons/manifest.webmanifest><link rel=mask-icon href=https://docs.rhize.com/images/favicons/safari-pinned-tab.svg color=#fe2c06><link rel="shortcut icon" href=https://docs.rhize.com/images/favicons/favicon.ico><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/default.min.css><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js></script><script async src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/languages/go.min.js></script><script async src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/languages/java.min.js integrity="sha256-RyOs5MjQ+Ef9DQrPHp4QGr2tcNjxLh6mCkkW+sS4doU=" crossorigin=anonymous></script><script src=//code.jquery.com/jquery-3.2.1.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script><title>3.0.1 | Releases</title><link href=https://docs.rhize.com/css/theme.css?fc809cfbda01c3e1c6f2ea2aa66ec2a4 rel=stylesheet><link href=https://docs.rhize.com/css/runnable.css?46648956d99faa2e057d109b9f2a52e6 rel=stylesheet><link href=https://docs.rhize.com/css/tabs.css?035edc32762cb7973b740e3067101ced rel=stylesheet><link href=https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css rel=stylesheet integrity=sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ crossorigin=anonymous><script src=//cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js integrity=sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb crossorigin=anonymous></script><script src=https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js integrity=sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn crossorigin=anonymous></script><link href="//fonts.googleapis.com/css?family=Lato:400,700" rel=stylesheet><link href=https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css rel=stylesheet integrity=sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN crossorigin=anonymous><link href=https://cdn.lineicons.com/2.0/LineIcons.css rel=stylesheet crossorigin=anonymous><script type=text/javascript id=hs-script-loader async defer src=//js.hs-scripts.com/9290851.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3></head><body><nav id=header><div class=header-left><div><a href=https://docs.rhize.com/ class=brand><img src=https://docs.rhize.com//images/rhize-logo.png alt=RHIZE class=logo></a><div class=logo-tagline><span>Documentation</span></div></div></div><div class=header-right><div id=docsearch><div class="menu-search align-middle"><div id=docsearch></div></div></div><div><ul class=menu><li><a href=https://rhize.com target=_blank>Home</a></li><li><a href=https://discord.gg/ZRpUBXmrkV target=_blank>Community</a></li><li><a href=https://www.youtube.com/@rhizemanufacturingdatahub target=_blank>Youtube</a></li></ul></div></div><a href=# id=sidebar-toggle><i class="fa fa-bars"></i></a></nav><aside id=sidebar><ul class=topics><li class="topic main-topic children"><a id=get-started href=#>Get started</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=https://docs.rhize.com/get-started/introduction/>What is Rhize?</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/get-started/how-rhize-works/>How Rhize works</a></li></ul></li><li class="topic main-topic children"><a id=deploy href=#>Deploy</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=#>Install</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=https://docs.rhize.com/deploy/install/overview/>Overview</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/deploy/install/setup-kubernetes/>Set up Kubernetes</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/deploy/install/keycloak/>Configure Keycloak</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/deploy/install/services/>Install Rhize services</a></li></ul></li><li class="topic sub-topic"><a href=#>Back up</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=https://docs.rhize.com/deploy/backup/graphdb/>Back up the Graph DB</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/deploy/backup/binary/>Back up the Graph DB to S3</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/deploy/backup/audit/>Back up Audit PostgreSQL</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/deploy/backup/grafana/>Back up Grafana</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/deploy/backup/keycloak/>Back up Keycloak</a></li></ul></li><li class="topic sub-topic"><a href=#>Restore</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=https://docs.rhize.com/deploy/restore/graphdb/>Restore the GraphDB</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/deploy/restore/binary/>Restore the GraphDB from S3</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/deploy/restore/audit/>Restore Audit backup</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/deploy/restore/grafana/>Restore Grafana</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/deploy/restore/keycloak/>Restore Keycloak</a></li></ul></li><li class="topic sub-topic"><a href=#>Maintain</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=https://docs.rhize.com/deploy/maintain/audit/>Archive the PostgreSQL Audit trail</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/deploy/maintain/bpmn-nodes/>BPMN execution recovery</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/deploy/maintain/keycloak-events/>Export Keycloak events</a></li></ul></li><li class="topic sub-topic"><a href=https://docs.rhize.com/deploy/upgrade/>Upgrade</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/deploy/about-openidconnect/>About OpenID connect</a></li></ul></li><li class="topic main-topic children"><a id=user-guides href=#>User guides</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=#>Use GraphQL</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/gql/call-the-graphql-api/>Overview: the Rhize API</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/gql/query/>Query</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/gql/filter/>Filter</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/gql/mutate/>Mutate</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/gql/subscribe/>Subscribe</a></li></ul></li><li class="topic sub-topic"><a href=#>Write BPMN workflows</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/bpmn/create-workflow/>Overview: orchestrate processes</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/bpmn/trigger-workflows/>Trigger workflows</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/bpmn/use-jsonata/>Use JSONata</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/bpmn/debug-workflows/>Handle errors and debug</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/bpmn/tune-performance/>Tune performance</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/bpmn/variables/>Special variables</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/bpmn/naming-conventions/>Naming conventions</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/bpmn/learning-resources/>BPMN learning resources</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/bpmn/bpmn-elements/>BMPN elements</a></li></ul></li><li class="topic sub-topic"><a href=#>Define production models</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/model/create-objects-ui/>Create objects from the UI</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/model/master-definitions/>Master definitions and fields</a></li></ul></li><li class="topic sub-topic"><a href=#>Connect event data</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/publish-subscribe/connect-datasource/>Connect data source</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/publish-subscribe/create-equipment-class-rule/>Tutorial: Trigger a workflow from a rule</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/publish-subscribe/track-changes/>Track changes (CDC)</a></li></ul></li><li class="topic sub-topic"><a href=#>Use the KPI service</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/kpi-service/about-kpi-service/>About KPI Service and overrides</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/kpi-service/configure-kpi-service/>Configure the KPI service</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/kpi-service/query-kpi-service/>Query the KPI service</a></li></ul></li><li class="topic sub-topic"><a href=#>Use work calendars</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/work-calendars/about-calendars-and-overrides/>About calendars and overrides</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/work-calendars/create-work-calendar/>Create work calendars</a></li></ul></li><li class="topic sub-topic"><a href=https://docs.rhize.com/how-to/audit/>Audit</a></li></ul></li><li class="topic main-topic children"><a id=use-cases href=#>Use cases</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=https://docs.rhize.com/use-cases/overview/>Overview</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/use-cases/genealogy/>Genealogy</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/use-cases/track-and-trace/>Track and trace</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/use-cases/ebr/>Electronic batch records</a></li></ul></li><li class="topic main-topic children"><a id=reference href=#>Reference</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=#>Service configuration</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=https://docs.rhize.com/reference/service-config/agent-configuration/>Agent configuration</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/reference/service-config/audit-configuration/>Audit configuration</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/reference/service-config/bpmn-configuration/>BPMN configuration</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/reference/service-config/calendar-configuration/>Calendar configuration</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/reference/service-config/core-configuration/>Core configuration</a></li></ul></li><li class="topic sub-topic"><a href=https://docs.rhize.com/reference/observability-metrics/>Observability metrics</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/reference/default-ports/>Default URLs and local ports</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/reference/gql-types/>GQL types and filters</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/reference/glossary/>Glossary</a></li></ul></li><li class="topic main-topic children"><a id=explanations href=#>Explanations</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=https://docs.rhize.com/explanations/manufacturing-data-hub/>Manufacturing Data Hub</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/explanations/isa-95-diagrams/>ISA-95 diagrams</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/explanations/how-to-speak-isa-95/>How to speak ISA-95</a></li></ul></li><li class="topic main-topic children active"><a id=releases href=#>Releases</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=https://docs.rhize.com/releases/3-0-3/>3.0.3</a></li><li class="topic sub-topic active"><a href=https://docs.rhize.com/releases/3-0-1/>3.0.1</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/releases/3-0/>3.0.0</a></li><li class="topic sub-topic"><a href=#>Changelog</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=https://docs.rhize.com/releases/changelog/3-0-0/>3.0.0 (general release)</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/releases/changelog/3-0-0rc09/>3.0.0rc09</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/releases/changelog/3-0-0rc08/>3.0.0rc08</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/releases/changelog/3-0-0rc07/>3.0.0rc07</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/releases/changelog/3-0-0rc06/>3.0.0rc06</a></li><li class="topic sub-topic"><a href=https://docs.rhize.com/releases/changelog/3-0-0rc05/>3.0.0rc05</a></li></ul></li></ul></li><li class="topic main-topic"><a href=https://docs.rhize.com/></a></li></ul></aside><script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script><script type=text/javascript>docsearch({appId:"70JLDGIDQA",apiKey:"2b4c57aa9d3d0386bf1a6df5b54eb3cf",indexName:"rhize",insights:!0,container:"#docsearch",debug:!1})</script></body></html><main class=content-wrapper><div class=content><div class=top-toc><nav id=TableOfContents><ul><li><a href=#changes-by-service>Changes by service</a><ul><li><a href=#audit>Audit</a></li><li><a href=#bpmn>BPMN</a></li><li><a href=#schema>Schema</a></li></ul></li><li><a href=#compatibility>Compatibility</a></li><li><a href=#checksums>Checksums</a></li><li><a href=#upgrade>Upgrade</a><ul><li><a href=#post-upgrade>Post upgrade</a></li></ul></li></ul></nav></div><article><a class=edit-btn target=_blank href=https://github.com/libremfg/libremfg.github.io/edit/main/content/releases/3-0-1.md><i class="fa fa-github-alt"></i> Edit Page</a><h1 class=post-title>3.0.1</h1><p>Release notes for version 3.0.1 of the Rhize application.</p><p>This release includes bug fixes, improvements for developer experience, and new relationships between entities in the ISA-95 schema.
It also clears the way for the new, improved Work Calendar service (still in release candidacy).</p><p><em>Release date:</em>
23 Jul 2024</p><div class="notices warning"><span class=type>Warning</span> This release includes a few minor breaking changes, review the <a href=#upgrade>upgrade</a> instructions for details.</div><h2 id=changes-by-service>Changes by service</h2><p>The following sections document the changes this release brings to each service.</p><h3 id=audit>Audit</h3><p><strong>Fixes</strong></p><ul><li>Fix Postgres user tag query to use column name <code>user_id</code> instead of the <code>user</code> reserved keyword</li></ul><h3 id=bpmn>BPMN</h3><p><strong>Features</strong></p><ul><li>Error boundary events now support call-activity tasks. If a task in the called process aborts, the error boundary captures that event.</li><li>Support Custom <a href=https://en.wikipedia.org/wiki/Certificate_authority>Certificate authorities</a> so that the BPMN service can run in networks with internal certificates authorities.</li><li><a href=https://docs.rhize.com/how-to/bpmn/bpmn-elements/#events>Message events</a> now support topics that use the <code>+</code> wildcard.</li><li>Add configuration option to set __traceDebug flag on all BPMN executions. For details, read <a href=https://docs.rhize.com/how-to/bpmn/debug-workflows/>Debug workflows</a>.</li><li>Allow <code>__traceDebug</code> to be set from <a href=https://docs.rhize.com/how-to/bpmn/create-workflow/#access-process-variable-context>variable context</a>.</li><li>Add support for querying a range of <a href=https://docs.rhize.com/how-to/work-calendars/>work calendar</a> entries for a Work Calendar Definition.<ul><li>When configured, calendar data persists to a timeseries DB.</li><li>⚠️<span class=breaking-text>Breaking</span>
. Work calendars now query for <code>WorkCalendarDefinitions</code> not <code>workCalendars</code>.
This makes it possible to configure calendars in the UI.</li><li>Work calendar execution is now based on Hierarchy Scope.</li></ul></li></ul><p><strong>Change</strong></p><ul><li>Reduce number of retries in <a href=https://docs.rhize.com/deploy/maintain/bpmn-nodes/>BPMN recovery</a>, speeding up response times when node does not exist.
From the user&rsquo;s perspective, the delay was particularly notable on <a href=https://docs.rhize.com/how-to/bpmn/trigger-workflows/#start-a-workflow-from-an-api>API BPMN triggers</a> when the specified workflow did not exist.</li></ul><p><strong>Fixes</strong></p><ul><li>Capture panics in JSONata go for better recovery and discovery.</li><li>⚠️<span class=breaking-text>Breaking</span>
. Limit BPMN users to only tokens with specific audience and scope.</li><li>Workflow specifications not found in NATS now fall back to database lookups before failing.
Fixes issue when spinning up new development containers.</li><li>Include metadata fields for <code>jobResponse</code>. Fixes panic if node tried to access these fields.</li><li>Respect <a href=https://docs.rhize.com/how-to/bpmn/debug-workflows/#adding-the-debug-flag><code>debug</code></a> flag for BPMNs triggered with <code>createAndRunBpmn</code>.</li><li>Reuse expected Audience for clients to match documented client name.</li><li>Do not create calendar entry for end events.</li><li>Fix nil pointer error when aborting tasks without parents.</li></ul><h3 id=schema>Schema</h3><p><strong>Features</strong></p><ul><li>⚠️<span class=breaking-text>Breaking</span>
. Add <code>id</code> and <code>label</code> to <code>stateTransitionInstance</code>.</li><li>Add menu URL for portal in UI (preparation for future work in UI).</li><li>Add filter to query material actual by a material requirement and vice-versa.</li><li>Link <code>workCalendarEntries</code> to equipment versions.</li><li>Include Kafka in the enum values for data sources.</li><li>Added optional <code>InformationObjectTypeEnum</code> to <code>OperationsEventRecordEntry</code>.</li></ul><p><strong>Fixes</strong></p><ul><li>Add 0:N relationship from <code>materialRequirements</code> to <code>materialActual</code>.</li><li>The <code>segmentResponse</code> entity can now have multiple <code>jobResponses</code> attached.</li><li>Change <code>segmentResponse</code> relationship to <code>JobResponse</code> to be a 1:N relationship</li><li>⚠️<span class=breaking-text>Breaking</span>
. Change <code>stateModelTransition</code> from <code>state</code> to a relationship.</li><li>Fix inverse relationship between <code>operationseventDefinitionProperty</code> and <code>operationsEventProperty</code>.</li></ul><h2 id=compatibility>Compatibility</h2><div class="notices note"><span class=type>v3.0.1 compatibility</span>
Rhize v3.0.1 has been tested to work with the following third-party applications:<ul><li>Apollo router 1.15.1</li><li>Grafana: 9.4.7</li><li>Keycloak: 21.1.1</li><li>Keycloak Postgres: 15.3.0</li><li>Loki: 2.9.3</li><li>NATS: 2.10.17</li><li>Tempo: 2.3.1</li></ul></div><h2 id=checksums>Checksums</h2><p>When you install, check the container images against these checksums:</p><pre tabindex=0><code>BPMN engine:
registry.gitlab.com/libremfg/bpmn-engine:v3.0.1
sha256:d5395f8a5a342c904367385c7996c1a8936a0eac498822191e0bd3e064dc72d3

Libre Core:
registry.gitlab.com/libremfg/libre-core:v3.0.1
sha256:9c312df6c8c08e41221f6bb68e1d3609db51cf87cc5d6d85f644d452c4617509

Libre Agent:
registry.gitlab.com/libremfg/libre-agent:v3.0.1
sha256:696a9e028ffbca5ca3820fde7223b018e88899719c7b4e784c2e86b921f61615

Libre Audit:
registry.gitlab.com/libremfg/libre-audit:v3.0.1
sha256:718d57c7e7206450bca3337f682c4782cb5222b20ae24b47ed838b5f7f963db3

Libre Audit Postgres
registry.gitlab.com/libremfg/libre-audit/postgres:v3.0.1
sha256:7629dde995db6b22020ab85c68c25be478cf54c7d6d64e5a30aab72d336432f8

Libre BaaS:
registry.gitlab.com/libremfg/baas:v3.0.1
sha256:605513936d88fb09babc7d1b38410c32674d14b6a38db1363fd0e6fbf27aaec3

Libre router init:
registry.gitlab.com/libremfg/libre-router-init:v3.0.1
sha256:32084bd47013974317aa39288c28686084500a8c51a5bfa0b2b135d5a77bb8e6

Libre Keycloak theme:
registry.gitlab.com/libremfg/frontend/libre-keycloak-theme:v3.0.1
sha256:ed9e6cd57d02c5f7177d328f40fd440021432ed874ffb64c765f1a378fd7c08a

Libre Admin UI:
registry.gitlab.com/libremfg/frontend/libre-admin-ui:v3.0.1
sha256:f796ac698ebde6bb5f7dd08bb11246e4658abf2b8d61bf3299cd01f3ae48c19e
</code></pre><p>Download <a href=https://github.com/libremfg/libremfg.github.io/tree/main/content/releases/checksums/v3.0.1-checksums.txt>v3.0.1-checksums.txt</a></p><h2 id=upgrade>Upgrade</h2><div class="notices warning"><span class=type>Back up first</span>
Before upgrading, consider backing up your Rhize services.
To review the procedure, read our <a href=https://docs.rhize.com/deploy/backup>Back up guides</a>.</div><p>To upgrade to v3.0.1, first ensure that you have made corrections for the aforementioned breaking changes.</p><p>Rhize now limits BPMN users to the <code>libreBpmn</code> audience and <code>bpmn:mutation</code> role.
If users do not have this audience and role, they will unable to log in.
To fix this:</p><ol><li>Log in to the Keycloak service in your Rhize environment.</li><li>Select the <code>libre</code> realm.</li><li>Configure the audience and role for the Users or groups that should be able to run BPMN workflows. For details, read <a href=https://docs.rhize.com/deploy/install/keycloak/>Install Keycloak</a>.</li></ol><p>Work calendars now query for <code>workCalendarDefinitions</code>, not <code>workCalendars</code>.
There is a chance this may break some calendars that already exist.
To mitigate this, ensure you set active definitions for the calendars you want to query.
Read <a href=https://docs.rhize.com/how-to/work-calendars/about-calendars-and-overrides/>About calendars and overrides</a> for details about how the service and its relationships work.</p><p>After you&rsquo;ve made the necessary mitigations, follow the upgrade the <a href=https://docs.rhize.com/deploy/upgrade>Upgrade instructions</a>.</p><h3 id=post-upgrade>Post upgrade</h3><p>Two schema changes to the state model also might cause breaking changes after upgrade.
You can correct these issues by re-uploading the data.</p><p>For the specific breaks:</p><p>The <code>StateTransitionInstance</code> entity now has an <code>id</code> and <code>label</code> property.
Any such entities that were created without an ID and label are now invalid.
To mitigate this:</p><ol><li>Query for your <code>StateTransitionInstance</code>:<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gql data-lang=gql><span style=display:flex><span><span style=color:#00f>query</span> <span style=color:#2b91af>QueryStateTransitionInstance</span> {
</span></span><span style=display:flex><span>  <span style=color:#00f>query</span><span style=color:#2b91af>StateTransitionInstance</span> {
</span></span><span style=display:flex><span>    iid
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li><li>Use a <a href=https://docs.rhize.com/how-to/gql/mutate/#update>mutation</a> to update these to have an ID and label.</li></ol><p>Any existing <code>StateModelTransitions</code> using a <code>from</code> or <code>to</code> property will break. Change these to a relationship.</p></article><div class=right-toc><nav id=TableOfContents><ul><li><a href=#changes-by-service>Changes by service</a><ul><li><a href=#audit>Audit</a></li><li><a href=#bpmn>BPMN</a></li><li><a href=#schema>Schema</a></li></ul></li><li><a href=#compatibility>Compatibility</a></li><li><a href=#checksums>Checksums</a></li><li><a href=#upgrade>Upgrade</a><ul><li><a href=#post-upgrade>Post upgrade</a></li></ul></li></ul></nav></div></div></main><script type=text/javascript src=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js></script><script src=https://docs.rhize.com/js/clipboard.min.js></script><script src=https://docs.rhize.com/js/dgraph.js?a9873668f1334ff6c49d4edea0a4bc38></script><script>hljs.initHighlightingOnLoad()</script></body></html>