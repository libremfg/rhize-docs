---
title: 4.2.0
description: Release notes for v4.2.0 of the Rhize application
categories: ["releases"]
weight: 1653202285 ## auto-generated, don't change
---

Release notes for version 4.2.0 of the Rhize application.

_Release date:_
15 Jan 2026

## Changes by service

### Admin

#### Add

- Add "Show Inactive" Toggle / Highlight Rows in Work Directive library
- Add action payload expression to start message event
- Add AG Grid Transaction Support for WorkMaster UI
- Add amplitude auto-capture for UI usage research in docker
- Add asset mapping tab to equipment
- Add BPMN task for SQL query
- Add bulk version management to Work Master grid
- Add class/instance filtering to <resource> selection to work master specifications
- Add copy functionality to work master grid
- Add copy/paste functionality in material specifications grid
- Add datasource topic import from excel
- Add default Mapbox API key
- Add default work type of Production to newly created work masters
- Add dynamic vars to CI/CD pipeline
- Add equipment property mutation and refactor properties component
- Add event tracking to amplitude
- Add import / export of Work Masters to support project lifecycles enabled with environmental variable
- Add inactive filter to data access in specification editors
- Add inline property type editing for equipment class properties
- Add hierarchical view for work masters to improve visual representation
- Add missing description field for Physical Assets
- Add nested properties to Equipment properties page
- Add option to create a work master instance from a pattern
- Add pages for defining Workflow Connection types and Workflow Node Types
- Add persistence to work master editor react flow node locations
- Add quantity to Workflow Specification Grid
- Add restate admin page for subscriptions
- Add sensible defaults for new specifications
- Add storage location to material specifications
- Add support for adding nested properties to Equipment properties
- Add task template for google BigQuery
- Add test specifications to <resource> specification
- Add timerange to audit tag query
- Add tooltip to options in select where tooltip data is available
- Add Work Master Editor user interface
- Add work master versioning support
- Add Workflow Specification Connection Type Management

#### Change

- Change @bpmn-io/element-template-chooser to ^2.0.0 from ^0.1.0
- Change `Dockerfile` for OpenShift compatibility by changing directory ownership
- Change a work master's related Operations Segment to be mutually exclusive with Process Segment and Operations Definition
- Change allowable character set to Workflow Specification Id to `a-zA-Z0-9`
- Change authentication flow to remove client secret from Libre-UI
- Change BPMN view instance list default to last 1 day
- Change builds to use yarn cache for faster pipeline builds
- Change color scheme of work master library to align with site
- Change css for better layout and responsiveness
- Change data source topic creation to include data source ID
- Change datasource topics to use LibreGrid instead of LibreTable
- Change default work master grid to active work masters
- Change download BPMN to allow for foreign characters
- Change Equipment Asset Mapping to use label as primary display and show ID as subtitle
- Change equipment management page to align with existing resource pages
- Change equipment properties table to use AG-Grid
- Change equipment property binding modal to limit search to the first 100 data source topics
- Change equipment property binding to use the propertyPath instead of propertyLabel
- Change equipment tree component to improve loading of large equipment trees in a reasonable time
- Change equipment tree query to default sort ascending
- Change grid component from a Rhize Grid to AG Grid for Equipment, Material Specifications & Material Specification Properties
- Change grid component from a Rhize Grid to AG Grid for Equipment Specification & Equipment Specification Properties
- Change grid component from a Rhize Grid to AG Grid for Personnel Specification & Personnel Specification Properties
- Change grid component from a Rhize Grid to AG Grid for Physical Asset Specification & Physical Asset Specification Properties
- Change hierarchy scope to optional field in workflow specifications
- Change location of the save/reset buttons to the top of specification editors
- Change missing PDF download link to webpage link in Work Calendar
- Change name to mandatory when creating a new Person by disabling create button when no name provided
- Change node selection dropdowns specification editors
- Change page page title based on the screen
- Change parameter specification to use icons instead of text
- Change Physical Asset to allow update when optional fields are left blank
- Change preact to version 10.19.3
- Change property type custom cell type and use in other <resource> class and operations event definition pages
- Change property type to mandatory in the user interface
- Change project to typescript to 5.8.3
- Change schema to align with latest ISA-95 Schema
- Change sort order of process segments to show the newly created one at the top of the list instead of bottom
- Change specification property components to use apollo client directly
- Change specification table to synchronize with unified editor tab access
- Change specification tables to show edit control on left
- Change state management to persist selected workflow nodes across sessions
- Change the graphql playground overlay blocks to align with updated Apollo Playground
- Change titles from resource name to resource name Specification
-[Chore] Change to import alias instead of fully qualified path for column definitions for quality of life development
- Change to the confirm type modal for cancel and delete material specifications actions
- Change Work Master button to display conditionally in the Work Definition Editor
- Change Work Master Editor to reset tabs on initial navigation to page
- Change Work Master Editor to show select popup if selected node or workflow has no link
- Change Work Master Editor to support Workflows and Specifications
- Change Work Master Editor page by refactoring tab management logic into dedicated component for more maintainable interface
- Change Work Master grid to allow orphaned Work Master records to be edited

#### Fix

- Fix ability to edit Equipment Class Property for Locked Versions
- Fix ability to edit Equipment Class Property for Non-Draft Versions
- Fix ability to reset Hierarchy Scope to null in Personnel Class
- Fix adding new equipment class properties not adding parent property relationship
- Fix asset mapping selection defaulting to the top item instead of the selected equipment object
- Fix assets disappear from equipment asset mapping table when changing version state
- Fix async handling in Workflow Specification updates
- Fix attempts to add equipment parent even if none required
- Fix Audit Log tag search
- Fix automatic navigation on newly created version instead of having to manually select it
- Fix BPMN Instance list showing the start-time minute as the month
- Fix BPMN SaveNewVersion not updating the selected version
- Fix disable parent property disables children in Equipment Class & Equipment
- Fix display of no data available in Restate Admin page of Services
- Fix equipment general tab drop downs cache values and not updating on page load with most recent
- Fix caching of existing fields when creating new equipment for the second time
- Fix caching of Workflow Connection Types requiring refresh to see newly created in the list
- Fix caching of Workflow Connection Types requiring refresh to see newly created in the list
- Fix changing equipment state hiding child equipment with equipment tree refactor
- Fix clipping of datasource names in equipment property binding modal
- Fix clone of work master without a workflow specification
- Fix deployment bugs
- Fix dirty check on Spatial Definition & Operational Location if undefined
- Fix disable operational location property disable
- Fix disabled equipment showing when searching using the search bar when inactive toggle is off
- Fix double pagination of dataSourceTopics
- Fix duplicate storage or operational locations in <resource> specification selection
- Fix editing operations event definition version
- Fix equipment asset mapping being added on deprecated Equipment Versions
- Fix equipment asset mapping asset dropdown pre-selection option not saving
- Fix equipment class caching when adding a new equipment class and immediately want to select it in equipment
- Fix equipment class property change throwing 422 error
- Fix equipment class rule race condition when adding an equipment class rule immediately after creating equipment class
- Fix equipment content rendering blank when detail query fails to render to show the page controls just empty
- Fix equipment hierarchy scrolling down halfway through equipment when only a small equipment set present
- Fix equipment hierarchy unknown scrolling depth with large equipment hierarchies
- Fix equipment metadata not displaying
- Fix equipment property ID generation
- Fix equipment sidebar search is case sensitive when searching
- Fix equipment tree sorting not persisting upon reload
- Fix erroneous behavior when allowing dots in Work Flow Specification by disallowing dot character in Work Flow Specification ID
- Fix erroneous behavior when allowing dots in Work Master Id by disallow dot character in Work Master ID
- Fix erroneous behavior when allowing dots in Workflow Connection Type by disallow dot character in Connection Type ID
- Fix erroneous behavior when allowing dots in Workflow Node Type by disallow dot character in Workflow Node Type ID
- Fix for Physical Asset page issue with using 'Enter' to submit variable
- Fix icon clipping in select component by padding
- Fix inability to close expanded view in restate subscription admin page
- Fix inability to set infinite date on equipment asset mapping
- Fix infinite scroll loading/spinner issue in Material Definition sidebar
- Fix inherited equipment class properties not nesting
- Fix issue in Work Master UI where editors were not always showing existing object values
- Fix issue where a workflow specification connection is not refreshed
- Fix issue where Add Workflow button causes loss of node selection in WorkMaster UI
- Fix long data source topic names truncating in equipment property binding modal
- Fix Material Class Property Select all button causing enable/disable function to fail
- Fix mis-labelled specification grid headers
- Fix mismatch between Equipment Asset Mapping fields when editing to what was persisted
- Fix missing meta data in operational location property meta data detail panel
- Fix missing newly added unit of measures in selection for material class properties after being added
- Fix multiple select placeholder text in Unit Of Measure page showing wrong text string
- Fix Node Editor update and save logic to respect Node Type every time
- Fix Operations Event Definition property disable
- Fix Operations Event Definition Work Master drop down empty
- Fix Operations Event Definitions failing to load due to introduction of Work Master Versions
- Fix pagination across all table cell components using LibreTable component
- Fix person version optional fields not maintained after version creation
- Fix Physical Asset Fixed assed it being limited to numbers only
- Fix popup elements rendering too narrow of an aspect ratio
- Fix Process Segment page inverted 'See inactive' toggle
- Fix route parameter for work master to iid in route slugs and navigation
- Fix save not persisting on equipment class version
- Fix SaveAsNewVersion failing for secret variables
- Fix sidebar add equipment
- Fix situation where a user could link a work master to an existing node and appending to the list of work masters for a node instead of replacing it
- Fix specification table's version stub causing navbar failure on other pages
- Fix suppression of DB Error notifications in Work Definition library
- Fix three dot menu obfuscating version number and status, disabling the save and change version state modal
- Fix tree expansion in Equipment hierarchy page
- Fix unlinking of a datasource topic from a bound equipment property
- Fix Version Status Change Error
- Fix Version Status Change Error in Operational Location
- Fix view instance restate OOM by adding limit to BPMN view instance query
- Fix Work Calendar Definition hierarchy scope editing
- Fix Work Definition typo in link error
- Fix Work enable/disable functions to work on selected version in Master Library
- Fix work master specification table performance issue related to effect loop use
- Fix work master definition values not persisting when edited and saved
- Fix workflow auto-save updating a draft version in the backend

#### Remove
- Remove ability to edit a physical asset version when the version failed to create in the first place
- Remove reset button from resource specification tree
- Remove search from ComboboxMultipleSelection in Work Diretive editor
- Remove unused queries
- Remove unused specification search boxes
- Remove Work Directive trailing `/library` from Index URL



### Agent

#### Add

-  Add OPC UA adapter configuration parameters
-  Add check for non-empty password before setting password presence flag
-  Add check for non-empty username before setting username presence flag
-  Add govulncheck
-  Add kakfa egress topic patterns to route data source topics to specific kafka topics
-  Add restate handlers
-  Add support for custom certificate authorities with keycloak
-  Add MQTT qos as a configuration parameter

#### Change

-  Change build binary to rhize-agent from main
-  Change deprecated golang.org/x/exp/rand library to math/rand/v2
-  Change go version
-  Change golang libraries to align with release
-  Change NATS to optional instead of hard requirement
-  Change Rhize service versions to align with release

#### Fix

- Fix golangci-lint errors
- Fix kafka message egress memory leak
- Fix parsing OPC-UA topics into NATs subjects
- Fix vulnerabilities
- Fix race conditions in CI/CD MQTT Tests

### BaaS

#### Add

 - Add @local directive for dgraph @Remote type resolution
 - Add `skipReplacement` option to `@custom` directive to allow for custom resolves not implemented by Runtime
 - Add additional error message context to Transaction Too Big errors
 - Add admin auth to dql & debug paths
 - Add admin resolver for query:lookup, mutation:rollup, mutation:recoverSplitList & mutation:indexRebuild
 - Add authentication token propegation for websocket subscriptions
 - Add BAAS console to facilitate easier administration of BAAS
 - Add custom timeout support to the GraphQL Superflag used for restate calls (default: 1m)
 - Add dgraphtest package
 - Add getPostingAndLengthNoSort for performance improvements when no-sort is required
 - Add graphql subflag flag federation [apollo, restate] to swap federation types (default: restate)
 - Add Graphiql playground to console
 - Add kafka producer maximum message size
 - Add http change-data-capture sink
 - Add ISO8601DateTime data type support
 - Add logging to badger ErrTooBig
 - Add option for custom CA certs to be used when connecting to Keycloak
 - Add resource cleanup
 - Add support for defining single entities in rules
 - Add support for function macros within authorization rules to enable dynamic evalution of permssions of runtime context
 - Add support for Regexp Comparison [no Indexes] in GraphQL Queries and Filters
 - Add websocket transport to allow for to GraphQL Subscriptions

#### Change

 - Change @local field resolution to use a queries alias over the field name where present
 - Change badger to v4 from v3
 - Change benchmark files to use hypermode repo (was dgraph)
 - Change default federation to restate and _Any type to JSONObject
 - Change default scopemap to align with latest ISA-95 structure
 - Change docker images to 28.4.0 in pipeline
 - Change error message for txn too big to give more context
 - Change gqlgen and gqlparser to latest versions
 - Change ioutil to os library equivalents due to library deprecation
 - Change log level of auth rule evaluation to require higher logging level
 - Change NATS Sink handler to support new CDC Format
 - Change postings cache to align with generic declaration in ristretto v2
 - Change postinglistCountAndLength function to improve performance
 - CH-29) Change protobuf for badger and regenerate
 - Change resource evaluator not expanding and matching wildcards under all scenarios
 - Change ristretto to v2 from v1
 - Change scalar _Any to JSONObject
 - Change span trace library to use opentelemetry was opencensus

#### Fix

 - Fix auth query variable names conflicts with user-defined variable names mutations
 - Fix cascade directive field arguments not being coerced to lists
 - Fix compatability issues with Rhize OIDC authentication and dgraphtest package
 - Fix CSRF vulnerability in the apollo playground fetch/render
 - Fix deadlock that happens due to timeout during proposal
 - Fix debug tool for schema keys
 - Fix debug tool to read WAL entries correctly
 - Fix deleteBelowTs rollup issue
 - Fix export for any s3 endpoint
 - Fix golangci-lint, go-vet & go-vuln issues
 - Fix inconsistent time units and prevent erroneous cleanup in incrRollupi Process
 - Fix leaking transactions and file descriptors
 - Fix memory leak in readMIMEHeader by no longer storing call info, context or complexity into an append only in-memory data structure
 - Fix performance issue in type filter
 - Fix raft join failure introduced in raft/v3, RestartNode used instead of StartNode
 - Fix resolution of _Any scalar type by moving from apolloSchemaExtrase to schemaInputs
 - Fix RLAC resources not evaluated correctly
 - Fix search operation by list intersection not subset
 - Fix snapshot to use updated confstate before sending to prevent stale configuration causing errors
 - Fix the conflict in accessing split parts during a rollUp
 - Fix validation panic on type check
 - Fix wal replay issue during rollup
 - Fix wget urls for large datasets in testing pipeline

#### Remove

- Remove ACL and legacy login requirement from dgraphtest package
- Remove Ludicrous mode from postings


### ISA-95

#### Add

 -  Add `/debug/ingress/cache` handler to get and delete cache when running with debug on
 -  Add `overfetch` option to history query, that allows for querying a certain number of records outside the given time range while still respecting the `limit`
 -  Add Audit handlers to ISA-95
 -  Add bypass for Ingress to go direct to Kafka
 -  Add build information to startup
 -  Add check mandatory fields when creating a new version of an object
 -  Add comment syncEquipmentDBtoKV to indicate cache update
 -  Add concurrency to Kafka.ValueDirect Consumer
 -  Add configuration option `RHIZE_ISA95_KAFKA_CONSUMER_COUNT` to run ingress with multiple consumers per topic
 -  Add configuration option `RHIZE_ISA95_LUDICROUS_MODE` to run ingress with common comiter goroutine
 -  Add configuration option `RHIZE_ISA95_VALUECHANGE_TOPIC` to run multiple go-routines per ingress topic
 -  Add context to rule evaluation call
 -  Add default order by when none provided and overfetching
 -  Add default timeouts to restate http2 client to prevent running indefinitely
 -  Add default timeouts to server http handler to prevent running indefinitely
 -  Add Equipment IID to historical records
 -  Add golang pprof port enabled with `RHIZE_ISA95_PPROF_LISTEN`
 -  Add goroutine labels to assist debugging
 -  Add ISO8601DateTime data type scalar to schema definition
 - Add histogram metric for time spent waiting for ingress to read and commit messages
 - Add ludicrous mode to ingress that uses a channels and a goroutine to commit multiple in the background
 - Add metrics to IngressValueChange
 - Add migration for Equipment.equipmentAssetMapping
 - Add missing permission to MutationStatus
 - Add move/rename mutations
 - Add nested equipment property inheritance and bindings
 - Add OIDC Token to restate calls when bypassing restate
 - Add Operations Parameter, Operations Data, Work Parameter and Work Data to schema
 - Add option to bypass saving restate state on every BPMN task execution when calling a BPMN
 - Add otel tracing to ISA-95 microservice
 - Add resolver to bypass restate for equipment history queries to increase performance
 - Add restate handler metrics for observability
 - Add search by equipment level to graph
 - Add search to equipment asset mapping date times
 - Add syncEquipment mutation
 - Add Test Specification Fields to PhysicalAssetSpecification
 - Add TTL to cloud event ingress Value Bindings and Equipment Version cache (10min)
 - Add `update` auth rule to schema
 - Add update bpmn method
 - Add version to schema generation
 - Add work master version references across multiple schemas
 - Add Work Master versioning as per other master data entities
 - Add workflow synchronization mutation
 - Add WorkMasterVersion Service Implementation

#### Change

 - Change cached values to allow nil to prevent constant lookups on value changes without bindings
 - Change CDC Processing to batch changes for performance enhancement
 - Change CI/CD pipeline keycloak to sslRequired=NONE
 - Change CI/CD to use golangci-lint v2
 - Change CreateMaterialDefinitionVersionInput to allow creating with base UoM, properties and material classes
 - Change default token to work new Keycloak v26.4 seeded database
 - Change equipment property history resolver to use ISO8601 datetime (ns support)
 - Change exportJSON to use JSONObect instead of string
 - Change getInformationObjectData to use JSONObject instead of string
 - Change GetInformationObjectDataRequest to return restate terminal error for better restate handling
 - Change golang to v1.24
 - Change Grafana LGTM to 0.11.17
 - Change ingress handler to allow to subscribing to multiple topics
 - Change strategy to only get equipment state when required and from tsClient
 - Change Keycloak to v26.4
 - Change Keycloak seed database to align with Keycloak v26.4
 - Change libraries to latest versions
 - Change metric counter library to otel from prometheus
 - Change OIDC to use rhize-go Library
 - Change queryInstances endpoint for workflow instance log list
 - Change questdb equipment property data schema to use SYMBOL type to reduce storage requirements and improve performance
 - Chang processing of agent data to restate service rather than virtual objects by default
 - Change pipeline services to latest versions
 - Change QuestbDB to v9.1.1
 - Change Redpanda to v25.2.10
 - Change Restate to v1.21.1
 - Change to restate restate.UUID from restate.Rand.UUID to align with client upgrade
-  Change schema resolution of dgraph types in inherited properties to only return IIds and allow dgraph to resolve
 - Change service context span to return new context to allow for nested spans
 - Change various golang libraries to latest minor/bugfix release

#### Fix

 - Fix cache population on map value
 - Fix Calendar generation not scheduling itself
 - Fix concurrent map read/write
 - Fix equipment property data schema for QuestDB to Use SYMBOL Type
 - Fix goroutine leak by upgrading restate sdk-go to v0.18.1
 - Fix inconsistent isa95.equipment restate key usage
 - Fix Inconsistent Key Usage in Topic Bindings
 - Fix memory usage of inherited properties by using @local directive on local return types
 - Fix metrics endpoint resolver
 - Fix must not query state unless a service_key is provided in the WHERE clause
 - Fix non-pointer binding and ensure correct content-type is passed to restate based on body content
 - Fix optional fields value missing after version creation of a Person
 - Fix restate OOM by changing default schema to use int limits and require datetimes for queryInstances
 - Fix several security vulnerabilities in event catalog

#### Remove

 - Remove excess information being stored in equipment active version
 - Remove over-fetched data for inherited equipment properties
 - Remove tests that are specific to old combined WorkMaster header/version structure

### Typescript host service

#### Add

- Add parsed json to jsonata return type

#### Change

- Change pipeline release step to use docker v29.0
- Change restate sdk version to 1.9.0

### Workflow

#### Add
 - Add a struct for type Rule Evaluation Payload Context
 - Add action payload expressions to workflow definition outputs to allow UI to display the existing value
 - Add blank rule expression just to evaluate the struct instead to increase rule evaluation performance (this skips the need for communicating with the type script service for eval)
 - Add cache of workflow specifications
 - Add debug message for rule evaluation
 - Add documentation on `CreateAndRun` function for the `BPMN` restate service
 - Add error logging for binding failures
 - Add expand env vars to JSONata service task transform & input
 - Add foreign character support to BPMNs
 - Add function to rebind message start event triggers
 - Add instance node logging
 - Add instance node log delete function for cleanup of logging
 - Add Intermediate catch via message start back in
 - Add option to specify BPMN version on CreateAndRun handler
 - Add option to run workflow without restate
 - Add process documentation as description when marshalling and the inverse when unmarshalling to xml
 - Add restate metrics to support debugging and performance analysis
 - Add round-robin load balancing for typescript host in HA environments
 - Add schema validation function back in
 - Add SQL Task Handler for PostgreSQL
 - Add support for saving bpmn extension properties as workflow spec properties
 - Add task Data Source Method Call back in
 - Add task handler for GoogleBigQuery
 - Add Update BPMN restate handler
 - Add Update Workflow Specification Property handler
 - Add validation logic to update BPMN timers
 - Add validation to the SQL Playground sql query to prevent full table scans of value or value_utf8 fields
 - Add workflow id search in instance query
 - Add workflow instance log list as queryInstances end point

#### Change

- Change /healthz definition to inline defined for readability
- Change BPMN loading for SQL tasks to accept inputs for `url`, `query`, `args`, and `responseTransformExpression`.
- Change BPMNService to initialize with a query/mutation adapter instead of creating one every time
- Change `buildActionPayload` to always treat expressions as non-constant, due to issues with the UI
- Change completed workflow buffer when equal to or greater than 10
- Change connection string logging to use slog for consistency
- Change `createAndRunBpmn` strategy to fallback to database query when workflow specification not found
- Change datasource task to route via restate instead of NATS
- Change dependencies to align with release
- Change DQL, GraphQL & RestAPI Task HTTP Clients to use common client with shared Certificate Authority pool to allow for external certificate use
- Change error messages to restate terminalize errors
- Change event message start to trigger off of rule-definition bound to datasource topic instead in restate instead of Kafka Topic
- Change golang libraries to align with release
- Change instance filter to filter out un-versioned, un-started or un-ended instances
- Change JSONata-go version
- Change JSONata errors to terminalize back to restate instead of panic'ing
- Change JSONata resolution to use typescript microservice implementation instead of golangs
- Change Kafka implementation to allow use of Redpanda
- Change log usage to slog in main.go for consistency
- Change RestateSDK to 0.18.1
- Change rule evaluation error messages to wrap additional context before erroring
- Change versions of filippo/age
- Change versions of golang.org/x/exp
- Change versions of golang-jwt and golang.org/x/net
- Change workflow to clear token on abort to prevent a loop
- Change workflow to only handle Message/Timer starts on start nodes (i.e. filter out the others)

#### Fix

- Fix an issue where `buildActionPayload` would overwrite inputs before sending it to typescript-host-service
- Fix bpmn timer disable
- Fix CI pipeline failure due to creating a datasource with curl compressed
- Fix duplicate subscriptions from ever being created on message start events
- Fix error where an end node would be displayed as a failed node
- Fix http protocols served by Workflow
-Fix lint issues
- Fix metrics complete not finding any instances due to incorrect key from complete token method
- Fix node errors shown in View Instance UI
- Fix platform state SQL playground error
- Fix sync bpmn service to include case where workflow does not have a virtual object
- Fix workflownode automated delete to use node.NodeID instead of the restate key &  NodeID

#### Remove

- Remove Ingress BAAS CDC handler from Workflow
- Remove unused duplicated fromBpmnXML
- Remove unused/commented out code
- Remove azure client information in agent test configuration





The following sections document the changes this release brings to each service.


## Compatibility

{{< compatible "4.2.0" >}}

## Checksums

{{% checksums "v4.2.0-checksums.txt"  %}}

## Upgrade

To upgrade to v4.2.0, follow the [Upgrade instructions](/deploy/upgrade).
