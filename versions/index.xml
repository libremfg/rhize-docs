<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Rhize documentation – Documentation archive</title><link>https://docs.rhize.com/versions/</link><description>Recent content in Documentation archive on Rhize documentation</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Mon, 04 Aug 2025 11:45:10 -0400</lastBuildDate><atom:link href="https://docs.rhize.com/versions/index.xml" rel="self" type="application/rss+xml"/><item><title>What is Rhize?</title><link>https://docs.rhize.com/versions/v3.0.3/get-started/introduction/</link><pubDate>Tue, 26 Sep 2023 12:25:46 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.0.3/get-started/introduction/</guid><description>
&lt;p>Rhize is a real-time, event-driven &lt;a href="https://docs.rhize.com/versions/v3.0.3/explanations/manufacturing-data-hub/" >manufacturing data hub&lt;/a>.
It unites data analysis, event monitoring, and process execution in one platform.
Its interface and architecture is designed to conform to your processes.
We assume nothing about what your manufacturing workflows look like.&lt;/p>
&lt;p>Rhize has only one strong opinion: all manufacturing objects and data must be modeled on the &lt;a href="https://www.isa.org/standards-and-publications/isa-standards/isa-standards-committees/isa95" target="_blank" rel="noopener">ISA-95 standard&lt;/a>.
This standards-based schema is how Rhize connects every data event across an entire operation.
If you aren&amp;rsquo;t an ISA-95 fan, we&amp;rsquo;re happy to convert you, but adoption is a requirement to use the platform.&lt;/p>
&lt;p>And if you do adopt ISA-95, you open your organization to Rhize&amp;rsquo;s far-reaching transformations.&lt;/p>
&lt;h2>A data hub for manufacturing&lt;span class="hx:absolute hx:-mt-20" id="a-data-hub-for-manufacturing">&lt;/span>
&lt;a href="#a-data-hub-for-manufacturing" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Rhize is a data hub that collects, stores, integrates, and processes data from your manufacturing system.
Rhize accepts the &lt;em>event&lt;/em> as the driver of change in manufacturing state.
Its architecture is designed to receive and process message events emitted from the operation in real time.&lt;/p>
&lt;p>To make each event coherent in the context of all others, it must conform to a standard.
Rhize uses the ISA-95 standard as its data model, and the database schema is the most complete digital representation of ISA-95 in the world.
The flexibility of ISA-95 scales to an entire enterprise operation, and future changes in processes require no ad-hoc changes of the schema.&lt;/p>
&lt;p>The database represents data as a single graph, a structure ideally suited for the association of nodes and edges inherent in ISA-95.
The database is exposed through a single GraphQL endpoint.
Besides keeping the interface small, the GraphQL query language coheres exactly with the underlying graph model.&lt;/p>
&lt;p>The API is totally open, meaning that your operators can use it as a backend to build any MES, MOM, and data-science applications that they want.
Rhize also has a built-in low-code BPMN workflow creator, so operators can write logic to handle event data with only API calls and JSON transformation.&lt;/p>
&lt;p>Finally, Rhize&amp;rsquo;s architecture supports distributed deployment, and its components are loosely coupled microservices.
This clustered approach is necessary for organizations to scale horizontally and maintain high reliability.&lt;/p>
&lt;h2>A tool that fits to your processes&lt;span class="hx:absolute hx:-mt-20" id="a-tool-that-fits-to-your-processes">&lt;/span>
&lt;a href="#a-tool-that-fits-to-your-processes" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The development of Rhize is the culmination of decades of experience from real practitioners.
We know that manufacturing is messy, and each process has thousands of particulars.
Even within the same company and segment, processes frequently differ from site to site.&lt;/p>
&lt;p>Our design philosophy empowers manufacturing operators to shape their tool for their work demands.
Some examples of the flexibility include:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>A headless MES&lt;/strong>. While Rhize has a graphical interface, all data is reachable through a single API endpoint. This means your teams can rapidly build custom frontends―and do it with the most comfortable API for frontend development, GraphQL.&lt;/li>
&lt;li>&lt;strong>Low-code interface&lt;/strong>. Model your schema and execute processes using BPMN, a visual programming language. The visual interface makes Rhize and your manufacturing automation accessible to the widest possible audience.&lt;/li>
&lt;li>&lt;strong>Generic data collection&lt;/strong>. Rhize receives data from all levels of the manufacturing process. The &lt;a href="https://nats.io" target="_blank" rel="noopener">NATS&lt;/a> broker publishes and subscribes to low-level data from &lt;a href="https://mqtt.org/" target="_blank" rel="noopener">MQTT&lt;/a> and &lt;a href="https://opcfoundation.org/about/opc-technologies/opc-ua/" target="_blank" rel="noopener">OPC-UA&lt;/a>, but the database can also receive ERP inventories and documents sent over HTTP.&lt;/li>
&lt;/ul>
&lt;p>&lt;a href="https://docs.rhize.com/versions/v3.0.3/use-cases/" >Read about use cases&lt;/a>.&lt;/p>
&lt;h2>Modern IT for manufacturing&lt;span class="hx:absolute hx:-mt-20" id="modern-it-for-manufacturing">&lt;/span>
&lt;a href="#modern-it-for-manufacturing" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Rhize&amp;rsquo;s system design is flexible, practical, and built on modern tools and practices:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>All data is accessible through a single endpoint.&lt;/strong>
While the data collected and processed may span multiple segments, events, units, areas, and even plants, all data is stored in a graph database and exposed through a &lt;a href="https://graphql.org" target="_blank" rel="noopener">GraphQL&lt;/a> interface.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Automated and containerized deployment.&lt;/strong>
Rhize brings innovations from DevOps to manufacturing.
In practice, this means that Rhize is interoperable with whatever system the manufacturer uses,
deployment is version-controlled, and your system can use rolling upgrades with zero downtime.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Built on open standards.&lt;/strong>
Rhize is based on open standards, like ISA-95, and open protocols, like MQTT.
Open industry standards and protocols ensure that the application and your manufacturing processes speak a common language.
Rhize heavily uses open-source software, which brings interoperability, reduced vendor lock, and robust tooling ecosystems.&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>What is Rhize?</title><link>https://docs.rhize.com/versions/v3.1.0/get-started/introduction/</link><pubDate>Tue, 26 Sep 2023 12:25:46 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.1.0/get-started/introduction/</guid><description>
&lt;p>Rhize is a real-time, event-driven &lt;a href="https://docs.rhize.com/versions/v3.1.0/explanations/manufacturing-data-hub/" >manufacturing data hub&lt;/a>.
It unites data analysis, event monitoring, and process execution in one platform.
Its interface and architecture are designed to conform to your processes.
We assume nothing about what your operations looks like.&lt;/p>
&lt;p>Rhize has only one strong opinion: all manufacturing objects and data must be modeled on the &lt;a href="https://www.isa.org/standards-and-publications/isa-standards/isa-standards-committees/isa95" target="_blank" rel="noopener">ISA-95 standard&lt;/a>.
This standards-based schema is how Rhize connects every data event across an entire operation.
If you aren&amp;rsquo;t an ISA-95 fan, we&amp;rsquo;re happy to convert you, but you must adopt it to use the platform.&lt;/p>
&lt;p>And if you do adopt ISA-95, you open your organization to Rhize&amp;rsquo;s far-reaching transformations.&lt;/p>
&lt;h2>A data hub for manufacturing&lt;span class="hx:absolute hx:-mt-20" id="a-data-hub-for-manufacturing">&lt;/span>
&lt;a href="#a-data-hub-for-manufacturing" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Rhize is a data hub that collects, stores, integrates, and processes data from your manufacturing system.
Rhize accepts the &lt;em>event&lt;/em> as the driver of change in a manufacturing operation.
Its architecture is designed to receive and process message events emitted from the operation in real time.&lt;/p>
&lt;p>To make each event coherent in the context of all others, the event object must conform to a standard.
Rhize uses the ISA-95 standard as its data model, and the database schema is the most complete digital representation of ISA-95 in the world.
The flexibility of ISA-95 scales to an entire enterprise operation, and future changes in processes require no ad-hoc changes of the schema.&lt;/p>
&lt;p>The database represents data as a single graph, a structure ideally suited for the node and edge associations inherent in ISA-95.
The database is exposed through a single GraphQL endpoint.
Besides keeping the interface small, the GraphQL query language aligns exactly with the underlying graph model.&lt;/p>
&lt;p>The API is completely open. Your operators can use it as a backend to build any MES, MOM, and data-science applications they want.
Rhize also has a built-in low-code BPMN workflow creator, so operators can write logic to handle event data using only API calls and JSON transformation.&lt;/p>
&lt;p>Rhize&amp;rsquo;s architecture supports distributed deployment, and its components are loosely coupled microservices.
This clustered approach is necessary for organizations to scale horizontally and maintain high reliability.&lt;/p>
&lt;h2>A tool that fits to your processes&lt;span class="hx:absolute hx:-mt-20" id="a-tool-that-fits-to-your-processes">&lt;/span>
&lt;a href="#a-tool-that-fits-to-your-processes" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The development of Rhize is the culmination of decades of experience from real practitioners.
We know manufacturing is messy, and each process has thousands of particulars.
Even within the same company and segment, processes often differ from site to site.&lt;/p>
&lt;p>Our design philosophy empowers manufacturing operators to shape their tool for their work demands.
Some examples of the flexibility include:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>A headless MES&lt;/strong>. While Rhize has a graphical interface, all data is reachable through a single API endpoint. This means your teams can rapidly build custom frontends―and do it with the most comfortable API for frontend development, GraphQL.&lt;/li>
&lt;li>&lt;strong>Low-code interface&lt;/strong>. Model your schema and execute processes using BPMN, a visual programming language. The visual interface makes Rhize and your manufacturing automation accessible to the widest possible audience.&lt;/li>
&lt;li>&lt;strong>Generic data collection&lt;/strong>. Rhize receives data from all levels of the manufacturing process. The &lt;a href="https://nats.io" target="_blank" rel="noopener">NATS&lt;/a> broker publishes and subscribes to low-level data from &lt;a href="https://mqtt.org/" target="_blank" rel="noopener">MQTT&lt;/a> and &lt;a href="https://opcfoundation.org/about/opc-technologies/opc-ua/" target="_blank" rel="noopener">OPC-UA&lt;/a>, but the database can also receive ERP inventories and documents sent over HTTP.&lt;/li>
&lt;/ul>
&lt;p>&lt;a href="https://docs.rhize.com/versions/v3.1.0/use-cases/" >Read about use cases&lt;/a>.&lt;/p>
&lt;h2>Modern IT for manufacturing&lt;span class="hx:absolute hx:-mt-20" id="modern-it-for-manufacturing">&lt;/span>
&lt;a href="#modern-it-for-manufacturing" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Rhize&amp;rsquo;s system design is flexible, practical, and built on modern tools and practices:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>All data is accessible through a single endpoint.&lt;/strong>
While the data collected and processed may span multiple segments, events, units, areas, and even plants, all data is stored in a graph database and exposed through a &lt;a href="https://graphql.org" target="_blank" rel="noopener">GraphQL&lt;/a> interface.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Automated and containerized deployment.&lt;/strong>
Rhize brings innovations from DevOps to manufacturing.
In practice, this means that Rhize is interoperable with whatever system the manufacturer uses,
deployment is version-controlled, and your system can use rolling upgrades with zero downtime.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Built on open standards.&lt;/strong>
Rhize is based on open standards, like ISA-95, and open protocols, like MQTT.
Open industry standards and protocols ensure that the application and your manufacturing processes speak a common language.
Rhize heavily uses open-source software, which brings interoperability, reduced vendor lock, and robust tooling ecosystems.&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>What is Rhize?</title><link>https://docs.rhize.com/versions/v3.2.0/get-started/introduction/</link><pubDate>Tue, 26 Sep 2023 12:25:46 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.2.0/get-started/introduction/</guid><description>
&lt;p>Rhize is a real-time, event-driven &lt;a href="https://docs.rhize.com/versions/v3.2.0/explanations/manufacturing-data-hub/" >manufacturing data hub&lt;/a>.
It unites data analysis, event monitoring, and process execution in one platform.
Its interface and architecture are designed to conform to your processes.
We assume nothing about what your operations looks like.&lt;/p>
&lt;p>Rhize has only one strong opinion: all manufacturing objects and data must be modeled on the &lt;a href="https://www.isa.org/standards-and-publications/isa-standards/isa-standards-committees/isa95" target="_blank" rel="noopener">ISA-95 standard&lt;/a>.
This standards-based schema is how Rhize connects every data event across an entire operation.
If you aren&amp;rsquo;t an ISA-95 fan, we&amp;rsquo;re happy to convert you, but you must adopt it to use the platform.&lt;/p>
&lt;p>And if you do adopt ISA-95, you open your organization to Rhize&amp;rsquo;s far-reaching transformations.&lt;/p>
&lt;h2>A data hub for manufacturing&lt;span class="hx:absolute hx:-mt-20" id="a-data-hub-for-manufacturing">&lt;/span>
&lt;a href="#a-data-hub-for-manufacturing" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Rhize is a data hub that collects, stores, integrates, and processes data from your manufacturing system.
Rhize accepts the &lt;em>event&lt;/em> as the driver of change in a manufacturing operation.
Its architecture is designed to receive and process message events emitted from the operation in real time.&lt;/p>
&lt;p>To make each event coherent in the context of all others, the event object must conform to a standard.
Rhize uses the ISA-95 standard as its data model, and the database schema is the most complete digital representation of ISA-95 in the world.
The flexibility of ISA-95 scales to an entire enterprise operation, and future changes in processes require no ad-hoc changes of the schema.&lt;/p>
&lt;p>The database represents data as a single graph, a structure ideally suited for the node and edge associations inherent in ISA-95.
The database is exposed through a single GraphQL endpoint.
Besides keeping the interface small, the GraphQL query language aligns exactly with the underlying graph model.&lt;/p>
&lt;p>The API is completely open. Your operators can use it as a backend to build any MES, MOM, and data-science applications they want.
Rhize also has a built-in low-code BPMN workflow creator, so operators can write logic to handle event data using only API calls and JSON transformation.&lt;/p>
&lt;p>Rhize&amp;rsquo;s architecture supports distributed deployment, and its components are loosely coupled microservices.
This clustered approach is necessary for organizations to scale horizontally and maintain high reliability.&lt;/p>
&lt;h2>A tool that fits to your processes&lt;span class="hx:absolute hx:-mt-20" id="a-tool-that-fits-to-your-processes">&lt;/span>
&lt;a href="#a-tool-that-fits-to-your-processes" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The development of Rhize is the culmination of decades of experience from real practitioners.
We know manufacturing is messy, and each process has thousands of particulars.
Even within the same company and segment, processes often differ from site to site.&lt;/p>
&lt;p>Our design philosophy empowers manufacturing operators to shape their tool for their work demands.
Some examples of the flexibility include:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>A headless MES&lt;/strong>. While Rhize has a graphical interface, all data is reachable through a single API endpoint. This means your teams can rapidly build custom frontends―and do it with the most comfortable API for frontend development, GraphQL.&lt;/li>
&lt;li>&lt;strong>Low-code interface&lt;/strong>. Model your schema and execute processes using BPMN, a visual programming language. The visual interface makes Rhize and your manufacturing automation accessible to the widest possible audience.&lt;/li>
&lt;li>&lt;strong>Generic data collection&lt;/strong>. Rhize receives data from all levels of the manufacturing process. The &lt;a href="https://nats.io" target="_blank" rel="noopener">NATS&lt;/a> broker publishes and subscribes to low-level data from &lt;a href="https://mqtt.org/" target="_blank" rel="noopener">MQTT&lt;/a> and &lt;a href="https://opcfoundation.org/about/opc-technologies/opc-ua/" target="_blank" rel="noopener">OPC-UA&lt;/a>, but the database can also receive ERP inventories and documents sent over HTTP.&lt;/li>
&lt;/ul>
&lt;p>&lt;a href="https://docs.rhize.com/versions/v3.2.0/use-cases/" >Read about use cases&lt;/a>.&lt;/p>
&lt;h2>Modern IT for manufacturing&lt;span class="hx:absolute hx:-mt-20" id="modern-it-for-manufacturing">&lt;/span>
&lt;a href="#modern-it-for-manufacturing" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Rhize&amp;rsquo;s system design is flexible, practical, and built on modern tools and practices:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>All data is accessible through a single endpoint.&lt;/strong>
While the data collected and processed may span multiple segments, events, units, areas, and even plants, all data is stored in a graph database and exposed through a &lt;a href="https://graphql.org" target="_blank" rel="noopener">GraphQL&lt;/a> interface.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Automated and containerized deployment.&lt;/strong>
Rhize brings innovations from DevOps to manufacturing.
In practice, this means that Rhize is interoperable with whatever system the manufacturer uses,
deployment is version-controlled, and your system can use rolling upgrades with zero downtime.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Built on open standards.&lt;/strong>
Rhize is based on open standards, like ISA-95, and open protocols, like MQTT.
Open industry standards and protocols ensure that the application and your manufacturing processes speak a common language.
Rhize heavily uses open-source software, which brings interoperability, reduced vendor lock, and robust tooling ecosystems.&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>Overview of use cases</title><link>https://docs.rhize.com/versions/v3.0.3/use-cases/overview/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.rhize.com/versions/v3.0.3/use-cases/overview/</guid><description>
&lt;p>Rhize&amp;rsquo;s flexible, event-centric architecture serves many functions.
While Rhize has components that can replace an &lt;abbr title="Manufacturing execution system. A system in a manufacturing process that tracks and documents the transformation of raw materials to finished goods">MES&lt;/abbr>, historian, andon, and real-time monitoring solutions,
it can complement them just as well.
You can map data from an MES or &lt;abbr title="Enterprise resource planning. Software to manage business processes. In Rhize, ERP activities usually are named &amp;#34;operations&amp;#34;, where lower-level activities are prefixed with &amp;#34;Work&amp;#34;.">ERP&lt;/abbr> into the database, creating a coherent data model to unite your operations IT.&lt;/p>
&lt;p>Besides better performance and flexibility, Rhize has far tighter integration of plant and system data.
Yet, its data model is generic enough to conform to may use cases, chiefly:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>A manufacturing knowledge graph&lt;/strong>. Query the entire context and history of the operation.&lt;/li>
&lt;li>&lt;strong>Headless MES or MOM&lt;/strong>. Use the API to build custom applications for a variety of MES and MOM activities.&lt;/li>
&lt;li>&lt;strong>An event handler&lt;/strong>. Receive manufacturing message streams and react to them.&lt;/li>
&lt;/ul>
&lt;p>Of course, each of these use cases has many uses cases.
These use cases of Rhize are already implemented in discrete, continuous, and batch manufacturing operations.&lt;/p>
&lt;h2>Manufacturing knowledge graph&lt;span class="hx:absolute hx:-mt-20" id="manufacturing-knowledge-graph">&lt;/span>
&lt;a href="#manufacturing-knowledge-graph" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>All data that Rhize collects, whether from sensors or an ERP, is contextual and interconnected. Rather than a relational database, Rhize uses a graph database, where any node can link to any other, and users can query any data combination, without requiring complex joins.&lt;/p>
&lt;p>The graph database unlocks new possibilities for manufacturing analysis and data science.
For example:&lt;/p>
&lt;ul>
&lt;li>Run queries to find anomalies in an operation&amp;mdash;which may trace to a specific site, segment, equipment, material lot, personnel, and so on.&lt;/li>
&lt;li>Discover places to optimize the system, whether they are bottlenecks to remove or highly productive areas to replicate&lt;/li>
&lt;li>Train deep-learning models to detect conditions that lead to batch failures.&lt;/li>
&lt;li>Use the historical record as a model to run simulations of new events&lt;/li>
&lt;/ul>
&lt;p>Guide: &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/gql/" >Use the knowledge graph&lt;/a>&lt;/p>
&lt;h2>Headless MES or MOM&lt;span class="hx:absolute hx:-mt-20" id="headless-mes-or-mom">&lt;/span>
&lt;a href="#headless-mes-or-mom" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Rhize serves as a backend to create custom applications to replace traditional MES or MOM systems.
Rather than force its opinion of what an MES interface should look like, Rhize provides the only data model, API, and BPMN engine.
Your frontend teams can then use the tools of their choice to make the MES designed for your use case, with all the backend work delegated to Rhize&amp;rsquo;s normal operation features.&lt;/p>
&lt;p>With the combination of its event-driven architecture and unified data model, Rhize can:&lt;/p>
&lt;ul>
&lt;li>calculate OEE, or far more granular metrics&lt;/li>
&lt;li>Handle schedules and maintenance orders&lt;/li>
&lt;li>Track and trace material&lt;/li>
&lt;li>Execute dynamic workflows.&lt;/li>
&lt;/ul>
&lt;p>Besides building bespoke frontends, many operators choose to integrate Rhize with low-code systems like Appsmith.
For some problems, lowcode models can reduce the time to create applications dramatically, making it easier to create and test prototypes, involve more stakeholders in the application design process, iterate on working models, and generally do useful things more quickly.&lt;/p>
&lt;p>Guides: &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/model/" >Model production&lt;/a>, &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/publish-subscribe/" >Connect process data&lt;/a>.&lt;/p>
&lt;h2>Real-time event handling&lt;span class="hx:absolute hx:-mt-20" id="real-time-event-handling">&lt;/span>
&lt;a href="#real-time-event-handling" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The fundamental design of Rhize is low-latency and event-driven.
Rhize can collect and monitor data from protocols like MQTT and OPC-UA.&lt;/p>
&lt;p>Rhize also has components to monitor and react to this data stream, ensuring that you can stop problems early—and program corrective measures to execute automatically.
Event orchestration is handled through &lt;abbr title="Business Process Model and Notation. A standardized graphical notation used to represent business processes in an intuitive, visual way. Rhize&amp;#39;s BPMN UI and engine provides a low-code interface for complex event handling">BPMN&lt;/abbr>, a low-code interface that can listen for events and initiate conditional flows.&lt;/p>
&lt;p>Guide: &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/" >Handle events&lt;/a>&lt;/p>
&lt;h2>Calculating OEE&lt;span class="hx:absolute hx:-mt-20" id="calculating-oee">&lt;/span>
&lt;a href="#calculating-oee" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Rhize includes an optional KPI service which can calculate OEE. Using a combintion of Rhize Workflows and Real-time event handling. Data can be transformed and persisted to a time series database in a format that allows the KPI sercvice to calculate key metrics.&lt;/p>
&lt;p>Guide: &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/kpi-service/" >KPI Service&lt;/a>&lt;/p></description></item><item><title>Overview of use cases</title><link>https://docs.rhize.com/versions/v3.1.0/use-cases/overview/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.rhize.com/versions/v3.1.0/use-cases/overview/</guid><description>
&lt;p>Rhize&amp;rsquo;s flexible, event-centric architecture serves many functions.
While Rhize has components that can replace an &lt;abbr title="Manufacturing execution system. A system in a manufacturing process that tracks and documents the transformation of raw materials to finished goods">MES&lt;/abbr>, historian, andon, and real-time monitoring solutions,
it can complement them equally well.
You can map data from an MES or &lt;abbr title="Enterprise resource planning. Software to manage business processes. In Rhize, ERP activities usually are named &amp;#34;operations&amp;#34;, where lower-level activities are prefixed with &amp;#34;Work&amp;#34;.">ERP&lt;/abbr> into the database to create a coherent data model that unites your operations IT.&lt;/p>
&lt;p>Besides better performance and flexibility, Rhize provides tighter integration of plant and system data.
Its data model is generic enough to conform to many use cases, chiefly:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>A manufacturing knowledge graph&lt;/strong>. Query the entire context and history of the operation.&lt;/li>
&lt;li>&lt;strong>Headless MES or MOM&lt;/strong>. Use the API to build custom applications for a variety of MES and MOM activities.&lt;/li>
&lt;li>&lt;strong>An event handler&lt;/strong>. Receive manufacturing message streams and react to them.&lt;/li>
&lt;/ul>
&lt;h2>Manufacturing knowledge graph&lt;span class="hx:absolute hx:-mt-20" id="manufacturing-knowledge-graph">&lt;/span>
&lt;a href="#manufacturing-knowledge-graph" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>All data that Rhize collects, whether from sensors or an ERP, is contextual and interconnected. Rather than a relational database, Rhize uses a graph database where any node can link to any other. Users can query any data combination without requiring complex joins.&lt;/p>
&lt;p>The graph database unlocks new possibilities for manufacturing analysis and data science.
For example:&lt;/p>
&lt;ul>
&lt;li>Run queries to find anomalies in an operation&amp;mdash;which may trace to a specific site, segment, equipment, material lot, personnel, and so on.&lt;/li>
&lt;li>Discover places to optimize the system, whether they are bottlenecks to remove or highly productive areas to replicate&lt;/li>
&lt;li>Train deep-learning models to detect conditions that lead to batch failures.&lt;/li>
&lt;li>Use the historical record as a model to run simulations of new events&lt;/li>
&lt;/ul>
&lt;p>Guide: &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/gql/" >Use the knowledge graph&lt;/a>&lt;/p>
&lt;h2>Headless MES or MOM&lt;span class="hx:absolute hx:-mt-20" id="headless-mes-or-mom">&lt;/span>
&lt;a href="#headless-mes-or-mom" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Rhize serves as a backend to create custom applications to replace traditional MES or MOM systems.
Rather than force its opinion of what an MES interface should look like, Rhize provides the only data model, API, and BPMN engine.
Your frontend teams can then use the tools of their choice to make the MES designed for your use case, with all the backend work delegated to Rhize&amp;rsquo;s normal operation features.&lt;/p>
&lt;p>With the combination of its event-driven architecture and unified data model, Rhize can:&lt;/p>
&lt;ul>
&lt;li>calculate OEE, or far more granular metrics&lt;/li>
&lt;li>Handle schedules and maintenance orders&lt;/li>
&lt;li>Track and trace material&lt;/li>
&lt;li>Execute dynamic workflows.&lt;/li>
&lt;/ul>
&lt;p>Besides building bespoke frontends, many operators choose to integrate Rhize with low-code systems like Appsmith.
For some problems, lowcode models can reduce the time to create applications dramatically, making it easier to create and test prototypes, involve more stakeholders in the application design process, iterate on working models, and generally do useful things more quickly.&lt;/p>
&lt;p>Guides: &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/model/" >Model production&lt;/a>, &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/publish-subscribe/" >Connect process data&lt;/a>.&lt;/p>
&lt;h2>Real-time event handling&lt;span class="hx:absolute hx:-mt-20" id="real-time-event-handling">&lt;/span>
&lt;a href="#real-time-event-handling" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The fundamental design of Rhize is low-latency and event-driven.
Rhize can collect and monitor data from protocols like MQTT and OPC-UA.&lt;/p>
&lt;p>Rhize also has components to monitor and react to this data stream, ensuring that you can stop problems early—and program corrective measures to execute automatically.
Event orchestration is handled through &lt;abbr title="Business Process Model and Notation. A standardized graphical notation used to represent business processes in an intuitive, visual way. Rhize&amp;#39;s BPMN UI and engine provides a low-code interface for complex event handling">BPMN&lt;/abbr>, a low-code interface that can listen for events and initiate conditional flows.&lt;/p>
&lt;p>Guide: &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/" >Handle events&lt;/a>&lt;/p>
&lt;h2>Calculating OEE&lt;span class="hx:absolute hx:-mt-20" id="calculating-oee">&lt;/span>
&lt;a href="#calculating-oee" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Rhize includes an optional KPI service which can calculate OEE. Using a combintion of Rhize Workflows and Real-time event handling. Data can be transformed and persisted to a time series database in a format that allows the KPI sercvice to calculate key metrics.&lt;/p>
&lt;p>Guide: &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/kpi-service/" >KPI Service&lt;/a>&lt;/p></description></item><item><title>Overview of use cases</title><link>https://docs.rhize.com/versions/v3.2.0/use-cases/overview/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.rhize.com/versions/v3.2.0/use-cases/overview/</guid><description>
&lt;p>Rhize&amp;rsquo;s flexible, event-centric architecture serves many functions.
While Rhize has components that can replace an &lt;abbr title="Manufacturing execution system. A system in a manufacturing process that tracks and documents the transformation of raw materials to finished goods">MES&lt;/abbr>, historian, andon, and real-time monitoring solutions,
it can complement them equally well.
You can map data from an MES or &lt;abbr title="Enterprise resource planning. Software to manage business processes. In Rhize, ERP activities usually are named &amp;#34;operations&amp;#34;, where lower-level activities are prefixed with &amp;#34;Work&amp;#34;.">ERP&lt;/abbr> into the database to create a coherent data model that unites your operations IT.&lt;/p>
&lt;p>Besides better performance and flexibility, Rhize provides tighter integration of plant and system data.
Its data model is generic enough to conform to many use cases, chiefly:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>A manufacturing knowledge graph&lt;/strong>. Query the entire context and history of the operation.&lt;/li>
&lt;li>&lt;strong>Headless MES or MOM&lt;/strong>. Use the API to build custom applications for a variety of MES and MOM activities.&lt;/li>
&lt;li>&lt;strong>An event handler&lt;/strong>. Receive manufacturing message streams and react to them.&lt;/li>
&lt;/ul>
&lt;h2>Manufacturing knowledge graph&lt;span class="hx:absolute hx:-mt-20" id="manufacturing-knowledge-graph">&lt;/span>
&lt;a href="#manufacturing-knowledge-graph" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>All data that Rhize collects, whether from sensors or an ERP, is contextual and interconnected. Rather than a relational database, Rhize uses a graph database where any node can link to any other. Users can query any data combination without requiring complex joins.&lt;/p>
&lt;p>The graph database unlocks new possibilities for manufacturing analysis and data science.
For example:&lt;/p>
&lt;ul>
&lt;li>Run queries to find anomalies in an operation&amp;mdash;which may trace to a specific site, segment, equipment, material lot, personnel, and so on.&lt;/li>
&lt;li>Discover places to optimize the system, whether they are bottlenecks to remove or highly productive areas to replicate&lt;/li>
&lt;li>Train deep-learning models to detect conditions that lead to batch failures.&lt;/li>
&lt;li>Use the historical record as a model to run simulations of new events&lt;/li>
&lt;/ul>
&lt;p>Guide: &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/gql/" >Use the knowledge graph&lt;/a>&lt;/p>
&lt;h2>Headless MES or MOM&lt;span class="hx:absolute hx:-mt-20" id="headless-mes-or-mom">&lt;/span>
&lt;a href="#headless-mes-or-mom" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Rhize serves as a backend to create custom applications to replace traditional MES or MOM systems.
Rather than force its opinion of what an MES interface should look like, Rhize provides the only data model, API, and BPMN engine.
Your frontend teams can then use the tools of their choice to make the MES designed for your use case, with all the backend work delegated to Rhize&amp;rsquo;s normal operation features.&lt;/p>
&lt;p>With the combination of its event-driven architecture and unified data model, Rhize can:&lt;/p>
&lt;ul>
&lt;li>calculate OEE, or far more granular metrics&lt;/li>
&lt;li>Handle schedules and maintenance orders&lt;/li>
&lt;li>Track and trace material&lt;/li>
&lt;li>Execute dynamic workflows.&lt;/li>
&lt;/ul>
&lt;p>Besides building bespoke frontends, many operators choose to integrate Rhize with low-code systems like Appsmith.
For some problems, lowcode models can reduce the time to create applications dramatically, making it easier to create and test prototypes, involve more stakeholders in the application design process, iterate on working models, and generally do useful things more quickly.&lt;/p>
&lt;p>Guides: &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/model/" >Model production&lt;/a>, &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/publish-subscribe/" >Connect process data&lt;/a>.&lt;/p>
&lt;h2>Real-time event handling&lt;span class="hx:absolute hx:-mt-20" id="real-time-event-handling">&lt;/span>
&lt;a href="#real-time-event-handling" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The fundamental design of Rhize is low-latency and event-driven.
Rhize can collect and monitor data from protocols like MQTT and OPC-UA.&lt;/p>
&lt;p>Rhize also has components to monitor and react to this data stream, ensuring that you can stop problems early—and program corrective measures to execute automatically.
Event orchestration is handled through &lt;abbr title="Business Process Model and Notation. A standardized graphical notation used to represent business processes in an intuitive, visual way. Rhize&amp;#39;s BPMN UI and engine provides a low-code interface for complex event handling">BPMN&lt;/abbr>, a low-code interface that can listen for events and initiate conditional flows.&lt;/p>
&lt;p>Guide: &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/" >Handle events&lt;/a>&lt;/p>
&lt;h2>Calculating OEE&lt;span class="hx:absolute hx:-mt-20" id="calculating-oee">&lt;/span>
&lt;a href="#calculating-oee" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Rhize includes an optional KPI service which can calculate OEE. Using a combintion of Rhize Workflows and Real-time event handling. Data can be transformed and persisted to a time series database in a format that allows the KPI sercvice to calculate key metrics.&lt;/p>
&lt;p>Guide: &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/kpi-service/" >KPI Service&lt;/a>&lt;/p></description></item><item><title>Create objects from the UI</title><link>https://docs.rhize.com/versions/v3.0.3/how-to/model/create-objects-ui/</link><pubDate>Mon, 20 Nov 2023 15:36:03 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.0.3/how-to/model/create-objects-ui/</guid><description>
&lt;p>To make a production object visible to the Rhize data hub, you must define it as a data model.
Along with its API, Rhize also has a graphical interface to create and update objects in your role-based equipment hierarchy.&lt;/p>
&lt;p>Often, one object references another: for example, a piece of equipment may belong to an equipment class, have a unit of measure as a property, and be associated with process segment.
These associations form nodes and edges in your knowledge graph, so the more information relationships that you accurately create, the better.&lt;/p>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prerequisites">&lt;/span>
&lt;a href="#prerequisites" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Ensure that you have the following:&lt;/p>
&lt;ul>
&lt;li>Access to the Rhize UI&lt;/li>
&lt;li>Information about the equipment that you want to model&lt;/li>
&lt;/ul>
&lt;h2>General procedure&lt;span class="hx:absolute hx:-mt-20" id="general-procedure">&lt;/span>
&lt;a href="#general-procedure" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ol>
&lt;li>From the UI, select the menu in the top corner.&lt;/li>
&lt;li>Select &lt;strong>Master Data&lt;/strong>, then the object you want to configure.&lt;/li>
&lt;li>&lt;strong>Create new&lt;/strong> (or the plus sign).&lt;/li>
&lt;li>Name the object according to your naming conventions.&lt;/li>
&lt;li>Fill in the other fields. For details, refer to the &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/model/master-definitions/" >Master definitions and fields&lt;/a>.&lt;/li>
&lt;/ol>
&lt;p>You can create many different objects, all with their own parameters and associations.
For that reason, a general procedure such as the preceding lacks any interesting detail.&lt;/p>
&lt;p>To make the action more concrete,
the next section provides an example to create plausible group of objects.&lt;/p>
&lt;h2>Example: create oven class and instance&lt;span class="hx:absolute hx:-mt-20" id="example-create-oven-class-and-instance">&lt;/span>
&lt;a href="#example-create-oven-class-and-instance" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>AG holdings is a fictional enterprise that makes product called &lt;code>Alleman Brownies&lt;/code>.
These brownies are produced in its UK site, &lt;code>AG_House&lt;/code>, specifically in the &lt;code>brownie_kitchen_1&lt;/code> work center of the &lt;code>south_wing&lt;/code> area.&lt;/p>
&lt;p>The &lt;code>brownie_kitchen_1&lt;/code> kitchen has &lt;code>oven_123&lt;/code>, an instance of the &lt;code>Oven&lt;/code> class.
This equipment item also has a data source that gives temperature readings, which are published to a dashboard.&lt;/p>
&lt;p>Here&amp;rsquo;s how you could use the Rhize UI to model this.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">If you are actively following to learn, make sure to use names that will easily identify the objects as example objects for testing.&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>Model the equipment levels:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>From &lt;strong>Master Data&lt;/strong>, select &lt;strong>Equipment&lt;/strong> and enter &lt;code>AG_house&lt;/code> as the name.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Give it a description. Then for &lt;strong>Equipment Level&lt;/strong>, choose &lt;code>Site&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>From the new &lt;code>AG_House&lt;/code> object, create a sub-object with the &lt;strong>+&lt;/strong> button.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Name the object &lt;code>south_wing&lt;/code> and choose &lt;code>Area&lt;/code> as its level.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Repeat the preceding steps to make &lt;code>brownie_kitchen1&lt;/code> a work center in the &lt;code>south_wing&lt;/code>.&lt;/p>
&lt;p>Once complete, the hierarchy should look like this:&lt;/p>
&lt;p>&lt;img src="https://docs.rhize.com/images/screenshot-rhize-equipment-levels.png" alt="Screenshot of three equipment levels" loading="lazy" />&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>Model the &lt;code>Oven&lt;/code> equipment class:&lt;/p>
&lt;ol>
&lt;li>From &lt;strong>Master Data&lt;/strong>, select &lt;strong>Equipment Class&lt;/strong>.&lt;/li>
&lt;li>Give it a name that makes sense for your organization. Give it a description, such as &lt;code>Oven for baking&lt;/code>.&lt;/li>
&lt;li>Add any additional properties.&lt;/li>
&lt;li>&lt;strong>Create&lt;/strong> .&lt;/li>
&lt;li>Make it active by changing its version state.&lt;/li>
&lt;/ol>
&lt;p>Create the associated data source:&lt;/p>
&lt;ol>
&lt;li>From &lt;strong>Master Data&lt;/strong>, select &lt;strong>Data Source&lt;/strong>.&lt;/li>
&lt;li>Add the source&amp;rsquo;s connection string and protocol, along with any credentials (to configure authentication, refer to &lt;a href="https://docs.rhize.com/versions/v3.0.3/reference/service-config/" >Agent configuration&lt;/a>.&lt;/li>
&lt;li>Select the &lt;strong>Topics&lt;/strong> tab and add the label and data type.&lt;/li>
&lt;li>&lt;strong>Create&lt;/strong> and make the version active.&lt;/li>
&lt;/ol>
&lt;p>Now, create an instance of the Oven.&lt;/p>
&lt;ol>
&lt;li>
&lt;p>From &lt;strong>Master Data&lt;/strong>, select &lt;strong>Equipment.&lt;/strong> Then create a sub-object for the &lt;code>brownie_kitchen1&lt;/code> work center.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add its unique, globally identifiable ID and give it a description.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>For &lt;strong>Equipment Class&lt;/strong>, add the &lt;code>Oven&lt;/code> class you just created.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>For &lt;strong>Equipment Level&lt;/strong>, select &lt;code>WorkUnit&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Create.&lt;/strong>&lt;/p>
&lt;p>After the object is successfully created, you can add the data source.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>From the &lt;strong>Data Sources&lt;/strong> tab, select &lt;strong>Link Data Sources&lt;/strong>. Select the data source you just created.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>On success, your UI should now have an item equipment that is associated with an equipment level, equipment class, and data source.
For a complete reference of all objects and properties that you can add through the UI, refer to the Master definitions and Fields](/versions/v3.0.3/how-to/model/master-definitions/).&lt;/p></description></item><item><title>Create objects from the UI</title><link>https://docs.rhize.com/versions/v3.1.0/how-to/model/create-objects-ui/</link><pubDate>Mon, 20 Nov 2023 15:36:03 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.1.0/how-to/model/create-objects-ui/</guid><description>
&lt;p>To make a production object visible to the Rhize data hub, you must define it as a data model.
Along with its API, Rhize also has a graphical interface to create and update objects in your role-based equipment hierarchy.&lt;/p>
&lt;p>Often, one object references another: for example, a piece of equipment may belong to an equipment class, have a unit of measure as a property, and be associated with process segment.
These associations form nodes and edges in your knowledge graph, so the more information relationships that you accurately create, the better.&lt;/p>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prerequisites">&lt;/span>
&lt;a href="#prerequisites" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Ensure that you have the following:&lt;/p>
&lt;ul>
&lt;li>Access to the Rhize UI&lt;/li>
&lt;li>Information about the equipment that you want to model&lt;/li>
&lt;/ul>
&lt;h2>General procedure&lt;span class="hx:absolute hx:-mt-20" id="general-procedure">&lt;/span>
&lt;a href="#general-procedure" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ol>
&lt;li>From the UI, select the menu in the top corner.&lt;/li>
&lt;li>Select &lt;strong>Master Data&lt;/strong>, then the object you want to configure.&lt;/li>
&lt;li>&lt;strong>Create new&lt;/strong> (or the plus sign).&lt;/li>
&lt;li>Name the object according to your naming conventions.&lt;/li>
&lt;li>Fill in the other fields. For details, refer to the &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/model/master-definitions/" >Master definitions and fields&lt;/a>.&lt;/li>
&lt;/ol>
&lt;p>You can create many different objects, all with their own parameters and associations.
For that reason, a general procedure such as the preceding lacks any interesting detail.&lt;/p>
&lt;p>To make the action more concrete,
the next section provides an example to create plausible group of objects.&lt;/p>
&lt;h2>Example: create oven class and instance&lt;span class="hx:absolute hx:-mt-20" id="example-create-oven-class-and-instance">&lt;/span>
&lt;a href="#example-create-oven-class-and-instance" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>AG holdings is a fictional enterprise that makes product called &lt;code>Alleman Brownies&lt;/code>.
These brownies are produced in its UK site, &lt;code>AG_House&lt;/code>, specifically in the &lt;code>brownie_kitchen_1&lt;/code> work center of the &lt;code>south_wing&lt;/code> area.&lt;/p>
&lt;p>The &lt;code>brownie_kitchen_1&lt;/code> kitchen has &lt;code>oven_123&lt;/code>, an instance of the &lt;code>Oven&lt;/code> class.
This equipment item also has a data source that gives temperature readings, which are published to a dashboard.&lt;/p>
&lt;p>Here&amp;rsquo;s how you could use the Rhize UI to model this.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">If you are actively following to learn, make sure to use names that will easily identify the objects as example objects for testing.&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>Model the equipment levels:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>From &lt;strong>Master Data&lt;/strong>, select &lt;strong>Equipment&lt;/strong> and enter &lt;code>AG_house&lt;/code> as the name.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Give it a description. Then for &lt;strong>Equipment Level&lt;/strong>, choose &lt;code>Site&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>From the new &lt;code>AG_House&lt;/code> object, create a sub-object with the &lt;strong>+&lt;/strong> button.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Name the object &lt;code>south_wing&lt;/code> and choose &lt;code>Area&lt;/code> as its level.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Repeat the preceding steps to make &lt;code>brownie_kitchen1&lt;/code> a work center in the &lt;code>south_wing&lt;/code>.&lt;/p>
&lt;p>Once complete, the hierarchy should look like this:&lt;/p>
&lt;p>&lt;img src="https://docs.rhize.com/images/screenshot-rhize-equipment-levels.png" alt="Screenshot of three equipment levels" loading="lazy" />&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>Model the &lt;code>Oven&lt;/code> equipment class:&lt;/p>
&lt;ol>
&lt;li>From &lt;strong>Master Data&lt;/strong>, select &lt;strong>Equipment Class&lt;/strong>.&lt;/li>
&lt;li>Give it a name that makes sense for your organization. Give it a description, such as &lt;code>Oven for baking&lt;/code>.&lt;/li>
&lt;li>Add any additional properties.&lt;/li>
&lt;li>&lt;strong>Create&lt;/strong> .&lt;/li>
&lt;li>Make it active by changing its version state.&lt;/li>
&lt;/ol>
&lt;p>Create the associated data source:&lt;/p>
&lt;ol>
&lt;li>From &lt;strong>Master Data&lt;/strong>, select &lt;strong>Data Source&lt;/strong>.&lt;/li>
&lt;li>Add the source&amp;rsquo;s connection string and protocol, along with any credentials (to configure authentication, refer to &lt;a href="https://docs.rhize.com/versions/v3.1.0/reference/service-config/agent-configuration/" >Agent configuration&lt;/a>.&lt;/li>
&lt;li>Select the &lt;strong>Topics&lt;/strong> tab and add the label and data type.&lt;/li>
&lt;li>&lt;strong>Create&lt;/strong> and make the version active.&lt;/li>
&lt;/ol>
&lt;p>Now, create an instance of the Oven.&lt;/p>
&lt;ol>
&lt;li>
&lt;p>From &lt;strong>Master Data&lt;/strong>, select &lt;strong>Equipment.&lt;/strong> Then create a sub-object for the &lt;code>brownie_kitchen1&lt;/code> work center.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add its unique, globally identifiable ID and give it a description.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>For &lt;strong>Equipment Class&lt;/strong>, add the &lt;code>Oven&lt;/code> class you just created.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>For &lt;strong>Equipment Level&lt;/strong>, select &lt;code>WorkUnit&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Create.&lt;/strong>&lt;/p>
&lt;p>After the object is successfully created, you can add the data source.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>From the &lt;strong>Data Sources&lt;/strong> tab, select &lt;strong>Link Data Sources&lt;/strong>. Select the data source you just created.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>On success, your UI should now have an item equipment that is associated with an equipment level, equipment class, and data source.
For a complete reference of all objects and properties that you can add through the UI, refer to the Master definitions and Fields](/versions/v3.1.0/how-to/model/master-definitions/).&lt;/p></description></item><item><title>Create objects from the UI</title><link>https://docs.rhize.com/versions/v3.2.0/how-to/model/create-objects-ui/</link><pubDate>Mon, 20 Nov 2023 15:36:03 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.2.0/how-to/model/create-objects-ui/</guid><description>
&lt;p>To make a production object visible to the Rhize data hub, you must define it as a data model.
Along with its API, Rhize also has a graphical interface to create and update objects in your role-based equipment hierarchy.&lt;/p>
&lt;p>Often, one object references another: for example, a piece of equipment may belong to an equipment class, have a unit of measure as a property, and be associated with process segment.
These associations form nodes and edges in your knowledge graph, so the more information relationships that you accurately create, the better.&lt;/p>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prerequisites">&lt;/span>
&lt;a href="#prerequisites" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Ensure that you have the following:&lt;/p>
&lt;ul>
&lt;li>Access to the Rhize UI&lt;/li>
&lt;li>Information about the equipment that you want to model&lt;/li>
&lt;/ul>
&lt;h2>General procedure&lt;span class="hx:absolute hx:-mt-20" id="general-procedure">&lt;/span>
&lt;a href="#general-procedure" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ol>
&lt;li>From the UI, select the menu in the top corner.&lt;/li>
&lt;li>Select &lt;strong>Master Data&lt;/strong>, then the object you want to configure.&lt;/li>
&lt;li>&lt;strong>Create new&lt;/strong> (or the plus sign).&lt;/li>
&lt;li>Name the object according to your naming conventions.&lt;/li>
&lt;li>Fill in the other fields. For details, refer to the &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/model/master-definitions/" >Master definitions and fields&lt;/a>.&lt;/li>
&lt;/ol>
&lt;p>You can create many different objects, all with their own parameters and associations.
For that reason, a general procedure such as the preceding lacks any interesting detail.&lt;/p>
&lt;p>To make the action more concrete,
the next section provides an example to create plausible group of objects.&lt;/p>
&lt;h2>Example: create oven class and instance&lt;span class="hx:absolute hx:-mt-20" id="example-create-oven-class-and-instance">&lt;/span>
&lt;a href="#example-create-oven-class-and-instance" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>AG holdings is a fictional enterprise that makes product called &lt;code>Alleman Brownies&lt;/code>.
These brownies are produced in its UK site, &lt;code>AG_House&lt;/code>, specifically in the &lt;code>brownie_kitchen_1&lt;/code> work center of the &lt;code>south_wing&lt;/code> area.&lt;/p>
&lt;p>The &lt;code>brownie_kitchen_1&lt;/code> kitchen has &lt;code>oven_123&lt;/code>, an instance of the &lt;code>Oven&lt;/code> class.
This equipment item also has a data source that gives temperature readings, which are published to a dashboard.&lt;/p>
&lt;p>Here&amp;rsquo;s how you could use the Rhize UI to model this.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">If you are actively following to learn, make sure to use names that will easily identify the objects as example objects for testing.&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>Model the equipment levels:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>From &lt;strong>Master Data&lt;/strong>, select &lt;strong>Equipment&lt;/strong> and enter &lt;code>AG_house&lt;/code> as the name.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Give it a description. Then for &lt;strong>Equipment Level&lt;/strong>, choose &lt;code>Site&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>From the new &lt;code>AG_House&lt;/code> object, create a sub-object with the &lt;strong>+&lt;/strong> button.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Name the object &lt;code>south_wing&lt;/code> and choose &lt;code>Area&lt;/code> as its level.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Repeat the preceding steps to make &lt;code>brownie_kitchen1&lt;/code> a work center in the &lt;code>south_wing&lt;/code>.&lt;/p>
&lt;p>Once complete, the hierarchy should look like this:&lt;/p>
&lt;p>&lt;img src="https://docs.rhize.com/images/screenshot-rhize-equipment-levels.png" alt="Screenshot of three equipment levels" loading="lazy" />&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>Model the &lt;code>Oven&lt;/code> equipment class:&lt;/p>
&lt;ol>
&lt;li>From &lt;strong>Master Data&lt;/strong>, select &lt;strong>Equipment Class&lt;/strong>.&lt;/li>
&lt;li>Give it a name that makes sense for your organization. Give it a description, such as &lt;code>Oven for baking&lt;/code>.&lt;/li>
&lt;li>Add any additional properties.&lt;/li>
&lt;li>&lt;strong>Create&lt;/strong> .&lt;/li>
&lt;li>Make it active by changing its version state.&lt;/li>
&lt;/ol>
&lt;p>Create the associated data source:&lt;/p>
&lt;ol>
&lt;li>From &lt;strong>Master Data&lt;/strong>, select &lt;strong>Data Source&lt;/strong>.&lt;/li>
&lt;li>Add the source&amp;rsquo;s connection string and protocol, along with any credentials (to configure authentication, refer to &lt;a href="https://docs.rhize.com/versions/v3.2.0/reference/service-config/agent-configuration/" >Agent configuration&lt;/a>.&lt;/li>
&lt;li>Select the &lt;strong>Topics&lt;/strong> tab and add the label and data type.&lt;/li>
&lt;li>&lt;strong>Create&lt;/strong> and make the version active.&lt;/li>
&lt;/ol>
&lt;p>Now, create an instance of the Oven.&lt;/p>
&lt;ol>
&lt;li>
&lt;p>From &lt;strong>Master Data&lt;/strong>, select &lt;strong>Equipment.&lt;/strong> Then create a sub-object for the &lt;code>brownie_kitchen1&lt;/code> work center.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add its unique, globally identifiable ID and give it a description.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>For &lt;strong>Equipment Class&lt;/strong>, add the &lt;code>Oven&lt;/code> class you just created.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>For &lt;strong>Equipment Level&lt;/strong>, select &lt;code>WorkUnit&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Create.&lt;/strong>&lt;/p>
&lt;p>After the object is successfully created, you can add the data source.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>From the &lt;strong>Data Sources&lt;/strong> tab, select &lt;strong>Link Data Sources&lt;/strong>. Select the data source you just created.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>On success, your UI should now have an item equipment that is associated with an equipment level, equipment class, and data source.
For a complete reference of all objects and properties that you can add through the UI, refer to the Master definitions and Fields](/versions/v3.2.0/how-to/model/master-definitions/).&lt;/p></description></item><item><title>Overview</title><link>https://docs.rhize.com/versions/v3.0.3/deploy/install/overview/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.rhize.com/versions/v3.0.3/deploy/install/overview/</guid><description>
&lt;p>This guide walks you through how to Install Rhize and its services in a Kubernetes environment.
You can also use these docs to model automation workflows in your CI.&lt;/p>
&lt;blockquote>
&lt;p>This procedure aims to be as generic and vendor-neutral as possible.
Some configuration depends on where and how you run your IT infrastructure—what cloud provider you use, preferred auxiliary tools, and so on&amp;mdash;so your team must adapt the process for its particular use cases.&lt;/p>
&lt;/blockquote>
&lt;h2>Condensed instructions&lt;span class="hx:absolute hx:-mt-20" id="condensed-instructions">&lt;/span>
&lt;a href="#condensed-instructions" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>This guide has three steps, each of which has its own page.
The essential procedure is as follows:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>&lt;a href="https://docs.rhize.com/deploy/install/setup-kubernetes/" >Set up the Kubernetes environment&lt;/a>&lt;/strong>.&lt;/p>
&lt;ol>
&lt;li>Within a Kubernetes cluster, create a new namespace.&lt;/li>
&lt;li>In this namespace, add the Rhize container images and Helm repositories.&lt;/li>
&lt;li>In the cluster, create passwords.&lt;/li>
&lt;li>Use Helm to install Keycloak.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>&lt;a href="https://docs.rhize.com/versions/v3.0.3/deploy/install/keycloak/" >Configure Keycloak&lt;/a>&lt;/strong>.&lt;/p>
&lt;ol>
&lt;li>In Keycloak, create a realm and clients for each service.&lt;/li>
&lt;li>In the cluster, create secrets for the KeyCloak clients.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>&lt;a href="https://docs.rhize.com/versions/v3.0.3/deploy/install/services/" >Install services&lt;/a>&lt;/strong>.&lt;/p>
&lt;ol>
&lt;li>Use Helm to install libreBaas .&lt;/li>
&lt;li>In Keycloak, give libreBaas admin permissions.&lt;/li>
&lt;li>Use these admin permissions to POST the database schema.&lt;/li>
&lt;li>Return to Keycloak and add the newly created permissions to the libreBaas group.&lt;/li>
&lt;li>Use Helm to install all other services in this sequence:
&lt;ol>
&lt;li>Install the service dependencies.&lt;/li>
&lt;li>Edit its YAML files to override defaults as needed.&lt;/li>
&lt;li>Install through Helm.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol></description></item><item><title>Overview</title><link>https://docs.rhize.com/versions/v3.1.0/deploy/install/overview/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.rhize.com/versions/v3.1.0/deploy/install/overview/</guid><description>
&lt;p>This guide walks you through how to Install Rhize and its services in a Kubernetes environment.
You can also use these docs to model automation workflows in your CI.&lt;/p>
&lt;blockquote>
&lt;p>This procedure aims to be as generic and vendor-neutral as possible.
Some configuration depends on where and how you run your IT infrastructure—what cloud provider you use, preferred auxiliary tools, and so on&amp;mdash;so your team must adapt the process for its particular use cases.&lt;/p>
&lt;/blockquote>
&lt;h2>Condensed instructions&lt;span class="hx:absolute hx:-mt-20" id="condensed-instructions">&lt;/span>
&lt;a href="#condensed-instructions" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>This guide has three steps, each of which has its own page.
The essential procedure is as follows:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>&lt;a href="https://docs.rhize.com/deploy/install/setup-kubernetes/" >Set up the Kubernetes environment&lt;/a>&lt;/strong>.&lt;/p>
&lt;ol>
&lt;li>Within a Kubernetes cluster, create a new namespace.&lt;/li>
&lt;li>In this namespace, add the Rhize container images and Helm repositories.&lt;/li>
&lt;li>In the cluster, create passwords.&lt;/li>
&lt;li>Use Helm to install Keycloak.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>&lt;a href="https://docs.rhize.com/versions/v3.1.0/deploy/install/keycloak/" >Configure Keycloak&lt;/a>&lt;/strong>.&lt;/p>
&lt;ol>
&lt;li>In Keycloak, create a realm and clients for each service.&lt;/li>
&lt;li>In the cluster, create secrets for the KeyCloak clients.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>&lt;a href="https://docs.rhize.com/versions/v3.1.0/deploy/install/services/" >Install services&lt;/a>&lt;/strong>.&lt;/p>
&lt;ol>
&lt;li>Use Helm to install libreBaas .&lt;/li>
&lt;li>In Keycloak, give libreBaas admin permissions.&lt;/li>
&lt;li>Use these admin permissions to POST the database schema.&lt;/li>
&lt;li>Return to Keycloak and add the newly created permissions to the libreBaas group.&lt;/li>
&lt;li>Use Helm to install all other services in this sequence:
&lt;ol>
&lt;li>Install the service dependencies.&lt;/li>
&lt;li>Edit its YAML files to override defaults as needed.&lt;/li>
&lt;li>Install through Helm.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol></description></item><item><title>Overview</title><link>https://docs.rhize.com/versions/v3.2.0/deploy/install/overview/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.rhize.com/versions/v3.2.0/deploy/install/overview/</guid><description>
&lt;p>This guide walks you through how to Install Rhize and its services in a Kubernetes environment.
You can also use these docs to model automation workflows in your CI.&lt;/p>
&lt;blockquote>
&lt;p>This procedure aims to be as generic and vendor-neutral as possible.
Some configuration depends on where and how you run your IT infrastructure—what cloud provider you use, preferred auxiliary tools, and so on&amp;mdash;so your team must adapt the process for its particular use cases.&lt;/p>
&lt;/blockquote>
&lt;h2>Condensed instructions&lt;span class="hx:absolute hx:-mt-20" id="condensed-instructions">&lt;/span>
&lt;a href="#condensed-instructions" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>This guide has three steps, each of which has its own page.
The essential procedure is as follows:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>&lt;a href="https://docs.rhize.com/deploy/install/setup-kubernetes/" >Set up the Kubernetes environment&lt;/a>&lt;/strong>.&lt;/p>
&lt;ol>
&lt;li>Within a Kubernetes cluster, create a new namespace.&lt;/li>
&lt;li>In this namespace, add the Rhize container images and Helm repositories.&lt;/li>
&lt;li>In the cluster, create passwords.&lt;/li>
&lt;li>Use Helm to install Keycloak.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>&lt;a href="https://docs.rhize.com/versions/v3.2.0/deploy/install/keycloak/" >Configure Keycloak&lt;/a>&lt;/strong>.&lt;/p>
&lt;ol>
&lt;li>In Keycloak, create a realm and clients for each service.&lt;/li>
&lt;li>In the cluster, create secrets for the KeyCloak clients.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>&lt;a href="https://docs.rhize.com/versions/v3.2.0/deploy/install/services/" >Install services&lt;/a>&lt;/strong>.&lt;/p>
&lt;ol>
&lt;li>Use Helm to install libreBaas .&lt;/li>
&lt;li>In Keycloak, give libreBaas admin permissions.&lt;/li>
&lt;li>Use these admin permissions to POST the database schema.&lt;/li>
&lt;li>Return to Keycloak and add the newly created permissions to the libreBaas group.&lt;/li>
&lt;li>Use Helm to install all other services in this sequence:
&lt;ol>
&lt;li>Install the service dependencies.&lt;/li>
&lt;li>Edit its YAML files to override defaults as needed.&lt;/li>
&lt;li>Install through Helm.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol></description></item><item><title>Tutorial: Trigger a workflow from a rule</title><link>https://docs.rhize.com/versions/v3.0.3/how-to/publish-subscribe/create-equipment-class-rule/</link><pubDate>Mon, 29 Apr 2024 11:39:29 +0300</pubDate><guid>https://docs.rhize.com/versions/v3.0.3/how-to/publish-subscribe/create-equipment-class-rule/</guid><description>
&lt;p>An equipment class rule &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/" >triggers a BPMN&lt;/a> workflow whenever a data source publishes a value that meets a specified threshold.&lt;/p>
&lt;p>Imagine a scenario when an oven must be preheated every time a new order number is published to an MQTT edge device.
You could automate this workflow with a rule that listens to messages published and evaluates a condition.
If the condition evaluates to &lt;code>true&lt;/code>, the rule triggers a &lt;abbr title="Business Process Model and Notation. A standardized graphical notation used to represent business processes in an intuitive, visual way. Rhize&amp;#39;s BPMN UI and engine provides a low-code interface for complex event handling">BPMN&lt;/abbr> workflow to preheat the oven.&lt;/p>
&lt;pre class="mermaid hx:mt-6">
---
title: Rules trigger workflows from data-source changes
---
flowchart LR
A(Property changed?) --&amp;gt;|yes| B{&amp;#34;rule evaluates to true?&amp;#34;}
B --&amp;gt;|no| C(do nothing)
B --&amp;gt;|&amp;#34;yes (optional: pass variables)&amp;#34;| D(Run BPMN workflow)
&lt;/pre>&lt;p>The broad procedure to create a rule is as follows:&lt;/p>
&lt;ol>
&lt;li>In the Rhize UI or through GraphQL, create models for the data source and its associated unit of measure, equipment, and equipment class.&lt;/li>
&lt;li>In the Rhize UI, write a BPMN workflow that is triggered when this data source changes and executes some business logic.&lt;/li>
&lt;li>In the equipment class, create a rule that triggers the workflow.&lt;/li>
&lt;/ol>
&lt;p>The following sections describe how to do these steps in more detail.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">This tutorial assumes a data source that exchanges messages over the MQTT protocol.&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prerequisites">&lt;/span>
&lt;a href="#prerequisites" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Before you start, ensure you have the following:&lt;/p>
&lt;ul>
&lt;li>Access your Rhize customer environment&lt;/li>
&lt;li>The &lt;a href="https://docs.rhize.com/versions/v3.0.3/reference/service-config/" >Agent configured&lt;/a> to listen for your data-source ID&lt;/li>
&lt;/ul>
&lt;h2>Set up: configure equipment and workflows&lt;span class="hx:absolute hx:-mt-20" id="set-up-configure-equipment-and-workflows">&lt;/span>
&lt;a href="#set-up-configure-equipment-and-workflows" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The setup involves modeling the objects associated with the rule.&lt;/p>
&lt;ul>
&lt;li>Data source&lt;/li>
&lt;li>Data source topic&lt;/li>
&lt;li>Unit of measure&lt;/li>
&lt;li>BPMN&lt;/li>
&lt;li>Equipment class with bound properties&lt;/li>
&lt;/ul>
&lt;p>Once you have these, you can create a rule and associate it with an actual equipment item.&lt;/p>
&lt;h3>Create a data source&lt;span class="hx:absolute hx:-mt-20" id="create-a-data-source">&lt;/span>
&lt;a href="#create-a-data-source" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ol>
&lt;li>From the main menu, navigate to &lt;strong>Master Data &amp;gt; Data Sources&lt;/strong>.&lt;/li>
&lt;li>Create a new data source. The label (ID) must match the one specified in the configuration file for the &lt;code>libre-agent&lt;/code> microservice.&lt;/li>
&lt;li>From the &lt;strong>General&lt;/strong> tab, add a draft data source version.&lt;/li>
&lt;li>Select &lt;code>MQTT&lt;/code> as the data-source protocol.&lt;/li>
&lt;li>Optionally, enter a connection string, such as &lt;code>mqtt://&amp;lt;REMOTE_HOST&amp;gt;:1883&lt;/code>, that matches the one specified in the configuration file for the &lt;code>libre-agent&lt;/code> microservice.&lt;/li>
&lt;li>Save the data source version to create it.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_Data_Source_and_Version.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_Data_Source_and_Version.png" alt="A new data source and version created in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
A new data source and version created in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h3>Create a data source topic&lt;span class="hx:absolute hx:-mt-20" id="create-a-data-source-topic">&lt;/span>
&lt;a href="#create-a-data-source-topic" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ol>
&lt;li>Navigate to the &lt;strong>Topics&lt;/strong> tab.&lt;/li>
&lt;li>Add a new property (that is, a topic).&lt;/li>
&lt;li>Select &lt;code>STRING&lt;/code> for the property data type (this assumes an order number is a string such as &lt;code>Order1&lt;/code>).&lt;/li>
&lt;li>Select your preferred deduplication key. The default option, &lt;code>Message Value&lt;/code>, is most appropriate for this scenario.&lt;/li>
&lt;li>For label, enter the exact topic name as it appears in the data source. Use a slash to access nested topics. For this example, all new order numbers are published to &lt;code>Oven/OrderNumber&lt;/code>.&lt;/li>
&lt;li>Confirm by clicking the green tick icon.&lt;/li>
&lt;li>Navigate to the &lt;strong>General&lt;/strong> tab and change the version state to active.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_Data_Source_Topic.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_Data_Source_Topic.png" alt="A new data source topic created in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
A new data source topic created in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h3>Create a unit of measure&lt;span class="hx:absolute hx:-mt-20" id="create-a-unit-of-measure">&lt;/span>
&lt;a href="#create-a-unit-of-measure" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ol>
&lt;li>From the Main Menu, navigate to &lt;strong>Master Data &amp;gt; Units of Measure&lt;/strong>.&lt;/li>
&lt;li>Add a new unit of measure.&lt;/li>
&lt;li>Enter &lt;code>Order Number&lt;/code> for the unit name.&lt;/li>
&lt;li>Select &lt;code>STRING&lt;/code> for the data type.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_Unit_of_Measure.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_Unit_of_Measure.png" alt="A new unit of measure created in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
A new unit of measure created in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h3>Creating a BPMN workflow&lt;span class="hx:absolute hx:-mt-20" id="creating-a-bpmn-workflow">&lt;/span>
&lt;a href="#creating-a-bpmn-workflow" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A rule must trigger a BPMN workflow.
Before setting up a rule, create its workflow.
For this example, this 3-node BPMN is enough:&lt;/p>
&lt;ol>
&lt;li>Navigate to &lt;strong>Workflows &amp;gt; Process List&lt;/strong>.&lt;/li>
&lt;li>Import the BPMN.&lt;/li>
&lt;li>Save it.&lt;/li>
&lt;li>Set the version as active.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_BPMN.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_BPMN.png" alt="A BPMN created in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
A BPMN created in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;p>The BPMN has a &lt;code>Libre Jsonata Transform&lt;/code> task that contains an expression &lt;code>&amp;quot;Preheating oven for order number &amp;quot; &amp;amp; $.orderNumber&amp;quot;&lt;/code> .
The rule engine triggers this BPMN with a payload that includes the order number value, as follows:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;orderNumber&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Order1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Create an equipment class with bound properties&lt;span class="hx:absolute hx:-mt-20" id="create-an-equipment-class-with-bound-properties">&lt;/span>
&lt;a href="#create-an-equipment-class-with-bound-properties" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h4>Equipment class and version&lt;span class="hx:absolute hx:-mt-20" id="equipment-class-and-version">&lt;/span>
&lt;a href="#equipment-class-and-version" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>Navigate to &lt;strong>Master Data &amp;gt; Equipment Class&lt;/strong>.&lt;/li>
&lt;li>Create a new equipment class from the sidebar. The label might be &lt;code>Pizza Line&lt;/code>, for example.&lt;/li>
&lt;li>From the &lt;strong>General&lt;/strong> tab, &lt;strong>Create&lt;/strong> a new Draft version.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_an_Equipment_Class_and_Version.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_an_Equipment_Class_and_Version.png" alt="A new equipment class and version created in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
A new equipment class and version created in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h4>Equipment class property&lt;span class="hx:absolute hx:-mt-20" id="equipment-class-property">&lt;/span>
&lt;a href="#equipment-class-property" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>From the properties tab, create a new property.&lt;/li>
&lt;li>For type, select &lt;code>BOUND&lt;/code>.&lt;/li>
&lt;li>For name, enter &lt;code>orderNumber&lt;/code>.&lt;/li>
&lt;li>For UoM, select the unit of measure created earlier (&lt;code>Order Number&lt;/code>).&lt;/li>
&lt;li>Confirm by clicking the green tick icon.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_an_Equipment_Class_Property.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_an_Equipment_Class_Property.png" alt="A new equipment class property created in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
A new equipment class property created in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h2>Create a rule&lt;span class="hx:absolute hx:-mt-20" id="create-a-rule">&lt;/span>
&lt;a href="#create-a-rule" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>Add a rule to an existing equipment class&lt;span class="hx:absolute hx:-mt-20" id="add-a-rule-to-an-existing-equipment-class">&lt;/span>
&lt;a href="#add-a-rule-to-an-existing-equipment-class" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ol>
&lt;li>From the Rules tab of an equipment class version, create a new rule.&lt;/li>
&lt;li>Enter &lt;code>Run BPMN on Order Number&lt;/code> for the name and confirm.&lt;/li>
&lt;li>Select &lt;code>rules_example_bpmn&lt;/code> for the workflow specification.&lt;/li>
&lt;li>Add &lt;code>orderNumber&lt;/code> as a trigger property.&lt;/li>
&lt;li>Add a trigger expression that evaluates to true or false.&lt;/li>
&lt;/ol>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">The rule runs the preceding workflow only if the expression evaluates to &lt;code>true&lt;/code>.
It’s common to compare the new value with the previous.&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>In this case, we can compare the new order number to the previous by adding &lt;code>OrderNumber.current.value != OrderNumber.previous.value&lt;/code>.
Note that the root of the object path must match the ID of the equipment class property we set up earlier and all evaluations are case-sensitive.&lt;/p>
&lt;p>The entire information that becomes available to the rule engine looks like this:&lt;/p>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">JSON input&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Expression&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-2">Output&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">orderNumber&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">current&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">bindingType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;BOUND&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">description&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;bound prop&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">equipmentClassProperty&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQCLASS1.10.orderNumber&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iid&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0x2a78&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">label&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;orderNumber&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">equipmentVersion&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">equipment&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQ1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iid&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0x1b&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">label&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQ1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQ1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iid&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0x22&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">version&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQCLASS1.10.orderNumber&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">label&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;orderNumber&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">messageKey&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;ns=3;i=1003.1695170450000000000&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">propertyType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;DefaultType&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">serverPicoseconds&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">serverTimestamp&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;2023-09-20T00:40:50.028Z&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sourcePicoseconds&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sourceTimestamp&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;2023-09-20T00:40:50Z&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">value&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;Order2&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">valueUnitOfMeasure&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">dataType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;FLOAT&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;FLOAT&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iid&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0x28&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">previous&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">bindingType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;BOUND&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">description&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;bound prop&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">equipmentClassProperty&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQCLASS1.10.orderNumber&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iid&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0x2a78&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">label&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;orderNumber&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">equipmentVersion&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">equipment&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQ1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iid&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0x1b&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">label&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQ1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQ1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iid&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0x22&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">version&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQCLASS1.10.orderNumber&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">label&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;orderNumber&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">messageKey&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;ns=3;i=1003.1695170440000000000&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">propertyType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;DefaultType&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">serverPicoseconds&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">serverTimestamp&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;2023-09-20T00:40:40.003Z&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sourcePicoseconds&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sourceTimestamp&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;2023-09-20T00:40:40Z&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">value&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;Order1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">valueUnitOfMeasure&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">dataType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;FLOAT&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;FLOAT&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iid&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0x28&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-1"
role="tabpanel">&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="sb">`OrderNumber.current.value != OrderNumber.previous.value`&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-2"
role="tabpanel">&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;pre>&lt;code>True&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>The expression evaluates to &lt;code>false&lt;/code>, because the &lt;code>current&lt;/code> and &lt;code>previous&lt;/code> values differ.&lt;/p>&lt;/div>
&lt;/div>
&lt;p>Optionally, pass information to the BPMN by adding a payload message. The message is an object with multiple keys.&lt;/p>
&lt;ol>
&lt;li>Enter &lt;code>orderNumber&lt;/code> for the field name.&lt;/li>
&lt;li>Enter &lt;code>orderNumber.current.value&lt;/code> for the JSON expression.&lt;/li>
&lt;li>Confirm by clicking the green tick icon.&lt;/li>
&lt;li>&lt;strong>Create&lt;/strong>.&lt;/li>
&lt;li>From the &lt;strong>General&lt;/strong> tab, change the equipment class version state to active.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_Rule.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_Rule.png" alt="Creating an equipment class rule in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
Creating an equipment class rule in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h3>Associate an equipment with a bound property&lt;span class="hx:absolute hx:-mt-20" id="associate-an-equipment-with-a-bound-property">&lt;/span>
&lt;a href="#associate-an-equipment-with-a-bound-property" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The final steps to setting up a rule are to:&lt;/p>
&lt;ol>
&lt;li>Create a new equipment version.&lt;/li>
&lt;li>Link it to a data source.&lt;/li>
&lt;li>Set up bound properties.&lt;/li>
&lt;/ol>
&lt;h4>Create an equipment and version&lt;span class="hx:absolute hx:-mt-20" id="create-an-equipment-and-version">&lt;/span>
&lt;a href="#create-an-equipment-and-version" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>From the Main Menu, navigate to &lt;strong>Master Data &amp;gt; Equipment&lt;/strong>.&lt;/li>
&lt;li>Select a piece of equipment. If none, create one called &lt;code>Line 1&lt;/code>.&lt;/li>
&lt;li>From the &lt;strong>General&lt;/strong> tab, &lt;strong>Create&lt;/strong>.&lt;/li>
&lt;li>Link the version to the equipment class you created earlier (&lt;code>Pizza Line&lt;/code>).&lt;/li>
&lt;li>Save the version to create it.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_an_Equipment_and_Version.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_an_Equipment_and_Version.png" alt="A new equipment class and version created in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
A new equipment class and version created in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h4>Link a data source&lt;span class="hx:absolute hx:-mt-20" id="link-a-data-source">&lt;/span>
&lt;a href="#link-a-data-source" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>From the &lt;strong>Data Sources&lt;/strong> tab, link the equipment version to the data source you created in the previous section.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Link_Equipment_to_Data_Source.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Link_Equipment_to_Data_Source.png" alt="An equipment linked to a data source in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
An equipment linked to a data source in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h4>Set up the bound property&lt;span class="hx:absolute hx:-mt-20" id="set-up-the-bound-property">&lt;/span>
&lt;a href="#set-up-the-bound-property" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>From the &lt;strong>Properties&lt;/strong> tab, find a property that you want this equipment to inherit and select the binding icon.&lt;/li>
&lt;li>If you chose the property &lt;code>orderNumber&lt;/code>, add the topic &lt;code>Oven/OrderNumber&lt;/code> you added previously.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Binding_an_Equipment_Property_to_a_Topic.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Binding_an_Equipment_Property_to_a_Topic.png" alt="An equipment property bound to a data source topic in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
An equipment property bound to a data source topic in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h2>Test the binding and the rule&lt;span class="hx:absolute hx:-mt-20" id="test-the-binding-and-the-rule">&lt;/span>
&lt;a href="#test-the-binding-and-the-rule" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Send a message to test that the value of the property &lt;code>orderNumber&lt;/code> of the equipment &lt;code>Line 1&lt;/code> is bound to the topic &lt;code>Oven/OrderNumber&lt;/code>.&lt;/p>
&lt;h3>Test using an MQTT client&lt;span class="hx:absolute hx:-mt-20" id="test-using-an-mqtt-client">&lt;/span>
&lt;a href="#test-using-an-mqtt-client" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>For example, using MQTT Explorer:&lt;/p>
&lt;ol>
&lt;li>Open MQTT Explorer and connect to the broker.&lt;/li>
&lt;/ol>
&lt;p>The microservice Libre Agent (&lt;code>libre-agent&lt;/code>) should immediately publish a message to indicate the data source topic &lt;code>Oven/OrderNumber&lt;/code> has been set up successfully.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Libre_Agent_has_Connected_to_the_Data_Source.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Libre_Agent_has_Connected_to_the_Data_Source.png" alt="The Libre Agent has connected to the data source."
width="65%"
>
&lt;/a>
&lt;figcaption class="caption">
The Libre Agent has connected to the data source.
&lt;/figcaption>
&lt;/figure>
&lt;ol start="2">
&lt;li>Publish the string &lt;code>Order1&lt;/code> to the topic &lt;code>Oven/OrderNumber&lt;/code>.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Publish_Order_Number_to_NATS.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Publish_Order_Number_to_NATS.png" alt="A new order number was published to the data source."
width="65%"
>
&lt;/a>
&lt;figcaption class="caption">
A new order number was published to the data source.
&lt;/figcaption>
&lt;/figure>
&lt;p>If the message has been received,
a new topic, &lt;code>Oven&lt;/code>, appears with its subtopic &lt;code>OrderNumber&lt;/code>.&lt;/p>
&lt;p>If there is an equipment property bound to this topic,
a topic called &lt;code>MQTT/&amp;lt;DATA_SOURCE_NAME&amp;gt;/ValueChanged&lt;/code> also appears.
In addition, the published value should show in the column &lt;code>Expression&lt;/code> of the equipment property &lt;code>orderNumber&lt;/code>.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-New_orderNumber_in_the_Admin_UI.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-New_orderNumber_in_the_Admin_UI.png" alt="The bound property assumes the last value published to the data source."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
The bound property assumes the last value published to the data source.
&lt;/figcaption>
&lt;/figure>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">If this is the first message published to the topic, the rule will not be triggered because Rhize has no previous value to compare it the message value to. However, if you publish another order number, a new topic called &lt;code>Core&lt;/code> will show up containing a subtopic called &lt;code>RuleTriggered&lt;/code> to indicate that the rule has indeed been triggered.&lt;/div>
&lt;/div>
&lt;/div>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Rule_Triggered_in_broker.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Rule_Triggered_in_broker.png" alt="The rule engine has published a message to indicate that the equipment class rule has indeed been triggered."
width="65%"
>
&lt;/a>
&lt;figcaption class="caption">
The rule engine has published a message to indicate that the equipment class rule has indeed been triggered.
&lt;/figcaption>
&lt;/figure>
&lt;h3>Confirm in execution in Tempo&lt;span class="hx:absolute hx:-mt-20" id="confirm-in-execution-in-tempo">&lt;/span>
&lt;a href="#confirm-in-execution-in-tempo" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>To confirm the intended BPMN was executed, navigate to Grafana (Tempo) and look for a trace containing the expected BPMN ID.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Executed_BPMNs_in_Grafana.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Executed_BPMNs_in_Grafana.png" alt="Grafana shows a recent trace with the id of the target BPMN."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
Grafana shows a recent trace with the id of the target BPMN.
&lt;/figcaption>
&lt;/figure>
&lt;h2>Video example&lt;span class="hx:absolute hx:-mt-20" id="video-example">&lt;/span>
&lt;a href="#video-example" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>&amp;#x1f3a5; &lt;a href="https://www.youtube.com/watch?v=y5lr9JRmxDA" target="_blank" rel="noopener">Trigger BPMN&lt;/a>. This video provides an example of creating a rule based on values for an OPC UA server in a baking process.&lt;/li>
&lt;/ul></description></item><item><title>Tutorial: Trigger a workflow from a rule</title><link>https://docs.rhize.com/versions/v3.1.0/how-to/publish-subscribe/create-equipment-class-rule/</link><pubDate>Mon, 29 Apr 2024 11:39:29 +0300</pubDate><guid>https://docs.rhize.com/versions/v3.1.0/how-to/publish-subscribe/create-equipment-class-rule/</guid><description>
&lt;p>An equipment class rule &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/trigger-workflows/" >triggers a BPMN&lt;/a> workflow whenever a data source publishes a value that meets a specified threshold.&lt;/p>
&lt;p>Imagine a scenario when an oven must be preheated every time a new order number is published to an MQTT edge device.
You could automate this workflow with a rule that listens to messages published and evaluates a condition.
If the condition evaluates to &lt;code>true&lt;/code>, the rule triggers a &lt;abbr title="Business Process Model and Notation. A standardized graphical notation used to represent business processes in an intuitive, visual way. Rhize&amp;#39;s BPMN UI and engine provides a low-code interface for complex event handling">BPMN&lt;/abbr> workflow to preheat the oven.&lt;/p>
&lt;pre class="mermaid hx:mt-6">
---
title: Rules trigger workflows from data-source changes
---
flowchart LR
A(Property changed?) --&amp;gt;|yes| B{&amp;#34;rule evaluates to true?&amp;#34;}
B --&amp;gt;|no| C(do nothing)
B --&amp;gt;|&amp;#34;yes (optional: pass variables)&amp;#34;| D(Run BPMN workflow)
&lt;/pre>&lt;p>The broad procedure to create a rule is as follows:&lt;/p>
&lt;ol>
&lt;li>In the Rhize UI or through GraphQL, create models for the data source and its associated unit of measure, equipment, and equipment class.&lt;/li>
&lt;li>In the Rhize UI, write a BPMN workflow that is triggered when this data source changes and executes some business logic.&lt;/li>
&lt;li>In the equipment class, create a rule that triggers the workflow.&lt;/li>
&lt;/ol>
&lt;p>The following sections describe how to do these steps in more detail.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">This tutorial assumes a data source that exchanges messages over the MQTT protocol.&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prerequisites">&lt;/span>
&lt;a href="#prerequisites" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Before you start, ensure you have the following:&lt;/p>
&lt;ul>
&lt;li>Access your Rhize customer environment&lt;/li>
&lt;li>The &lt;a href="https://docs.rhize.com/versions/v3.1.0/reference/service-config/agent-configuration/" >Agent configured&lt;/a> to listen for your data-source ID&lt;/li>
&lt;/ul>
&lt;h2>Set up: configure equipment and workflows&lt;span class="hx:absolute hx:-mt-20" id="set-up-configure-equipment-and-workflows">&lt;/span>
&lt;a href="#set-up-configure-equipment-and-workflows" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The setup involves modeling the objects associated with the rule.&lt;/p>
&lt;ul>
&lt;li>Data source&lt;/li>
&lt;li>Data source topic&lt;/li>
&lt;li>Unit of measure&lt;/li>
&lt;li>BPMN&lt;/li>
&lt;li>Equipment class with bound properties&lt;/li>
&lt;/ul>
&lt;p>Once you have these, you can create a rule and associate it with an actual equipment item.&lt;/p>
&lt;h3>Create a data source&lt;span class="hx:absolute hx:-mt-20" id="create-a-data-source">&lt;/span>
&lt;a href="#create-a-data-source" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ol>
&lt;li>From the main menu, navigate to &lt;strong>Master Data &amp;gt; Data Sources&lt;/strong>.&lt;/li>
&lt;li>Create a new data source. The label (ID) must match the one specified in the configuration file for the &lt;code>libre-agent&lt;/code> microservice.&lt;/li>
&lt;li>From the &lt;strong>General&lt;/strong> tab, add a draft data source version.&lt;/li>
&lt;li>Select &lt;code>MQTT&lt;/code> as the data-source protocol.&lt;/li>
&lt;li>Optionally, enter a connection string, such as &lt;code>mqtt://&amp;lt;REMOTE_HOST&amp;gt;:1883&lt;/code>, that matches the one specified in the configuration file for the &lt;code>libre-agent&lt;/code> microservice.&lt;/li>
&lt;li>Save the data source version to create it.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_Data_Source_and_Version.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_Data_Source_and_Version.png" alt="A new data source and version created in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
A new data source and version created in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h3>Create a data source topic&lt;span class="hx:absolute hx:-mt-20" id="create-a-data-source-topic">&lt;/span>
&lt;a href="#create-a-data-source-topic" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ol>
&lt;li>Navigate to the &lt;strong>Topics&lt;/strong> tab.&lt;/li>
&lt;li>Add a new property (that is, a topic).&lt;/li>
&lt;li>Select &lt;code>STRING&lt;/code> for the property data type (this assumes an order number is a string such as &lt;code>Order1&lt;/code>).&lt;/li>
&lt;li>Select your preferred deduplication key. The default option, &lt;code>Message Value&lt;/code>, is most appropriate for this scenario.&lt;/li>
&lt;li>For label, enter the exact topic name as it appears in the data source. Use a slash to access nested topics. For this example, all new order numbers are published to &lt;code>Oven/OrderNumber&lt;/code>.&lt;/li>
&lt;li>Confirm by clicking the green tick icon.&lt;/li>
&lt;li>Navigate to the &lt;strong>General&lt;/strong> tab and change the version state to active.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_Data_Source_Topic.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_Data_Source_Topic.png" alt="A new data source topic created in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
A new data source topic created in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h3>Create a unit of measure&lt;span class="hx:absolute hx:-mt-20" id="create-a-unit-of-measure">&lt;/span>
&lt;a href="#create-a-unit-of-measure" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ol>
&lt;li>From the Main Menu, navigate to &lt;strong>Master Data &amp;gt; Units of Measure&lt;/strong>.&lt;/li>
&lt;li>Add a new unit of measure.&lt;/li>
&lt;li>Enter &lt;code>Order Number&lt;/code> for the unit name.&lt;/li>
&lt;li>Select &lt;code>STRING&lt;/code> for the data type.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_Unit_of_Measure.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_Unit_of_Measure.png" alt="A new unit of measure created in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
A new unit of measure created in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h3>Creating a BPMN workflow&lt;span class="hx:absolute hx:-mt-20" id="creating-a-bpmn-workflow">&lt;/span>
&lt;a href="#creating-a-bpmn-workflow" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A rule must trigger a BPMN workflow.
Before setting up a rule, create its workflow.
For this example, this 3-node BPMN is enough:&lt;/p>
&lt;ol>
&lt;li>Navigate to &lt;strong>Workflows &amp;gt; Process List&lt;/strong>.&lt;/li>
&lt;li>Import the BPMN.&lt;/li>
&lt;li>Save it.&lt;/li>
&lt;li>Set the version as active.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_BPMN.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_BPMN.png" alt="A BPMN created in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
A BPMN created in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;p>The BPMN has a &lt;code>Libre Jsonata Transform&lt;/code> task that contains an expression &lt;code>&amp;quot;Preheating oven for order number &amp;quot; &amp;amp; $.orderNumber&amp;quot;&lt;/code> .
The rule engine triggers this BPMN with a payload that includes the order number value, as follows:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;orderNumber&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Order1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Create an equipment class with bound properties&lt;span class="hx:absolute hx:-mt-20" id="create-an-equipment-class-with-bound-properties">&lt;/span>
&lt;a href="#create-an-equipment-class-with-bound-properties" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h4>Equipment class and version&lt;span class="hx:absolute hx:-mt-20" id="equipment-class-and-version">&lt;/span>
&lt;a href="#equipment-class-and-version" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>Navigate to &lt;strong>Master Data &amp;gt; Equipment Class&lt;/strong>.&lt;/li>
&lt;li>Create a new equipment class from the sidebar. The label might be &lt;code>Pizza Line&lt;/code>, for example.&lt;/li>
&lt;li>From the &lt;strong>General&lt;/strong> tab, &lt;strong>Create&lt;/strong> a new Draft version.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_an_Equipment_Class_and_Version.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_an_Equipment_Class_and_Version.png" alt="A new equipment class and version created in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
A new equipment class and version created in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h4>Equipment class property&lt;span class="hx:absolute hx:-mt-20" id="equipment-class-property">&lt;/span>
&lt;a href="#equipment-class-property" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>From the properties tab, create a new property.&lt;/li>
&lt;li>For type, select &lt;code>BOUND&lt;/code>.&lt;/li>
&lt;li>For name, enter &lt;code>orderNumber&lt;/code>.&lt;/li>
&lt;li>For UoM, select the unit of measure created earlier (&lt;code>Order Number&lt;/code>).&lt;/li>
&lt;li>Confirm by clicking the green tick icon.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_an_Equipment_Class_Property.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_an_Equipment_Class_Property.png" alt="A new equipment class property created in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
A new equipment class property created in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h2>Create a rule&lt;span class="hx:absolute hx:-mt-20" id="create-a-rule">&lt;/span>
&lt;a href="#create-a-rule" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>Add a rule to an existing equipment class&lt;span class="hx:absolute hx:-mt-20" id="add-a-rule-to-an-existing-equipment-class">&lt;/span>
&lt;a href="#add-a-rule-to-an-existing-equipment-class" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ol>
&lt;li>From the Rules tab of an equipment class version, create a new rule.&lt;/li>
&lt;li>Enter &lt;code>Run BPMN on Order Number&lt;/code> for the name and confirm.&lt;/li>
&lt;li>Select &lt;code>rules_example_bpmn&lt;/code> for the workflow specification.&lt;/li>
&lt;li>Add &lt;code>orderNumber&lt;/code> as a trigger property.&lt;/li>
&lt;li>Add a trigger expression that evaluates to true or false.&lt;/li>
&lt;/ol>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">The rule runs the preceding workflow only if the expression evaluates to &lt;code>true&lt;/code>.
It’s common to compare the new value with the previous.&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>In this case, we can compare the new order number to the previous by adding &lt;code>OrderNumber.current.value != OrderNumber.previous.value&lt;/code>.
Note that the root of the object path must match the ID of the equipment class property we set up earlier and all evaluations are case-sensitive.&lt;/p>
&lt;p>The entire information that becomes available to the rule engine looks like this:&lt;/p>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">JSON input&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Expression&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-2">Output&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">orderNumber&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">current&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">bindingType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;BOUND&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">description&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;bound prop&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">equipmentClassProperty&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQCLASS1.10.orderNumber&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iid&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0x2a78&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">label&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;orderNumber&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">equipmentVersion&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">equipment&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQ1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iid&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0x1b&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">label&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQ1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQ1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iid&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0x22&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">version&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQCLASS1.10.orderNumber&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">label&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;orderNumber&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">messageKey&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;ns=3;i=1003.1695170450000000000&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">propertyType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;DefaultType&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">serverPicoseconds&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">serverTimestamp&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;2023-09-20T00:40:50.028Z&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sourcePicoseconds&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sourceTimestamp&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;2023-09-20T00:40:50Z&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">value&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;Order2&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">valueUnitOfMeasure&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">dataType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;FLOAT&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;FLOAT&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iid&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0x28&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">previous&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">bindingType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;BOUND&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">description&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;bound prop&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">equipmentClassProperty&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQCLASS1.10.orderNumber&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iid&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0x2a78&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">label&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;orderNumber&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">equipmentVersion&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">equipment&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQ1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iid&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0x1b&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">label&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQ1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQ1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iid&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0x22&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">version&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQCLASS1.10.orderNumber&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">label&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;orderNumber&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">messageKey&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;ns=3;i=1003.1695170440000000000&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">propertyType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;DefaultType&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">serverPicoseconds&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">serverTimestamp&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;2023-09-20T00:40:40.003Z&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sourcePicoseconds&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sourceTimestamp&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;2023-09-20T00:40:40Z&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">value&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;Order1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">valueUnitOfMeasure&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">dataType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;FLOAT&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;FLOAT&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iid&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0x28&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-1"
role="tabpanel">&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="sb">`OrderNumber.current.value != OrderNumber.previous.value`&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-2"
role="tabpanel">&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;pre>&lt;code>True&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>The expression evaluates to &lt;code>false&lt;/code>, because the &lt;code>current&lt;/code> and &lt;code>previous&lt;/code> values differ.&lt;/p>&lt;/div>
&lt;/div>
&lt;p>Optionally, pass information to the BPMN by adding a payload message. The message is an object with multiple keys.&lt;/p>
&lt;ol>
&lt;li>Enter &lt;code>orderNumber&lt;/code> for the field name.&lt;/li>
&lt;li>Enter &lt;code>orderNumber.current.value&lt;/code> for the JSON expression.&lt;/li>
&lt;li>Confirm by clicking the green tick icon.&lt;/li>
&lt;li>&lt;strong>Create&lt;/strong>.&lt;/li>
&lt;li>From the &lt;strong>General&lt;/strong> tab, change the equipment class version state to active.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_Rule.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_Rule.png" alt="Creating an equipment class rule in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
Creating an equipment class rule in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h3>Associate an equipment with a bound property&lt;span class="hx:absolute hx:-mt-20" id="associate-an-equipment-with-a-bound-property">&lt;/span>
&lt;a href="#associate-an-equipment-with-a-bound-property" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The final steps to setting up a rule are to:&lt;/p>
&lt;ol>
&lt;li>Create a new equipment version.&lt;/li>
&lt;li>Link it to a data source.&lt;/li>
&lt;li>Set up bound properties.&lt;/li>
&lt;/ol>
&lt;h4>Create an equipment and version&lt;span class="hx:absolute hx:-mt-20" id="create-an-equipment-and-version">&lt;/span>
&lt;a href="#create-an-equipment-and-version" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>From the Main Menu, navigate to &lt;strong>Master Data &amp;gt; Equipment&lt;/strong>.&lt;/li>
&lt;li>Select a piece of equipment. If none, create one called &lt;code>Line 1&lt;/code>.&lt;/li>
&lt;li>From the &lt;strong>General&lt;/strong> tab, &lt;strong>Create&lt;/strong>.&lt;/li>
&lt;li>Link the version to the equipment class you created earlier (&lt;code>Pizza Line&lt;/code>).&lt;/li>
&lt;li>Save the version to create it.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_an_Equipment_and_Version.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_an_Equipment_and_Version.png" alt="A new equipment class and version created in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
A new equipment class and version created in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h4>Link a data source&lt;span class="hx:absolute hx:-mt-20" id="link-a-data-source">&lt;/span>
&lt;a href="#link-a-data-source" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>From the &lt;strong>Data Sources&lt;/strong> tab, link the equipment version to the data source you created in the previous section.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Link_Equipment_to_Data_Source.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Link_Equipment_to_Data_Source.png" alt="An equipment linked to a data source in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
An equipment linked to a data source in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h4>Set up the bound property&lt;span class="hx:absolute hx:-mt-20" id="set-up-the-bound-property">&lt;/span>
&lt;a href="#set-up-the-bound-property" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>From the &lt;strong>Properties&lt;/strong> tab, find a property that you want this equipment to inherit and select the binding icon.&lt;/li>
&lt;li>If you chose the property &lt;code>orderNumber&lt;/code>, add the topic &lt;code>Oven/OrderNumber&lt;/code> you added previously.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Binding_an_Equipment_Property_to_a_Topic.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Binding_an_Equipment_Property_to_a_Topic.png" alt="An equipment property bound to a data source topic in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
An equipment property bound to a data source topic in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h2>Test the binding and the rule&lt;span class="hx:absolute hx:-mt-20" id="test-the-binding-and-the-rule">&lt;/span>
&lt;a href="#test-the-binding-and-the-rule" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Send a message to test that the value of the property &lt;code>orderNumber&lt;/code> of the equipment &lt;code>Line 1&lt;/code> is bound to the topic &lt;code>Oven/OrderNumber&lt;/code>.&lt;/p>
&lt;h3>Test using an MQTT client&lt;span class="hx:absolute hx:-mt-20" id="test-using-an-mqtt-client">&lt;/span>
&lt;a href="#test-using-an-mqtt-client" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>For example, using MQTT Explorer:&lt;/p>
&lt;ol>
&lt;li>Open MQTT Explorer and connect to the broker.&lt;/li>
&lt;/ol>
&lt;p>The microservice Libre Agent (&lt;code>libre-agent&lt;/code>) should immediately publish a message to indicate the data source topic &lt;code>Oven/OrderNumber&lt;/code> has been set up successfully.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Libre_Agent_has_Connected_to_the_Data_Source.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Libre_Agent_has_Connected_to_the_Data_Source.png" alt="The Libre Agent has connected to the data source."
width="65%"
>
&lt;/a>
&lt;figcaption class="caption">
The Libre Agent has connected to the data source.
&lt;/figcaption>
&lt;/figure>
&lt;ol start="2">
&lt;li>Publish the string &lt;code>Order1&lt;/code> to the topic &lt;code>Oven/OrderNumber&lt;/code>.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Publish_Order_Number_to_NATS.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Publish_Order_Number_to_NATS.png" alt="A new order number was published to the data source."
width="65%"
>
&lt;/a>
&lt;figcaption class="caption">
A new order number was published to the data source.
&lt;/figcaption>
&lt;/figure>
&lt;p>If the message has been received,
a new topic, &lt;code>Oven&lt;/code>, appears with its subtopic &lt;code>OrderNumber&lt;/code>.&lt;/p>
&lt;p>If there is an equipment property bound to this topic,
a topic called &lt;code>MQTT/&amp;lt;DATA_SOURCE_NAME&amp;gt;/ValueChanged&lt;/code> also appears.
In addition, the published value should show in the column &lt;code>Expression&lt;/code> of the equipment property &lt;code>orderNumber&lt;/code>.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-New_orderNumber_in_the_Admin_UI.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-New_orderNumber_in_the_Admin_UI.png" alt="The bound property assumes the last value published to the data source."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
The bound property assumes the last value published to the data source.
&lt;/figcaption>
&lt;/figure>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">If this is the first message published to the topic, the rule will not be triggered because Rhize has no previous value to compare it the message value to. However, if you publish another order number, a new topic called &lt;code>Core&lt;/code> will show up containing a subtopic called &lt;code>RuleTriggered&lt;/code> to indicate that the rule has indeed been triggered.&lt;/div>
&lt;/div>
&lt;/div>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Rule_Triggered_in_broker.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Rule_Triggered_in_broker.png" alt="The rule engine has published a message to indicate that the equipment class rule has indeed been triggered."
width="65%"
>
&lt;/a>
&lt;figcaption class="caption">
The rule engine has published a message to indicate that the equipment class rule has indeed been triggered.
&lt;/figcaption>
&lt;/figure>
&lt;h3>Confirm in execution in Tempo&lt;span class="hx:absolute hx:-mt-20" id="confirm-in-execution-in-tempo">&lt;/span>
&lt;a href="#confirm-in-execution-in-tempo" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>To confirm the intended BPMN was executed, navigate to Grafana (Tempo) and look for a trace containing the expected BPMN ID.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Executed_BPMNs_in_Grafana.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Executed_BPMNs_in_Grafana.png" alt="Grafana shows a recent trace with the id of the target BPMN."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
Grafana shows a recent trace with the id of the target BPMN.
&lt;/figcaption>
&lt;/figure>
&lt;h2>Video example&lt;span class="hx:absolute hx:-mt-20" id="video-example">&lt;/span>
&lt;a href="#video-example" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>&amp;#x1f3a5; &lt;a href="https://www.youtube.com/watch?v=y5lr9JRmxDA" target="_blank" rel="noopener">Trigger BPMN&lt;/a>. This video provides an example of creating a rule based on values for an OPC UA server in a baking process.&lt;/li>
&lt;/ul></description></item><item><title>Tutorial: Trigger a workflow from a rule</title><link>https://docs.rhize.com/versions/v3.2.0/how-to/publish-subscribe/create-equipment-class-rule/</link><pubDate>Mon, 29 Apr 2024 11:39:29 +0300</pubDate><guid>https://docs.rhize.com/versions/v3.2.0/how-to/publish-subscribe/create-equipment-class-rule/</guid><description>
&lt;p>An equipment class rule &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/trigger-workflows/" >triggers a BPMN&lt;/a> workflow whenever a data source publishes a value that meets a specified threshold.&lt;/p>
&lt;p>Imagine a scenario when an oven must be preheated every time a new order number is published to an MQTT edge device.
You could automate this workflow with a rule that listens to messages published and evaluates a condition.
If the condition evaluates to &lt;code>true&lt;/code>, the rule triggers a &lt;abbr title="Business Process Model and Notation. A standardized graphical notation used to represent business processes in an intuitive, visual way. Rhize&amp;#39;s BPMN UI and engine provides a low-code interface for complex event handling">BPMN&lt;/abbr> workflow to preheat the oven.&lt;/p>
&lt;pre class="mermaid hx:mt-6">
---
title: Rules trigger workflows from data-source changes
---
flowchart LR
A(Property changed?) --&amp;gt;|yes| B{&amp;#34;rule evaluates to true?&amp;#34;}
B --&amp;gt;|no| C(do nothing)
B --&amp;gt;|&amp;#34;yes (optional: pass variables)&amp;#34;| D(Run BPMN workflow)
&lt;/pre>&lt;p>The broad procedure to create a rule is as follows:&lt;/p>
&lt;ol>
&lt;li>In the Rhize UI or through GraphQL, create models for the data source and its associated unit of measure, equipment, and equipment class.&lt;/li>
&lt;li>In the Rhize UI, write a BPMN workflow that is triggered when this data source changes and executes some business logic.&lt;/li>
&lt;li>In the equipment class, create a rule that triggers the workflow.&lt;/li>
&lt;/ol>
&lt;p>The following sections describe how to do these steps in more detail.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">This tutorial assumes a data source that exchanges messages over the MQTT protocol.&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prerequisites">&lt;/span>
&lt;a href="#prerequisites" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Before you start, ensure you have the following:&lt;/p>
&lt;ul>
&lt;li>Access your Rhize customer environment&lt;/li>
&lt;li>The &lt;a href="https://docs.rhize.com/versions/v3.2.0/reference/service-config/agent-configuration/" >Agent configured&lt;/a> to listen for your data-source ID&lt;/li>
&lt;/ul>
&lt;h2>Set up: configure equipment and workflows&lt;span class="hx:absolute hx:-mt-20" id="set-up-configure-equipment-and-workflows">&lt;/span>
&lt;a href="#set-up-configure-equipment-and-workflows" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The setup involves modeling the objects associated with the rule.&lt;/p>
&lt;ul>
&lt;li>Data source&lt;/li>
&lt;li>Data source topic&lt;/li>
&lt;li>Unit of measure&lt;/li>
&lt;li>BPMN&lt;/li>
&lt;li>Equipment class with bound properties&lt;/li>
&lt;/ul>
&lt;p>Once you have these, you can create a rule and associate it with an actual equipment item.&lt;/p>
&lt;h3>Create a data source&lt;span class="hx:absolute hx:-mt-20" id="create-a-data-source">&lt;/span>
&lt;a href="#create-a-data-source" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ol>
&lt;li>From the main menu, navigate to &lt;strong>Master Data &amp;gt; Data Sources&lt;/strong>.&lt;/li>
&lt;li>Create a new data source. The label (ID) must match the one specified in the configuration file for the &lt;code>libre-agent&lt;/code> microservice.&lt;/li>
&lt;li>From the &lt;strong>General&lt;/strong> tab, add a draft data source version.&lt;/li>
&lt;li>Select &lt;code>MQTT&lt;/code> as the data-source protocol.&lt;/li>
&lt;li>Optionally, enter a connection string, such as &lt;code>mqtt://&amp;lt;REMOTE_HOST&amp;gt;:1883&lt;/code>, that matches the one specified in the configuration file for the &lt;code>libre-agent&lt;/code> microservice.&lt;/li>
&lt;li>Save the data source version to create it.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_Data_Source_and_Version.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_Data_Source_and_Version.png" alt="A new data source and version created in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
A new data source and version created in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h3>Create a data source topic&lt;span class="hx:absolute hx:-mt-20" id="create-a-data-source-topic">&lt;/span>
&lt;a href="#create-a-data-source-topic" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ol>
&lt;li>Navigate to the &lt;strong>Topics&lt;/strong> tab.&lt;/li>
&lt;li>Add a new property (that is, a topic).&lt;/li>
&lt;li>Select &lt;code>STRING&lt;/code> for the property data type (this assumes an order number is a string such as &lt;code>Order1&lt;/code>).&lt;/li>
&lt;li>Select your preferred deduplication key. The default option, &lt;code>Message Value&lt;/code>, is most appropriate for this scenario.&lt;/li>
&lt;li>For label, enter the exact topic name as it appears in the data source. Use a slash to access nested topics. For this example, all new order numbers are published to &lt;code>Oven/OrderNumber&lt;/code>.&lt;/li>
&lt;li>Confirm by clicking the green tick icon.&lt;/li>
&lt;li>Navigate to the &lt;strong>General&lt;/strong> tab and change the version state to active.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_Data_Source_Topic.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_Data_Source_Topic.png" alt="A new data source topic created in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
A new data source topic created in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h3>Create a unit of measure&lt;span class="hx:absolute hx:-mt-20" id="create-a-unit-of-measure">&lt;/span>
&lt;a href="#create-a-unit-of-measure" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ol>
&lt;li>From the Main Menu, navigate to &lt;strong>Master Data &amp;gt; Units of Measure&lt;/strong>.&lt;/li>
&lt;li>Add a new unit of measure.&lt;/li>
&lt;li>Enter &lt;code>Order Number&lt;/code> for the unit name.&lt;/li>
&lt;li>Select &lt;code>STRING&lt;/code> for the data type.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_Unit_of_Measure.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_Unit_of_Measure.png" alt="A new unit of measure created in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
A new unit of measure created in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h3>Creating a BPMN workflow&lt;span class="hx:absolute hx:-mt-20" id="creating-a-bpmn-workflow">&lt;/span>
&lt;a href="#creating-a-bpmn-workflow" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A rule must trigger a BPMN workflow.
Before setting up a rule, create its workflow.
For this example, this 3-node BPMN is enough:&lt;/p>
&lt;ol>
&lt;li>Navigate to &lt;strong>Workflows &amp;gt; Process List&lt;/strong>.&lt;/li>
&lt;li>Import the BPMN.&lt;/li>
&lt;li>Save it.&lt;/li>
&lt;li>Set the version as active.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_BPMN.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_BPMN.png" alt="A BPMN created in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
A BPMN created in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;p>The BPMN has a &lt;code>Libre Jsonata Transform&lt;/code> task that contains an expression &lt;code>&amp;quot;Preheating oven for order number &amp;quot; &amp;amp; $.orderNumber&amp;quot;&lt;/code> .
The rule engine triggers this BPMN with a payload that includes the order number value, as follows:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;orderNumber&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Order1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Create an equipment class with bound properties&lt;span class="hx:absolute hx:-mt-20" id="create-an-equipment-class-with-bound-properties">&lt;/span>
&lt;a href="#create-an-equipment-class-with-bound-properties" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h4>Equipment class and version&lt;span class="hx:absolute hx:-mt-20" id="equipment-class-and-version">&lt;/span>
&lt;a href="#equipment-class-and-version" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>Navigate to &lt;strong>Master Data &amp;gt; Equipment Class&lt;/strong>.&lt;/li>
&lt;li>Create a new equipment class from the sidebar. The label might be &lt;code>Pizza Line&lt;/code>, for example.&lt;/li>
&lt;li>From the &lt;strong>General&lt;/strong> tab, &lt;strong>Create&lt;/strong> a new Draft version.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_an_Equipment_Class_and_Version.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_an_Equipment_Class_and_Version.png" alt="A new equipment class and version created in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
A new equipment class and version created in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h4>Equipment class property&lt;span class="hx:absolute hx:-mt-20" id="equipment-class-property">&lt;/span>
&lt;a href="#equipment-class-property" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>From the properties tab, create a new property.&lt;/li>
&lt;li>For type, select &lt;code>BOUND&lt;/code>.&lt;/li>
&lt;li>For name, enter &lt;code>orderNumber&lt;/code>.&lt;/li>
&lt;li>For UoM, select the unit of measure created earlier (&lt;code>Order Number&lt;/code>).&lt;/li>
&lt;li>Confirm by clicking the green tick icon.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_an_Equipment_Class_Property.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_an_Equipment_Class_Property.png" alt="A new equipment class property created in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
A new equipment class property created in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h2>Create a rule&lt;span class="hx:absolute hx:-mt-20" id="create-a-rule">&lt;/span>
&lt;a href="#create-a-rule" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>Add a rule to an existing equipment class&lt;span class="hx:absolute hx:-mt-20" id="add-a-rule-to-an-existing-equipment-class">&lt;/span>
&lt;a href="#add-a-rule-to-an-existing-equipment-class" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ol>
&lt;li>From the Rules tab of an equipment class version, create a new rule.&lt;/li>
&lt;li>Enter &lt;code>Run BPMN on Order Number&lt;/code> for the name and confirm.&lt;/li>
&lt;li>Select &lt;code>rules_example_bpmn&lt;/code> for the workflow specification.&lt;/li>
&lt;li>Add &lt;code>orderNumber&lt;/code> as a trigger property.&lt;/li>
&lt;li>Add a trigger expression that evaluates to true or false.&lt;/li>
&lt;/ol>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">The rule runs the preceding workflow only if the expression evaluates to &lt;code>true&lt;/code>.
It’s common to compare the new value with the previous.&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>In this case, we can compare the new order number to the previous by adding &lt;code>OrderNumber.current.value != OrderNumber.previous.value&lt;/code>.
Note that the root of the object path must match the ID of the equipment class property we set up earlier and all evaluations are case-sensitive.&lt;/p>
&lt;p>The entire information that becomes available to the rule engine looks like this:&lt;/p>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">JSON input&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Expression&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-2">Output&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">orderNumber&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">current&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">bindingType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;BOUND&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">description&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;bound prop&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">equipmentClassProperty&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQCLASS1.10.orderNumber&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iid&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0x2a78&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">label&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;orderNumber&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">equipmentVersion&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">equipment&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQ1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iid&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0x1b&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">label&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQ1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQ1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iid&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0x22&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">version&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQCLASS1.10.orderNumber&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">label&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;orderNumber&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">messageKey&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;ns=3;i=1003.1695170450000000000&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">propertyType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;DefaultType&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">serverPicoseconds&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">serverTimestamp&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;2023-09-20T00:40:50.028Z&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sourcePicoseconds&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sourceTimestamp&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;2023-09-20T00:40:50Z&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">value&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;Order2&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">valueUnitOfMeasure&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">dataType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;FLOAT&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;FLOAT&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iid&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0x28&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">previous&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">bindingType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;BOUND&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">description&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;bound prop&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">equipmentClassProperty&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQCLASS1.10.orderNumber&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iid&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0x2a78&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">label&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;orderNumber&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">equipmentVersion&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">equipment&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQ1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iid&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0x1b&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">label&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQ1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQ1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iid&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0x22&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">version&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;EQCLASS1.10.orderNumber&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">label&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;orderNumber&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">messageKey&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;ns=3;i=1003.1695170440000000000&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">propertyType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;DefaultType&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">serverPicoseconds&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">serverTimestamp&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;2023-09-20T00:40:40.003Z&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sourcePicoseconds&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sourceTimestamp&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;2023-09-20T00:40:40Z&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">value&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;Order1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">valueUnitOfMeasure&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">dataType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;FLOAT&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;FLOAT&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iid&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0x28&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-1"
role="tabpanel">&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="sb">`OrderNumber.current.value != OrderNumber.previous.value`&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-2"
role="tabpanel">&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;pre>&lt;code>True&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>The expression evaluates to &lt;code>false&lt;/code>, because the &lt;code>current&lt;/code> and &lt;code>previous&lt;/code> values differ.&lt;/p>&lt;/div>
&lt;/div>
&lt;p>Optionally, pass information to the BPMN by adding a payload message. The message is an object with multiple keys.&lt;/p>
&lt;ol>
&lt;li>Enter &lt;code>orderNumber&lt;/code> for the field name.&lt;/li>
&lt;li>Enter &lt;code>orderNumber.current.value&lt;/code> for the JSON expression.&lt;/li>
&lt;li>Confirm by clicking the green tick icon.&lt;/li>
&lt;li>&lt;strong>Create&lt;/strong>.&lt;/li>
&lt;li>From the &lt;strong>General&lt;/strong> tab, change the equipment class version state to active.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_Rule.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_a_Rule.png" alt="Creating an equipment class rule in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
Creating an equipment class rule in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h3>Associate an equipment with a bound property&lt;span class="hx:absolute hx:-mt-20" id="associate-an-equipment-with-a-bound-property">&lt;/span>
&lt;a href="#associate-an-equipment-with-a-bound-property" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The final steps to setting up a rule are to:&lt;/p>
&lt;ol>
&lt;li>Create a new equipment version.&lt;/li>
&lt;li>Link it to a data source.&lt;/li>
&lt;li>Set up bound properties.&lt;/li>
&lt;/ol>
&lt;h4>Create an equipment and version&lt;span class="hx:absolute hx:-mt-20" id="create-an-equipment-and-version">&lt;/span>
&lt;a href="#create-an-equipment-and-version" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>From the Main Menu, navigate to &lt;strong>Master Data &amp;gt; Equipment&lt;/strong>.&lt;/li>
&lt;li>Select a piece of equipment. If none, create one called &lt;code>Line 1&lt;/code>.&lt;/li>
&lt;li>From the &lt;strong>General&lt;/strong> tab, &lt;strong>Create&lt;/strong>.&lt;/li>
&lt;li>Link the version to the equipment class you created earlier (&lt;code>Pizza Line&lt;/code>).&lt;/li>
&lt;li>Save the version to create it.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_an_Equipment_and_Version.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Creating_an_Equipment_and_Version.png" alt="A new equipment class and version created in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
A new equipment class and version created in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h4>Link a data source&lt;span class="hx:absolute hx:-mt-20" id="link-a-data-source">&lt;/span>
&lt;a href="#link-a-data-source" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>From the &lt;strong>Data Sources&lt;/strong> tab, link the equipment version to the data source you created in the previous section.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Link_Equipment_to_Data_Source.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Link_Equipment_to_Data_Source.png" alt="An equipment linked to a data source in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
An equipment linked to a data source in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h4>Set up the bound property&lt;span class="hx:absolute hx:-mt-20" id="set-up-the-bound-property">&lt;/span>
&lt;a href="#set-up-the-bound-property" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>From the &lt;strong>Properties&lt;/strong> tab, find a property that you want this equipment to inherit and select the binding icon.&lt;/li>
&lt;li>If you chose the property &lt;code>orderNumber&lt;/code>, add the topic &lt;code>Oven/OrderNumber&lt;/code> you added previously.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Binding_an_Equipment_Property_to_a_Topic.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Binding_an_Equipment_Property_to_a_Topic.png" alt="An equipment property bound to a data source topic in the UI."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
An equipment property bound to a data source topic in the UI.
&lt;/figcaption>
&lt;/figure>
&lt;h2>Test the binding and the rule&lt;span class="hx:absolute hx:-mt-20" id="test-the-binding-and-the-rule">&lt;/span>
&lt;a href="#test-the-binding-and-the-rule" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Send a message to test that the value of the property &lt;code>orderNumber&lt;/code> of the equipment &lt;code>Line 1&lt;/code> is bound to the topic &lt;code>Oven/OrderNumber&lt;/code>.&lt;/p>
&lt;h3>Test using an MQTT client&lt;span class="hx:absolute hx:-mt-20" id="test-using-an-mqtt-client">&lt;/span>
&lt;a href="#test-using-an-mqtt-client" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>For example, using MQTT Explorer:&lt;/p>
&lt;ol>
&lt;li>Open MQTT Explorer and connect to the broker.&lt;/li>
&lt;/ol>
&lt;p>The microservice Libre Agent (&lt;code>libre-agent&lt;/code>) should immediately publish a message to indicate the data source topic &lt;code>Oven/OrderNumber&lt;/code> has been set up successfully.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Libre_Agent_has_Connected_to_the_Data_Source.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Libre_Agent_has_Connected_to_the_Data_Source.png" alt="The Libre Agent has connected to the data source."
width="65%"
>
&lt;/a>
&lt;figcaption class="caption">
The Libre Agent has connected to the data source.
&lt;/figcaption>
&lt;/figure>
&lt;ol start="2">
&lt;li>Publish the string &lt;code>Order1&lt;/code> to the topic &lt;code>Oven/OrderNumber&lt;/code>.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Publish_Order_Number_to_NATS.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Publish_Order_Number_to_NATS.png" alt="A new order number was published to the data source."
width="65%"
>
&lt;/a>
&lt;figcaption class="caption">
A new order number was published to the data source.
&lt;/figcaption>
&lt;/figure>
&lt;p>If the message has been received,
a new topic, &lt;code>Oven&lt;/code>, appears with its subtopic &lt;code>OrderNumber&lt;/code>.&lt;/p>
&lt;p>If there is an equipment property bound to this topic,
a topic called &lt;code>MQTT/&amp;lt;DATA_SOURCE_NAME&amp;gt;/ValueChanged&lt;/code> also appears.
In addition, the published value should show in the column &lt;code>Expression&lt;/code> of the equipment property &lt;code>orderNumber&lt;/code>.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-New_orderNumber_in_the_Admin_UI.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-New_orderNumber_in_the_Admin_UI.png" alt="The bound property assumes the last value published to the data source."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
The bound property assumes the last value published to the data source.
&lt;/figcaption>
&lt;/figure>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">If this is the first message published to the topic, the rule will not be triggered because Rhize has no previous value to compare it the message value to. However, if you publish another order number, a new topic called &lt;code>Core&lt;/code> will show up containing a subtopic called &lt;code>RuleTriggered&lt;/code> to indicate that the rule has indeed been triggered.&lt;/div>
&lt;/div>
&lt;/div>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Rule_Triggered_in_broker.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Rule_Triggered_in_broker.png" alt="The rule engine has published a message to indicate that the equipment class rule has indeed been triggered."
width="65%"
>
&lt;/a>
&lt;figcaption class="caption">
The rule engine has published a message to indicate that the equipment class rule has indeed been triggered.
&lt;/figcaption>
&lt;/figure>
&lt;h3>Confirm in execution in Tempo&lt;span class="hx:absolute hx:-mt-20" id="confirm-in-execution-in-tempo">&lt;/span>
&lt;a href="#confirm-in-execution-in-tempo" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>To confirm the intended BPMN was executed, navigate to Grafana (Tempo) and look for a trace containing the expected BPMN ID.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Executed_BPMNs_in_Grafana.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/equipment-class-rules/screenshot-rhize-Executed_BPMNs_in_Grafana.png" alt="Grafana shows a recent trace with the id of the target BPMN."
width="100%"
>
&lt;/a>
&lt;figcaption class="caption">
Grafana shows a recent trace with the id of the target BPMN.
&lt;/figcaption>
&lt;/figure>
&lt;h2>Video example&lt;span class="hx:absolute hx:-mt-20" id="video-example">&lt;/span>
&lt;a href="#video-example" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>&amp;#x1f3a5; &lt;a href="https://www.youtube.com/watch?v=y5lr9JRmxDA" target="_blank" rel="noopener">Trigger BPMN&lt;/a>. This video provides an example of creating a rule based on values for an OPC UA server in a baking process.&lt;/li>
&lt;/ul></description></item><item><title>Connect data source</title><link>https://docs.rhize.com/versions/v3.0.3/how-to/publish-subscribe/connect-datasource/</link><pubDate>Fri, 22 Sep 2023 14:50:39 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.0.3/how-to/publish-subscribe/connect-datasource/</guid><description>
&lt;p>For Rhize to listen to and handle manufacturing events,
you need to connect a &lt;abbr title="A source of real-time data that is collected by the Rhize agent, such as an MQTT or OPC UA device">data source&lt;/abbr>.&lt;/p>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prerequisites">&lt;/span>
&lt;a href="#prerequisites" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>To add a data source, you need the following:&lt;/p>
&lt;ul>
&lt;li>Access to an MQTT or OPC UA server&lt;/li>
&lt;li>Credentials for this server, if necessary&lt;/li>
&lt;li>The URL and connection string for this server (Rhize will point to this)&lt;/li>
&lt;/ul>
&lt;h2>Steps to connect&lt;span class="hx:absolute hx:-mt-20" id="steps-to-connect">&lt;/span>
&lt;a href="#steps-to-connect" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The process has two sides:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Sending topics from your MQTT, OPCUA, or NATS server to Rhize.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>In Rhize, &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/model/create-objects-ui/" >defining the data source&lt;/a> and its associated objects.&lt;/p>
&lt;p>To do this, you can create entities in the Rhize UI or through its &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/gql/" >GraphQL API&lt;/a>.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3>Model the data source in the Rhize UI&lt;span class="hx:absolute hx:-mt-20" id="model-the-data-source-in-the-rhize-ui">&lt;/span>
&lt;a href="#model-the-data-source-in-the-rhize-ui" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ol>
&lt;li>Enter the Rhize UI and go to &lt;strong>Master Data &amp;gt; Data sources&lt;/strong>.&lt;/li>
&lt;li>Add the connection string, topics, and other necessary parameters. For details of what these fields mean, review the &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/model/master-definitions/#data-sources" >Data source object reference&lt;/a>.&lt;/li>
&lt;li>&lt;strong>Create&lt;/strong> and then change version state to &lt;code>Active&lt;/code>.&lt;/li>
&lt;/ol>
&lt;p>Now add the data source to its equipment (or, if it doesn&amp;rsquo;t exist &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/model/master-definitions/#equipment" >model new equipment&lt;/a>):&lt;/p>
&lt;ol>
&lt;li>Select the equipment, then &lt;strong>Data sources&lt;/strong>.&lt;/li>
&lt;li>If the equipment has properties bound to this data source, create the properties, then configure them as &lt;code>BOUND&lt;/code> to the data source.&lt;/li>
&lt;/ol>
&lt;p>Once active, Rhize reaches out to this data source and synchronizes the equipment properties to the bound topics.&lt;/p>
&lt;h2>Next steps&lt;span class="hx:absolute hx:-mt-20" id="next-steps">&lt;/span>
&lt;a href="#next-steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Now that you have the data source sending data you can:&lt;/p>
&lt;ul>
&lt;li>Write a rule to &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/publish-subscribe/create-equipment-class-rule/" >Turn data into events&lt;/a> that trigger workflows.&lt;/li>
&lt;li>&lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/" >Create a BPMN workflow&lt;/a> to run on this trigger.
You can also write a workflow that subscribes to data source directly through a &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/bpmn-elements/#message" >message start event&lt;/a>.&lt;/li>
&lt;/ul></description></item><item><title>Connect data source</title><link>https://docs.rhize.com/versions/v3.1.0/how-to/publish-subscribe/connect-datasource/</link><pubDate>Fri, 22 Sep 2023 14:50:39 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.1.0/how-to/publish-subscribe/connect-datasource/</guid><description>
&lt;p>For Rhize to listen to and handle manufacturing events,
you need to connect a &lt;abbr title="A source of real-time data that is collected by the Rhize agent, such as an MQTT or OPC UA device">data source&lt;/abbr>.&lt;/p>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prerequisites">&lt;/span>
&lt;a href="#prerequisites" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>To add a data source, you need the following:&lt;/p>
&lt;ul>
&lt;li>Access to an MQTT or OPC UA server&lt;/li>
&lt;li>Credentials for this server, if necessary&lt;/li>
&lt;li>The URL and connection string for this server (Rhize will point to this)&lt;/li>
&lt;/ul>
&lt;h2>Steps to connect&lt;span class="hx:absolute hx:-mt-20" id="steps-to-connect">&lt;/span>
&lt;a href="#steps-to-connect" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The process has two sides:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Sending topics from your MQTT, OPCUA, or NATS server to Rhize.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>In Rhize, &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/model/create-objects-ui/" >defining the data source&lt;/a> and its associated objects.&lt;/p>
&lt;p>To do this, you can create entities in the Rhize UI or through its &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/gql/" >GraphQL API&lt;/a>.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3>Model the data source in the Rhize UI&lt;span class="hx:absolute hx:-mt-20" id="model-the-data-source-in-the-rhize-ui">&lt;/span>
&lt;a href="#model-the-data-source-in-the-rhize-ui" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ol>
&lt;li>Enter the Rhize UI and go to &lt;strong>Master Data &amp;gt; Data sources&lt;/strong>.&lt;/li>
&lt;li>Add the connection string, topics, and other necessary parameters. For details of what these fields mean, review the &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/model/master-definitions/#data-sources" >Data source object reference&lt;/a>.&lt;/li>
&lt;li>&lt;strong>Create&lt;/strong> and then change version state to &lt;code>Active&lt;/code>.&lt;/li>
&lt;/ol>
&lt;p>Now add the data source to its equipment (or, if it doesn&amp;rsquo;t exist &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/model/master-definitions/#equipment" >model new equipment&lt;/a>):&lt;/p>
&lt;ol>
&lt;li>Select the equipment, then &lt;strong>Data sources&lt;/strong>.&lt;/li>
&lt;li>If the equipment has properties bound to this data source, create the properties, then configure them as &lt;code>BOUND&lt;/code> to the data source.&lt;/li>
&lt;/ol>
&lt;p>Once active, Rhize reaches out to this data source and synchronizes the equipment properties to the bound topics.&lt;/p>
&lt;h2>Next steps&lt;span class="hx:absolute hx:-mt-20" id="next-steps">&lt;/span>
&lt;a href="#next-steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Now that you have the data source sending data you can:&lt;/p>
&lt;ul>
&lt;li>Write a rule to &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/publish-subscribe/create-equipment-class-rule/" >Turn data into events&lt;/a> that trigger workflows.&lt;/li>
&lt;li>&lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/" >Create a BPMN workflow&lt;/a> to run on this trigger.
You can also write a workflow that subscribes to data source directly through a &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/bpmn-elements/#message" >message start event&lt;/a>.&lt;/li>
&lt;/ul></description></item><item><title>Connect data source</title><link>https://docs.rhize.com/versions/v3.2.0/how-to/publish-subscribe/connect-datasource/</link><pubDate>Fri, 22 Sep 2023 14:50:39 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.2.0/how-to/publish-subscribe/connect-datasource/</guid><description>
&lt;p>For Rhize to listen to and handle manufacturing events,
you need to connect a &lt;abbr title="A source of real-time data that is collected by the Rhize agent, such as an MQTT or OPC UA device">data source&lt;/abbr>.&lt;/p>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prerequisites">&lt;/span>
&lt;a href="#prerequisites" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>To add a data source, you need the following:&lt;/p>
&lt;ul>
&lt;li>Access to an MQTT or OPC UA server&lt;/li>
&lt;li>Credentials for this server, if necessary&lt;/li>
&lt;li>The URL and connection string for this server (Rhize will point to this)&lt;/li>
&lt;/ul>
&lt;h2>Steps to connect&lt;span class="hx:absolute hx:-mt-20" id="steps-to-connect">&lt;/span>
&lt;a href="#steps-to-connect" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The process has two sides:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Sending topics from your MQTT, OPCUA, or NATS server to Rhize.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>In Rhize, &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/model/create-objects-ui/" >defining the data source&lt;/a> and its associated objects.&lt;/p>
&lt;p>To do this, you can create entities in the Rhize UI or through its &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/gql/" >GraphQL API&lt;/a>.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3>Model the data source in the Rhize UI&lt;span class="hx:absolute hx:-mt-20" id="model-the-data-source-in-the-rhize-ui">&lt;/span>
&lt;a href="#model-the-data-source-in-the-rhize-ui" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ol>
&lt;li>Enter the Rhize UI and go to &lt;strong>Master Data &amp;gt; Data sources&lt;/strong>.&lt;/li>
&lt;li>Add the connection string, topics, and other necessary parameters. For details of what these fields mean, review the &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/model/master-definitions/#data-sources" >Data source object reference&lt;/a>.&lt;/li>
&lt;li>&lt;strong>Create&lt;/strong> and then change version state to &lt;code>Active&lt;/code>.&lt;/li>
&lt;/ol>
&lt;p>Now add the data source to its equipment (or, if it doesn&amp;rsquo;t exist &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/model/master-definitions/#equipment" >model new equipment&lt;/a>):&lt;/p>
&lt;ol>
&lt;li>Select the equipment, then &lt;strong>Data sources&lt;/strong>.&lt;/li>
&lt;li>If the equipment has properties bound to this data source, create the properties, then configure them as &lt;code>BOUND&lt;/code> to the data source.&lt;/li>
&lt;/ol>
&lt;p>Once active, Rhize reaches out to this data source and synchronizes the equipment properties to the bound topics.&lt;/p>
&lt;h2>Next steps&lt;span class="hx:absolute hx:-mt-20" id="next-steps">&lt;/span>
&lt;a href="#next-steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Now that you have the data source sending data you can:&lt;/p>
&lt;ul>
&lt;li>Write a rule to &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/publish-subscribe/create-equipment-class-rule/" >Turn data into events&lt;/a> that trigger workflows.&lt;/li>
&lt;li>&lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/" >Create a BPMN workflow&lt;/a> to run on this trigger.
You can also write a workflow that subscribes to data source directly through a &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/bpmn-elements/#message" >message start event&lt;/a>.&lt;/li>
&lt;/ul></description></item><item><title>Overview: orchestrate processes</title><link>https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/create-workflow/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/create-workflow/</guid><description>
&lt;p>This guide provides a quick overview of the major features of the Rhize &lt;abbr title="Business Process Model and Notation. A standardized graphical notation used to represent business processes in an intuitive, visual way. Rhize&amp;#39;s BPMN UI and engine provides a low-code interface for complex event handling">BPMN&lt;/abbr> engine and interface, with links to detailed guides for specific topics.
For a reference of all BPMN elements and their parameters, refer to &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/bpmn-elements/" >BPMN elements&lt;/a>.&lt;/p>
&lt;p>The Rhize BPMN UI provides a graphical interface to transform and standardize data flows across systems.
Such &lt;em>process orchestration&lt;/em> has many uses for manufacturing.
For example, you can write a BPMN workflow to do any of the following:&lt;/p>
&lt;ul>
&lt;li>Automatically ingest data from ERP and SCADA systems, then transform and store the payloads in the standardized ISA-95 representation&lt;/li>
&lt;li>Coordinate tasks across various systems, creating a layer for different data and protocols to pass through&lt;/li>
&lt;li>Calculate derived values from the data that is exchanged to perform functions such as waste calculation and process control.&lt;/li>
&lt;/ul>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/bpmn/rhize-bpmn-coordination-between-multiple-systems.png.webp" target="_blank">
&lt;img src="https://docs.rhize.com/images/bpmn/rhize-bpmn-coordination-between-multiple-systems.png.webp" alt="An example of a workflow that transforms, calculates, stores, and sends to external systems"
width="70%"
>
&lt;/a>
&lt;/figure>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">Rhize BPMN workflows conform to the visual grammar described in the OMG standard for &lt;a href="https://www.omg.org/spec/BPMN/2.0/" target="_blank" rel="noopener">Business Process Model and Notation&lt;/a>.
Each process is made of &lt;em>events&lt;/em> (circles), &lt;em>activities&lt;/em> (rectangles), &lt;em>gateways&lt;/em> (diamonds), and &lt;em>flows&lt;/em> (arrows).
Some elements are extended for Rhize-specific features, such as service tasks that call the GraphQL API.
Some elements from the standard are unused and thus do not appear in the UI.&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Request and send data&lt;span class="hx:absolute hx:-mt-20" id="request-and-send-data">&lt;/span>
&lt;a href="#request-and-send-data" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Workflows often exchange data between Rhize and one or more external systems.
The BPMN activity &lt;em>task templates&lt;/em> provide multiple ways to communicate with internal and external systems,
and pass data over different protocols.
Additionally, &lt;em>message&lt;/em> events provide templates to publish and subscribe to the Rhize broker.&lt;/p>
&lt;p>Each template has a set of parameters to configure it.
&lt;strong>To use a template&lt;/strong>:&lt;/p>
&lt;ol>
&lt;li>Select the &lt;em>activity&lt;/em> (rectangle) element.&lt;/li>
&lt;li>Select &lt;strong>Template&lt;/strong> and then choose the template you want.&lt;/li>
&lt;li>Configure the template according to its &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/bpmn-elements/#jsonata-transform" >Task parameters&lt;/a>.&lt;/li>
&lt;/ol>
&lt;h3>Interact with the Rhize API&lt;span class="hx:absolute hx:-mt-20" id="interact-with-the-rhize-api">&lt;/span>
&lt;a href="#interact-with-the-rhize-api" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Use GraphQL tasks to query and change data in your manufacturing knowledge graph.
For example:&lt;/p>
&lt;ul>
&lt;li>A scheduling workflow could use the &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/bpmn-elements/#graphql-query" >Query task&lt;/a> to find all &lt;code>JobResponses&lt;/code> whose state is &lt;code>COMPLETED&lt;/code>.&lt;/li>
&lt;li>An ingestion workflow might use a &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/bpmn-elements/#graphql-mutation" >Mutation task&lt;/a> to update new &lt;code>jobResponse&lt;/code> data that was published from a SCADA system.&lt;/li>
&lt;/ul>
&lt;p>You can also use &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/bpmn-elements/#jsonata-transform" >JSONata&lt;/a> in your GraphQL payloads to dynamically add values at runtime.
For details about how to use the Rhize API, read the &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/gql/" >Guide to GraphQL&lt;/a>.&lt;/p>
&lt;h3>Interact with external systems&lt;span class="hx:absolute hx:-mt-20" id="interact-with-external-systems">&lt;/span>
&lt;a href="#interact-with-external-systems" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>To make HTTP requests to external systems, use the &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/bpmn-elements/#call-rest-api" >REST task&lt;/a>.
For example, you might send a &lt;code>POST&lt;/code> with performance values to an ERP system, or use a &lt;code>GET&lt;/code> operation to query test results.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">Besides REST, you can use this template to interact with any HTTP API.&lt;/div>
&lt;/div>
&lt;/div>
&lt;h3>Publish and subscribe&lt;span class="hx:absolute hx:-mt-20" id="publish-and-subscribe">&lt;/span>
&lt;a href="#publish-and-subscribe" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Besides HTTP, workflows can also publish and subscribe messages over MQTT, NATS, and OPC UA.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/bpmn/rhize-bpmn-message-start-throw-conditional.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/bpmn/rhize-bpmn-message-start-throw-conditional.png" alt="A workflow that listens to a message and throws a message"
width="60%"
>
&lt;/a>
&lt;figcaption class="caption">
A workflow that evaluates a message and throws a if the payload meets a certain condition message
&lt;/figcaption>
&lt;/figure>
&lt;p>&lt;strong>To publish and subscribe to the Rhize broker:&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>Select a start (thin circle) or intermediate (double-line) circle.&lt;/li>
&lt;li>Select the wrench icon.&lt;/li>
&lt;li>Select the message event (circle with an envelope).&lt;/li>
&lt;li>Configure the message topic and body according to the &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/bpmn-elements/#events" >Event parameters&lt;/a>.&lt;/li>
&lt;li>If using an &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/bpmn-elements/#service-tasks" >Intermediate throw event&lt;/a>, name the variable &lt;code>BODY&lt;/code>.&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>To listen and publish to an edge device:&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>&lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/publish-subscribe/connect-datasource/" >Create a data source&lt;/a>.&lt;/li>
&lt;li>In your workflow, select the task. And choose the &lt;strong>Data source&lt;/strong> template.&lt;/li>
&lt;li>Configure the &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/bpmn-elements/#service-tasks" >Data Source task parameters&lt;/a>.&lt;/li>
&lt;/ol>
&lt;p>The strategy you choose to send and receive message data depends on your architectural setup.
Generally, data-source messages come from level-1 and level-2 devices on the edge,
and messages published to the Rhize broker come from any NATS, MQTT, or OPC UA client.
The following diagram shows some common ways to interact with messages through BPMN.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/bpmn/diagram-rhize-bpmn-control-message-flow.svg" target="_blank">
&lt;img src="https://docs.rhize.com/images/bpmn/diagram-rhize-bpmn-control-message-flow.svg" alt="Diagram providing decision of control flows"
width="50%"
>
&lt;/a>
&lt;/figure>
&lt;h2>Transform and calculate&lt;span class="hx:absolute hx:-mt-20" id="transform-and-calculate">&lt;/span>
&lt;a href="#transform-and-calculate" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>As the data in a workflow passes from start node to end node, it often undergoes some secondary processing.
Mew properties might be added, some data might be filtered, or a node might create a set of derived values from the original input.
For example, you might use calculate statistics, or transform a message payload into a format to be received by the Rhize API or an external system.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/bpmn/screenshot-rhize-jsonata-map.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/bpmn/screenshot-rhize-jsonata-map.png" alt="Annotated and truncated version of an example transformation to the operationEvent definition"
width=" 70%"
>
&lt;/a>
&lt;figcaption class="caption">
Annotated and truncated version of mapping an external event to the &lt;code>operationEvent&lt;/code> definition
&lt;/figcaption>
&lt;/figure>
&lt;p>To calculate and transform data, BPMN nodes can interpret the JSONata expression language.
For details, read the complete &lt;a href="https://docs.rhize.com/how-to/bpmn/use-jsonata/" >Rhize guide to JSONata&lt;/a>.&lt;/p>
&lt;h2>Control flows&lt;span class="hx:absolute hx:-mt-20" id="control-flows">&lt;/span>
&lt;a href="#control-flows" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>As data passes through a workflow, you might need to conditionally direct it to specific tasks, transformations, and events.
For this, Rhize has &lt;em>gateways&lt;/em>, represented as diamonds.&lt;/p>
&lt;h3>Exclusive gateway.&lt;span class="hx:absolute hx:-mt-20" id="exclusive-gateway">&lt;/span>
&lt;a href="#exclusive-gateway" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Represented by an &lt;code>X&lt;/code> symbol, exclusive gateways create decision branches based on whether a condition is true.
While you can use JSONata conditionals to control flows within tasks,
exclusive gateways are the most common and visually understandable way to execute conditional steps.&lt;/p>
&lt;p>To use an exclusive gateway:&lt;/p>
&lt;ol>
&lt;li>Create an arrow from the control start to an exclusive gateway (diamond with &lt;code>X&lt;/code> symbol).&lt;/li>
&lt;li>Use arrows to create outgoing conditions to new tasks or events.&lt;/li>
&lt;li>Leave the default condition blank.&lt;/li>
&lt;li>In all other arrows, use the &lt;strong>Condition&lt;/strong> field to write a boolean expression.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/bpmn/screenshot-rhize-bpmn-exclusive-gateway.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/bpmn/screenshot-rhize-bpmn-exclusive-gateway.png" alt="Screenshot showing how gateways create a Job order only if the material state is ready."
width="70%"
>
&lt;/a>
&lt;figcaption class="caption">
This gateway creates a job order only if its material state is ready.
&lt;/figcaption>
&lt;/figure>
&lt;h3>Parallel gateways&lt;span class="hx:absolute hx:-mt-20" id="parallel-gateways">&lt;/span>
&lt;a href="#parallel-gateways" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Represented by a &lt;code>+&lt;/code> (plus sign) symbol, &lt;em>parallel gateways&lt;/em> execute multiple tasks at the same time.
To use a parallel gateway:&lt;/p>
&lt;ol>
&lt;li>Select a gateway.&lt;/li>
&lt;li>Use the wrench sign to change its condition to parallel.&lt;/li>
&lt;li>Use arrows to create parallel conditions.&lt;/li>
&lt;/ol>
&lt;p>When the workflow runs, each parallel branch executes at the same time.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/bpmn/screenshot-rhize-bpmn-parallel-gateway.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/bpmn/screenshot-rhize-bpmn-parallel-gateway.png" alt="Simultaneously add a record to the database and send an alert"
width="50%"
>
&lt;/a>
&lt;figcaption class="caption">
Simultaneously add a record to the database and send an alert
&lt;/figcaption>
&lt;/figure>
&lt;h2>Trigger workflows&lt;span class="hx:absolute hx:-mt-20" id="trigger-workflows">&lt;/span>
&lt;a href="#trigger-workflows" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>You have multiple ways to trigger a start condition.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>API triggers&lt;/strong> come from a GraphQL call to the Rhize DB.&lt;/li>
&lt;li>&lt;strong>Message triggers&lt;/strong> subscribe to a topic on the Rhize broker and run whenever an event is published to that topic.&lt;/li>
&lt;li>&lt;strong>Rule triggers&lt;/strong> subscribe to the topics on a remote data source, such as an edge OPC-UA server or MQTT broker.&lt;/li>
&lt;li>&lt;strong>Timer triggers&lt;/strong> start according to some schedule (once or repeating).&lt;/li>
&lt;/ul>
&lt;p>To learn more, read &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/trigger-workflows/" >Trigger workflows&lt;/a>.&lt;/p>
&lt;h2>Reuse workflows&lt;span class="hx:absolute hx:-mt-20" id="reuse-workflows">&lt;/span>
&lt;a href="#reuse-workflows" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>BPMN workflows are &lt;em>composable&lt;/em>, where each element can be reused by others.
For example, you might create a workflow that calculates common statistics, or one that makes a specified call to an external system.
Using &lt;em>call activities&lt;/em> other workflows can reuse the workflow.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/bpmn/diagram-rhize-bpmn-call-activity.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/bpmn/diagram-rhize-bpmn-call-activity.png" alt="A call activity"
width="55%"
>
&lt;/a>
&lt;figcaption class="caption">
An example of a main workflow calling a function. &lt;a href="https://github.com/libremfg/rhize-templates/tree/main/bpmn/call-activity-calculate-stats" target="_blank" rel="noopener">Template&lt;/a>
&lt;/figcaption>
&lt;/figure>
&lt;p>To reuse a workflow:&lt;/p>
&lt;ol>
&lt;li>Drag the task element (rectangle) into the workflow.&lt;/li>
&lt;li>Select the wrench icon.&lt;/li>
&lt;li>Select &lt;strong>Call Activity&lt;/strong>.&lt;/li>
&lt;li>Configure it according to the &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/bpmn-elements/#call-activities" >call activity parameters&lt;/a>.&lt;/li>
&lt;/ol>
&lt;h2>Access process variable context&lt;span class="hx:absolute hx:-mt-20" id="access-process-variable-context">&lt;/span>
&lt;a href="#access-process-variable-context" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>As data passes through the nodes of a workflow, the nodes share access to a variable space.
Nodes can access these variables, create new variables, and mutate existing ones.
This overall variable object is called &lt;em>process variable context&lt;/em>.&lt;/p>
&lt;p>When working with variables, keep the following in mind:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>Access the root variable context through &lt;code>$.&lt;/code>&lt;/strong>.&lt;/p>
&lt;p>This follows the conventions of JSONata.
For details and examples, read &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/use-jsonata/" >Use JSONata&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Access nested properties with dot notation.&lt;/strong>&lt;/p>
&lt;p>For example, the following is a reference to the first item in the &lt;code>orders&lt;/code> object in the variable context:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;pre>&lt;code>$.orders[]&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>You can store a node&amp;rsquo;s output in a variable.&lt;/strong>&lt;/p>
&lt;p>Many output fields offer a way to create a variable.
For example, the JSON schema field has two variables that you can name,
one that outputs a boolean based on whether the input is valid, and another that outputs
the error string if the variable is invalid.&lt;/p>
&lt;p>You can access these variables in later nodes (unless you mutate them).&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Variables.&lt;/strong>&lt;/p>
&lt;p>If you direct output to a variable that already exists, the new value overwrites the old one.
This behavior can be used to manage the overall memory footprint of a workflow.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>The maximum context size is configurable.&lt;/strong>&lt;/p>
&lt;p>By default, the process variable context has a maximum size of 1MB.
When an activity outputs data, the output is added to the process variable context.
When variable size gets large, you have multiple strategies to reduce its size (besides mutating variables).
For ideas, refer to &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/tune-performance/" >Tune BPMN performance&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>You can trace variable context.&lt;/strong>&lt;/p>
&lt;p>For details, refer to the &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/debug-workflows/" >Debug guide&lt;/a>.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2>Examples&lt;span class="hx:absolute hx:-mt-20" id="examples">&lt;/span>
&lt;a href="#examples" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Rhize has a repository of templates that you can import and use in your system.
Use these to explore how the key functionality works.
&lt;a href="https://github.com/libremfg/bpmn-templates" target="_blank" rel="noopener">Rhize BPMN templates&lt;/a>&lt;/p></description></item><item><title>Overview: orchestrate processes</title><link>https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/create-workflow/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/create-workflow/</guid><description>
&lt;p>This guide provides a quick overview of the major features of the Rhize &lt;abbr title="Business Process Model and Notation. A standardized graphical notation used to represent business processes in an intuitive, visual way. Rhize&amp;#39;s BPMN UI and engine provides a low-code interface for complex event handling">BPMN&lt;/abbr> engine and interface, with links to detailed guides for specific topics.
For a reference of all BPMN elements and their parameters, refer to &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/bpmn-elements/" >BPMN elements&lt;/a>.&lt;/p>
&lt;p>The Rhize BPMN UI provides a graphical interface to transform and standardize data flows across systems.
Such &lt;em>process orchestration&lt;/em> has many uses for manufacturing.
For example, you can write a BPMN workflow to do any of the following:&lt;/p>
&lt;ul>
&lt;li>Automatically ingest data from ERP and SCADA systems, then transform and store the payloads in the standardized ISA-95 representation&lt;/li>
&lt;li>Coordinate tasks across various systems, creating a layer for different data and protocols to pass through&lt;/li>
&lt;li>Calculate derived values from the data that is exchanged to perform functions such as waste calculation and process control.&lt;/li>
&lt;/ul>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/bpmn/rhize-bpmn-coordination-between-multiple-systems.png.webp" target="_blank">
&lt;img src="https://docs.rhize.com/images/bpmn/rhize-bpmn-coordination-between-multiple-systems.png.webp" alt="An example of a workflow that transforms, calculates, stores, and sends to external systems"
width="70%"
>
&lt;/a>
&lt;/figure>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">Rhize BPMN workflows conform to the visual grammar described in the OMG standard for &lt;a href="https://www.omg.org/spec/BPMN/2.0/" target="_blank" rel="noopener">Business Process Model and Notation&lt;/a>.
Each process is made of &lt;em>events&lt;/em> (circles), &lt;em>activities&lt;/em> (rectangles), &lt;em>gateways&lt;/em> (diamonds), and &lt;em>flows&lt;/em> (arrows).
Some elements are extended for Rhize-specific features, such as service tasks that call the GraphQL API.
Some elements from the standard are unused and thus do not appear in the UI.&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Request and send data&lt;span class="hx:absolute hx:-mt-20" id="request-and-send-data">&lt;/span>
&lt;a href="#request-and-send-data" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Workflows often exchange data between Rhize and one or more external systems.
The BPMN activity &lt;em>task templates&lt;/em> provide multiple ways to communicate with internal and external systems,
and pass data over different protocols.
Additionally, &lt;em>message&lt;/em> events provide templates to publish and subscribe to the Rhize broker.&lt;/p>
&lt;p>Each template has a set of parameters to configure it.
&lt;strong>To use a template&lt;/strong>:&lt;/p>
&lt;ol>
&lt;li>Select the &lt;em>activity&lt;/em> (rectangle) element.&lt;/li>
&lt;li>Select &lt;strong>Template&lt;/strong> and then choose the template you want.&lt;/li>
&lt;li>Configure the template according to its &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/bpmn-elements/#jsonata-transform" >Task parameters&lt;/a>.&lt;/li>
&lt;/ol>
&lt;h3>Interact with the Rhize API&lt;span class="hx:absolute hx:-mt-20" id="interact-with-the-rhize-api">&lt;/span>
&lt;a href="#interact-with-the-rhize-api" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Use GraphQL tasks to query and change data in your manufacturing knowledge graph.
For example:&lt;/p>
&lt;ul>
&lt;li>A scheduling workflow could use the &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/bpmn-elements/#graphql-query" >Query task&lt;/a> to find all &lt;code>JobResponses&lt;/code> whose state is &lt;code>COMPLETED&lt;/code>.&lt;/li>
&lt;li>An ingestion workflow might use a &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/bpmn-elements/#graphql-mutation" >Mutation task&lt;/a> to update new &lt;code>jobResponse&lt;/code> data that was published from a SCADA system.&lt;/li>
&lt;/ul>
&lt;p>You can also use &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/bpmn-elements/#jsonata-transform" >JSONata&lt;/a> in your GraphQL payloads to dynamically add values at runtime.
For details about how to use the Rhize API, read the &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/gql/" >Guide to GraphQL&lt;/a>.&lt;/p>
&lt;h3>Interact with external systems&lt;span class="hx:absolute hx:-mt-20" id="interact-with-external-systems">&lt;/span>
&lt;a href="#interact-with-external-systems" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>To make HTTP requests to external systems, use the &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/bpmn-elements/#call-rest-api" >REST task&lt;/a>.
For example, you might send a &lt;code>POST&lt;/code> with performance values to an ERP system, or use a &lt;code>GET&lt;/code> operation to query test results.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">Besides REST, you can use this template to interact with any HTTP API.&lt;/div>
&lt;/div>
&lt;/div>
&lt;h3>Publish and subscribe&lt;span class="hx:absolute hx:-mt-20" id="publish-and-subscribe">&lt;/span>
&lt;a href="#publish-and-subscribe" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Besides HTTP, workflows can also publish and subscribe messages over MQTT, NATS, and OPC UA.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/bpmn/rhize-bpmn-message-start-throw-conditional.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/bpmn/rhize-bpmn-message-start-throw-conditional.png" alt="A workflow that listens to a message and throws a message"
width="60%"
>
&lt;/a>
&lt;figcaption class="caption">
A workflow that evaluates a message and throws a if the payload meets a certain condition message
&lt;/figcaption>
&lt;/figure>
&lt;p>&lt;strong>To publish and subscribe to the Rhize broker:&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>Select a start (thin circle) or intermediate (double-line) circle.&lt;/li>
&lt;li>Select the wrench icon.&lt;/li>
&lt;li>Select the message event (circle with an envelope).&lt;/li>
&lt;li>Configure the message topic and body according to the &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/bpmn-elements/#events" >Event parameters&lt;/a>.&lt;/li>
&lt;li>If using an &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/bpmn-elements/#service-tasks" >Intermediate throw event&lt;/a>, name the variable &lt;code>BODY&lt;/code>.&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>To listen and publish to an edge device:&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>&lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/publish-subscribe/connect-datasource/" >Create a data source&lt;/a>.&lt;/li>
&lt;li>In your workflow, select the task. And choose the &lt;strong>Data source&lt;/strong> template.&lt;/li>
&lt;li>Configure the &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/bpmn-elements/#service-tasks" >Data Source task parameters&lt;/a>.&lt;/li>
&lt;/ol>
&lt;p>The strategy you choose to send and receive message data depends on your architectural setup.
Generally, data-source messages come from level-1 and level-2 devices on the edge,
and messages published to the Rhize broker come from any NATS, MQTT, or OPC UA client.
The following diagram shows some common ways to interact with messages through BPMN.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/bpmn/diagram-rhize-bpmn-control-message-flow.svg" target="_blank">
&lt;img src="https://docs.rhize.com/images/bpmn/diagram-rhize-bpmn-control-message-flow.svg" alt="Diagram providing decision of control flows"
width="50%"
>
&lt;/a>
&lt;/figure>
&lt;h2>Transform and calculate&lt;span class="hx:absolute hx:-mt-20" id="transform-and-calculate">&lt;/span>
&lt;a href="#transform-and-calculate" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>As the data in a workflow passes from start node to end node, it often undergoes some secondary processing.
Mew properties might be added, some data might be filtered, or a node might create a set of derived values from the original input.
For example, you might use calculate statistics, or transform a message payload into a format to be received by the Rhize API or an external system.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/bpmn/screenshot-rhize-jsonata-map.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/bpmn/screenshot-rhize-jsonata-map.png" alt="Annotated and truncated version of an example transformation to the operationEvent definition"
width=" 70%"
>
&lt;/a>
&lt;figcaption class="caption">
Annotated and truncated version of mapping an external event to the &lt;code>operationEvent&lt;/code> definition
&lt;/figcaption>
&lt;/figure>
&lt;p>To calculate and transform data, BPMN nodes can interpret the JSONata expression language.
For details, read the complete &lt;a href="https://docs.rhize.com/how-to/bpmn/use-jsonata/" >Rhize guide to JSONata&lt;/a>.&lt;/p>
&lt;h2>Control flows&lt;span class="hx:absolute hx:-mt-20" id="control-flows">&lt;/span>
&lt;a href="#control-flows" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>As data passes through a workflow, you might need to conditionally direct it to specific tasks, transformations, and events.
For this, Rhize has &lt;em>gateways&lt;/em>, represented as diamonds.&lt;/p>
&lt;h3>Exclusive gateway.&lt;span class="hx:absolute hx:-mt-20" id="exclusive-gateway">&lt;/span>
&lt;a href="#exclusive-gateway" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Represented by an &lt;code>X&lt;/code> symbol, exclusive gateways create decision branches based on whether a condition is true.
While you can use JSONata conditionals to control flows within tasks,
exclusive gateways are the most common and visually understandable way to execute conditional steps.&lt;/p>
&lt;p>To use an exclusive gateway:&lt;/p>
&lt;ol>
&lt;li>Create an arrow from the control start to an exclusive gateway (diamond with &lt;code>X&lt;/code> symbol).&lt;/li>
&lt;li>Use arrows to create outgoing conditions to new tasks or events.&lt;/li>
&lt;li>Leave the default condition blank.&lt;/li>
&lt;li>In all other arrows, use the &lt;strong>Condition&lt;/strong> field to write a boolean expression.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/bpmn/screenshot-rhize-bpmn-exclusive-gateway.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/bpmn/screenshot-rhize-bpmn-exclusive-gateway.png" alt="Screenshot showing how gateways create a Job order only if the material state is ready."
width="70%"
>
&lt;/a>
&lt;figcaption class="caption">
This gateway creates a job order only if its material state is ready.
&lt;/figcaption>
&lt;/figure>
&lt;h3>Parallel gateways&lt;span class="hx:absolute hx:-mt-20" id="parallel-gateways">&lt;/span>
&lt;a href="#parallel-gateways" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Represented by a &lt;code>+&lt;/code> (plus sign) symbol, &lt;em>parallel gateways&lt;/em> execute multiple tasks at the same time.
To use a parallel gateway:&lt;/p>
&lt;ol>
&lt;li>Select a gateway.&lt;/li>
&lt;li>Use the wrench sign to change its condition to parallel.&lt;/li>
&lt;li>Use arrows to create parallel conditions.&lt;/li>
&lt;/ol>
&lt;p>When the workflow runs, each parallel branch executes at the same time.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/bpmn/screenshot-rhize-bpmn-parallel-gateway.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/bpmn/screenshot-rhize-bpmn-parallel-gateway.png" alt="Simultaneously add a record to the database and send an alert"
width="50%"
>
&lt;/a>
&lt;figcaption class="caption">
Simultaneously add a record to the database and send an alert
&lt;/figcaption>
&lt;/figure>
&lt;h2>Trigger workflows&lt;span class="hx:absolute hx:-mt-20" id="trigger-workflows">&lt;/span>
&lt;a href="#trigger-workflows" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>You have multiple ways to trigger a start condition.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>API triggers&lt;/strong> come from a GraphQL call to the Rhize DB.&lt;/li>
&lt;li>&lt;strong>Message triggers&lt;/strong> subscribe to a topic on the Rhize broker and run whenever an event is published to that topic.&lt;/li>
&lt;li>&lt;strong>Rule triggers&lt;/strong> subscribe to the topics on a remote data source, such as an edge OPC-UA server or MQTT broker.&lt;/li>
&lt;li>&lt;strong>Timer triggers&lt;/strong> start according to some schedule (once or repeating).&lt;/li>
&lt;/ul>
&lt;p>To learn more, read &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/trigger-workflows/" >Trigger workflows&lt;/a>.&lt;/p>
&lt;h2>Reuse workflows&lt;span class="hx:absolute hx:-mt-20" id="reuse-workflows">&lt;/span>
&lt;a href="#reuse-workflows" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>BPMN workflows are &lt;em>composable&lt;/em>, where each element can be reused by others.
For example, you might create a workflow that calculates common statistics, or one that makes a specified call to an external system.
Using &lt;em>call activities&lt;/em> other workflows can reuse the workflow.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/bpmn/diagram-rhize-bpmn-call-activity.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/bpmn/diagram-rhize-bpmn-call-activity.png" alt="A call activity"
width="55%"
>
&lt;/a>
&lt;figcaption class="caption">
An example of a main workflow calling a function. &lt;a href="https://github.com/libremfg/rhize-templates/tree/main/bpmn/call-activity-calculate-stats" target="_blank" rel="noopener">Template&lt;/a>
&lt;/figcaption>
&lt;/figure>
&lt;p>To reuse a workflow:&lt;/p>
&lt;ol>
&lt;li>Drag the task element (rectangle) into the workflow.&lt;/li>
&lt;li>Select the wrench icon.&lt;/li>
&lt;li>Select &lt;strong>Call Activity&lt;/strong>.&lt;/li>
&lt;li>Configure it according to the &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/bpmn-elements/#call-activities" >call activity parameters&lt;/a>.&lt;/li>
&lt;/ol>
&lt;h2>Access process variable context&lt;span class="hx:absolute hx:-mt-20" id="access-process-variable-context">&lt;/span>
&lt;a href="#access-process-variable-context" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>As data passes through the nodes of a workflow, the nodes share access to a variable space.
Nodes can access these variables, create new variables, and mutate existing ones.
This overall variable object is called &lt;em>process variable context&lt;/em>.&lt;/p>
&lt;p>When working with variables, keep the following in mind:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>Access the root variable context through &lt;code>$.&lt;/code>&lt;/strong>.&lt;/p>
&lt;p>This follows the conventions of JSONata.
For details and examples, read &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/use-jsonata/" >Use JSONata&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Access nested properties with dot notation.&lt;/strong>&lt;/p>
&lt;p>For example, the following is a reference to the first item in the &lt;code>orders&lt;/code> object in the variable context:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;pre>&lt;code>$.orders[]&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>You can store a node&amp;rsquo;s output in a variable.&lt;/strong>&lt;/p>
&lt;p>Many output fields offer a way to create a variable.
For example, the JSON schema field has two variables that you can name,
one that outputs a boolean based on whether the input is valid, and another that outputs
the error string if the variable is invalid.&lt;/p>
&lt;p>You can access these variables in later nodes (unless you mutate them).&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Variables.&lt;/strong>&lt;/p>
&lt;p>If you direct output to a variable that already exists, the new value overwrites the old one.
This behavior can be used to manage the overall memory footprint of a workflow.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>The maximum context size is configurable.&lt;/strong>&lt;/p>
&lt;p>By default, the process variable context has a maximum size of 1MB.
When an activity outputs data, the output is added to the process variable context.
When variable size gets large, you have multiple strategies to reduce its size (besides mutating variables).
For ideas, refer to &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/tune-performance/" >Tune BPMN performance&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>You can trace variable context.&lt;/strong>&lt;/p>
&lt;p>For details, refer to the &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/debug-workflows/" >Debug guide&lt;/a>.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2>Examples&lt;span class="hx:absolute hx:-mt-20" id="examples">&lt;/span>
&lt;a href="#examples" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Rhize has a repository of templates that you can import and use in your system.
Use these to explore how the key functionality works.
&lt;a href="https://github.com/libremfg/bpmn-templates" target="_blank" rel="noopener">Rhize BPMN templates&lt;/a>&lt;/p></description></item><item><title>Overview: orchestrate processes</title><link>https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/create-workflow/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/create-workflow/</guid><description>
&lt;p>This guide provides a quick overview of the major features of the Rhize &lt;abbr title="Business Process Model and Notation. A standardized graphical notation used to represent business processes in an intuitive, visual way. Rhize&amp;#39;s BPMN UI and engine provides a low-code interface for complex event handling">BPMN&lt;/abbr> engine and interface, with links to detailed guides for specific topics.
For a reference of all BPMN elements and their parameters, refer to &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/bpmn-elements/" >BPMN elements&lt;/a>.&lt;/p>
&lt;p>The Rhize BPMN UI provides a graphical interface to transform and standardize data flows across systems.
Such &lt;em>process orchestration&lt;/em> has many uses for manufacturing.
For example, you can write a BPMN workflow to do any of the following:&lt;/p>
&lt;ul>
&lt;li>Automatically ingest data from ERP and SCADA systems, then transform and store the payloads in the standardized ISA-95 representation&lt;/li>
&lt;li>Coordinate tasks across various systems, creating a layer for different data and protocols to pass through&lt;/li>
&lt;li>Calculate derived values from the data that is exchanged to perform functions such as waste calculation and process control.&lt;/li>
&lt;/ul>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/bpmn/rhize-bpmn-coordination-between-multiple-systems.png.webp" target="_blank">
&lt;img src="https://docs.rhize.com/images/bpmn/rhize-bpmn-coordination-between-multiple-systems.png.webp" alt="An example of a workflow that transforms, calculates, stores, and sends to external systems"
width="70%"
>
&lt;/a>
&lt;/figure>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">Rhize BPMN workflows conform to the visual grammar described in the OMG standard for &lt;a href="https://www.omg.org/spec/BPMN/2.0/" target="_blank" rel="noopener">Business Process Model and Notation&lt;/a>.
Each process is made of &lt;em>events&lt;/em> (circles), &lt;em>activities&lt;/em> (rectangles), &lt;em>gateways&lt;/em> (diamonds), and &lt;em>flows&lt;/em> (arrows).
Some elements are extended for Rhize-specific features, such as service tasks that call the GraphQL API.
Some elements from the standard are unused and thus do not appear in the UI.&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Request and send data&lt;span class="hx:absolute hx:-mt-20" id="request-and-send-data">&lt;/span>
&lt;a href="#request-and-send-data" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Workflows often exchange data between Rhize and one or more external systems.
The BPMN activity &lt;em>task templates&lt;/em> provide multiple ways to communicate with internal and external systems,
and pass data over different protocols.
Additionally, &lt;em>message&lt;/em> events provide templates to publish and subscribe to the Rhize broker.&lt;/p>
&lt;p>Each template has a set of parameters to configure it.
&lt;strong>To use a template&lt;/strong>:&lt;/p>
&lt;ol>
&lt;li>Select the &lt;em>activity&lt;/em> (rectangle) element.&lt;/li>
&lt;li>Select &lt;strong>Template&lt;/strong> and then choose the template you want.&lt;/li>
&lt;li>Configure the template according to its &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/bpmn-elements/#jsonata-transform" >Task parameters&lt;/a>.&lt;/li>
&lt;/ol>
&lt;h3>Interact with the Rhize API&lt;span class="hx:absolute hx:-mt-20" id="interact-with-the-rhize-api">&lt;/span>
&lt;a href="#interact-with-the-rhize-api" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Use GraphQL tasks to query and change data in your manufacturing knowledge graph.
For example:&lt;/p>
&lt;ul>
&lt;li>A scheduling workflow could use the &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/bpmn-elements/#graphql-query" >Query task&lt;/a> to find all &lt;code>JobResponses&lt;/code> whose state is &lt;code>COMPLETED&lt;/code>.&lt;/li>
&lt;li>An ingestion workflow might use a &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/bpmn-elements/#graphql-mutation" >Mutation task&lt;/a> to update new &lt;code>jobResponse&lt;/code> data that was published from a SCADA system.&lt;/li>
&lt;/ul>
&lt;p>You can also use &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/bpmn-elements/#jsonata-transform" >JSONata&lt;/a> in your GraphQL payloads to dynamically add values at runtime.
For details about how to use the Rhize API, read the &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/gql/" >Guide to GraphQL&lt;/a>.&lt;/p>
&lt;h3>Interact with external systems&lt;span class="hx:absolute hx:-mt-20" id="interact-with-external-systems">&lt;/span>
&lt;a href="#interact-with-external-systems" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>To make HTTP requests to external systems, use the &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/bpmn-elements/#call-rest-api" >REST task&lt;/a>.
For example, you might send a &lt;code>POST&lt;/code> with performance values to an ERP system, or use a &lt;code>GET&lt;/code> operation to query test results.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">Besides REST, you can use this template to interact with any HTTP API.&lt;/div>
&lt;/div>
&lt;/div>
&lt;h3>Publish and subscribe&lt;span class="hx:absolute hx:-mt-20" id="publish-and-subscribe">&lt;/span>
&lt;a href="#publish-and-subscribe" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Besides HTTP, workflows can also publish and subscribe messages over MQTT, NATS, and OPC UA.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/bpmn/rhize-bpmn-message-start-throw-conditional.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/bpmn/rhize-bpmn-message-start-throw-conditional.png" alt="A workflow that listens to a message and throws a message"
width="60%"
>
&lt;/a>
&lt;figcaption class="caption">
A workflow that evaluates a message and throws a if the payload meets a certain condition message
&lt;/figcaption>
&lt;/figure>
&lt;p>&lt;strong>To publish and subscribe to the Rhize broker:&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>Select a start (thin circle) or intermediate (double-line) circle.&lt;/li>
&lt;li>Select the wrench icon.&lt;/li>
&lt;li>Select the message event (circle with an envelope).&lt;/li>
&lt;li>Configure the message topic and body according to the &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/bpmn-elements/#events" >Event parameters&lt;/a>.&lt;/li>
&lt;li>If using an &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/bpmn-elements/#service-tasks" >Intermediate throw event&lt;/a>, name the variable &lt;code>BODY&lt;/code>.&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>To listen and publish to an edge device:&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>&lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/publish-subscribe/connect-datasource/" >Create a data source&lt;/a>.&lt;/li>
&lt;li>In your workflow, select the task. And choose the &lt;strong>Data source&lt;/strong> template.&lt;/li>
&lt;li>Configure the &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/bpmn-elements/#service-tasks" >Data Source task parameters&lt;/a>.&lt;/li>
&lt;/ol>
&lt;p>The strategy you choose to send and receive message data depends on your architectural setup.
Generally, data-source messages come from level-1 and level-2 devices on the edge,
and messages published to the Rhize broker come from any NATS, MQTT, or OPC UA client.
The following diagram shows some common ways to interact with messages through BPMN.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/bpmn/diagram-rhize-bpmn-control-message-flow.svg" target="_blank">
&lt;img src="https://docs.rhize.com/images/bpmn/diagram-rhize-bpmn-control-message-flow.svg" alt="Diagram providing decision of control flows"
width="50%"
>
&lt;/a>
&lt;/figure>
&lt;h2>Transform and calculate&lt;span class="hx:absolute hx:-mt-20" id="transform-and-calculate">&lt;/span>
&lt;a href="#transform-and-calculate" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>As the data in a workflow passes from start node to end node, it often undergoes some secondary processing.
Mew properties might be added, some data might be filtered, or a node might create a set of derived values from the original input.
For example, you might use calculate statistics, or transform a message payload into a format to be received by the Rhize API or an external system.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/bpmn/screenshot-rhize-jsonata-map.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/bpmn/screenshot-rhize-jsonata-map.png" alt="Annotated and truncated version of an example transformation to the operationEvent definition"
width=" 70%"
>
&lt;/a>
&lt;figcaption class="caption">
Annotated and truncated version of mapping an external event to the &lt;code>operationEvent&lt;/code> definition
&lt;/figcaption>
&lt;/figure>
&lt;p>To calculate and transform data, BPMN nodes can interpret the JSONata expression language.
For details, read the complete &lt;a href="https://docs.rhize.com/how-to/bpmn/use-jsonata/" >Rhize guide to JSONata&lt;/a>.&lt;/p>
&lt;h2>Control flows&lt;span class="hx:absolute hx:-mt-20" id="control-flows">&lt;/span>
&lt;a href="#control-flows" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>As data passes through a workflow, you might need to conditionally direct it to specific tasks, transformations, and events.
For this, Rhize has &lt;em>gateways&lt;/em>, represented as diamonds.&lt;/p>
&lt;h3>Exclusive gateway.&lt;span class="hx:absolute hx:-mt-20" id="exclusive-gateway">&lt;/span>
&lt;a href="#exclusive-gateway" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Represented by an &lt;code>X&lt;/code> symbol, exclusive gateways create decision branches based on whether a condition is true.
While you can use JSONata conditionals to control flows within tasks,
exclusive gateways are the most common and visually understandable way to execute conditional steps.&lt;/p>
&lt;p>To use an exclusive gateway:&lt;/p>
&lt;ol>
&lt;li>Create an arrow from the control start to an exclusive gateway (diamond with &lt;code>X&lt;/code> symbol).&lt;/li>
&lt;li>Use arrows to create outgoing conditions to new tasks or events.&lt;/li>
&lt;li>Leave the default condition blank.&lt;/li>
&lt;li>In all other arrows, use the &lt;strong>Condition&lt;/strong> field to write a boolean expression.&lt;/li>
&lt;/ol>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/bpmn/screenshot-rhize-bpmn-exclusive-gateway.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/bpmn/screenshot-rhize-bpmn-exclusive-gateway.png" alt="Screenshot showing how gateways create a Job order only if the material state is ready."
width="70%"
>
&lt;/a>
&lt;figcaption class="caption">
This gateway creates a job order only if its material state is ready.
&lt;/figcaption>
&lt;/figure>
&lt;h3>Parallel gateways&lt;span class="hx:absolute hx:-mt-20" id="parallel-gateways">&lt;/span>
&lt;a href="#parallel-gateways" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Represented by a &lt;code>+&lt;/code> (plus sign) symbol, &lt;em>parallel gateways&lt;/em> execute multiple tasks at the same time.
To use a parallel gateway:&lt;/p>
&lt;ol>
&lt;li>Select a gateway.&lt;/li>
&lt;li>Use the wrench sign to change its condition to parallel.&lt;/li>
&lt;li>Use arrows to create parallel conditions.&lt;/li>
&lt;/ol>
&lt;p>When the workflow runs, each parallel branch executes at the same time.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/bpmn/screenshot-rhize-bpmn-parallel-gateway.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/bpmn/screenshot-rhize-bpmn-parallel-gateway.png" alt="Simultaneously add a record to the database and send an alert"
width="50%"
>
&lt;/a>
&lt;figcaption class="caption">
Simultaneously add a record to the database and send an alert
&lt;/figcaption>
&lt;/figure>
&lt;h2>Trigger workflows&lt;span class="hx:absolute hx:-mt-20" id="trigger-workflows">&lt;/span>
&lt;a href="#trigger-workflows" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>You have multiple ways to trigger a start condition.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>API triggers&lt;/strong> come from a GraphQL call to the Rhize DB.&lt;/li>
&lt;li>&lt;strong>Message triggers&lt;/strong> subscribe to a topic on the Rhize broker and run whenever an event is published to that topic.&lt;/li>
&lt;li>&lt;strong>Rule triggers&lt;/strong> subscribe to the topics on a remote data source, such as an edge OPC-UA server or MQTT broker.&lt;/li>
&lt;li>&lt;strong>Timer triggers&lt;/strong> start according to some schedule (once or repeating).&lt;/li>
&lt;/ul>
&lt;p>To learn more, read &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/trigger-workflows/" >Trigger workflows&lt;/a>.&lt;/p>
&lt;h2>Reuse workflows&lt;span class="hx:absolute hx:-mt-20" id="reuse-workflows">&lt;/span>
&lt;a href="#reuse-workflows" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>BPMN workflows are &lt;em>composable&lt;/em>, where each element can be reused by others.
For example, you might create a workflow that calculates common statistics, or one that makes a specified call to an external system.
Using &lt;em>call activities&lt;/em> other workflows can reuse the workflow.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/bpmn/diagram-rhize-bpmn-call-activity.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/bpmn/diagram-rhize-bpmn-call-activity.png" alt="A call activity"
width="55%"
>
&lt;/a>
&lt;figcaption class="caption">
An example of a main workflow calling a function. &lt;a href="https://github.com/libremfg/rhize-templates/tree/main/bpmn/call-activity-calculate-stats" target="_blank" rel="noopener">Template&lt;/a>
&lt;/figcaption>
&lt;/figure>
&lt;p>To reuse a workflow:&lt;/p>
&lt;ol>
&lt;li>Drag the task element (rectangle) into the workflow.&lt;/li>
&lt;li>Select the wrench icon.&lt;/li>
&lt;li>Select &lt;strong>Call Activity&lt;/strong>.&lt;/li>
&lt;li>Configure it according to the &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/bpmn-elements/#call-activities" >call activity parameters&lt;/a>.&lt;/li>
&lt;/ol>
&lt;h2>Access process variable context&lt;span class="hx:absolute hx:-mt-20" id="access-process-variable-context">&lt;/span>
&lt;a href="#access-process-variable-context" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>As data passes through the nodes of a workflow, the nodes share access to a variable space.
Nodes can access these variables, create new variables, and mutate existing ones.
This overall variable object is called &lt;em>process variable context&lt;/em>.&lt;/p>
&lt;p>When working with variables, keep the following in mind:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>Access the root variable context through &lt;code>$.&lt;/code>&lt;/strong>.&lt;/p>
&lt;p>This follows the conventions of JSONata.
For details and examples, read &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/use-jsonata/" >Use JSONata&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Access nested properties with dot notation.&lt;/strong>&lt;/p>
&lt;p>For example, the following is a reference to the first item in the &lt;code>orders&lt;/code> object in the variable context:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;pre>&lt;code>$.orders[]&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>You can store a node&amp;rsquo;s output in a variable.&lt;/strong>&lt;/p>
&lt;p>Many output fields offer a way to create a variable.
For example, the JSON schema field has two variables that you can name,
one that outputs a boolean based on whether the input is valid, and another that outputs
the error string if the variable is invalid.&lt;/p>
&lt;p>You can access these variables in later nodes (unless you mutate them).&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Variables.&lt;/strong>&lt;/p>
&lt;p>If you direct output to a variable that already exists, the new value overwrites the old one.
This behavior can be used to manage the overall memory footprint of a workflow.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>The maximum context size is configurable.&lt;/strong>&lt;/p>
&lt;p>By default, the process variable context has a maximum size of 1MB.
When an activity outputs data, the output is added to the process variable context.
When variable size gets large, you have multiple strategies to reduce its size (besides mutating variables).
For ideas, refer to &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/tune-performance/" >Tune BPMN performance&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>You can trace variable context.&lt;/strong>&lt;/p>
&lt;p>For details, refer to the &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/debug-workflows/" >Debug guide&lt;/a>.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2>Examples&lt;span class="hx:absolute hx:-mt-20" id="examples">&lt;/span>
&lt;a href="#examples" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Rhize has a repository of templates that you can import and use in your system.
Use these to explore how the key functionality works.
&lt;a href="https://github.com/libremfg/bpmn-templates" target="_blank" rel="noopener">Rhize BPMN templates&lt;/a>&lt;/p></description></item><item><title>Set up Kubernetes</title><link>https://docs.rhize.com/versions/v3.0.3/deploy/install/setup-kubernetes/</link><pubDate>Fri, 22 Sep 2023 14:49:53 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.0.3/deploy/install/setup-kubernetes/</guid><description>
&lt;p>This guide shows you how to install Rhize services on your Kubernetes cluster.
You can also use this procedure as the model for an automation workflow in your CI.&lt;/p>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prereqs">&lt;/span>
&lt;a href="#prereqs" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Before starting, ensure that you have the following technical requirements.&lt;/p>
&lt;p>&lt;strong>Software requirements&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://kubernetes.io/docs/tasks/tools/" target="_blank" rel="noopener">&lt;code>kubectl&lt;/code>&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://helm.sh" target="_blank" rel="noopener">Helm&lt;/a>&lt;/li>
&lt;li>Curl, or some similar program to make HTTP requests from the command line&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Access requirements&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>Administrative privileges for a running Kubernetes cluster in your environment.
Your organization must set this up.&lt;/li>
&lt;li>Access to Rhize Helm charts and its build repository.
Rhize provides these to all customers.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Optional utilities.&lt;/strong>
For manual installs, the following auxiliary tools might make
the experience a little more human friendly:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Optional: &lt;a href="https://github.com/ahmetb/kubectx" target="_blank" rel="noopener">kubectx&lt;/a> utilities&lt;/p>
&lt;ul>
&lt;li>&lt;code>kubectx&lt;/code> to manage multiple clusters&lt;/li>
&lt;li>&lt;code>kubens&lt;/code> to switch between and configure namespaces easily&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Optional: the &lt;a href="https://k8slens.dev" target="_blank" rel="noopener">k8 Lens IDE&lt;/a>, if you prefer to use Kubernetes graphically&lt;/p>
&lt;p>Again, these are helpers, not requirements.
You can install everything with only the &lt;code>kubectl&lt;/code> and &lt;code>helm&lt;/code> commands.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2>Steps to set up Kubernetes&lt;span class="hx:absolute hx:-mt-20" id="steps-to-set-up-kubernetes">&lt;/span>
&lt;a href="#steps-to-set-up-kubernetes" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>First, record your site and environment.
Then, follow these steps.&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Create a namespace called libre.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl create ns libre&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Confirm it works with &lt;code>kubectl get ns&lt;/code>.&lt;/p>
&lt;p>On success, the output shows an active &lt;code>libre&lt;/code> namespace.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Set this namespace as a default with&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl config set-context --current --namespace&lt;span class="o">=&lt;/span>libre&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Alternatively, you can modify the kube &lt;code>config&lt;/code> file or use the &lt;code>kubens&lt;/code> tool.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add the Helm repository:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">helm repo add &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --username &amp;lt;EMAIL_ADDRESS&amp;gt; &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --password &amp;lt;ACCESS_TOKEN&amp;gt; &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> libre &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>&amp;lt;REPO&amp;gt;&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Create the container image pull secret:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl create secret docker-registry libre-registry-credential &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --docker-server&lt;span class="o">=&lt;/span>&amp;lt;DOCKER_SERVER&amp;gt; &lt;span class="se">\ &lt;/span>&lt;span class="c1">## the repository&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --docker-password&lt;span class="o">=&lt;/span> &amp;lt;ACCESS_TOKEN&amp;gt; &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --docker-email&lt;span class="o">=&lt;/span> &amp;lt;EMAIL_ADDRESS&amp;gt;&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Confirm the secrets with this command:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl get secrets&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Add the Bitnami Helm repository:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">helm repo add bitnami https://charts.bitnami.com/bitnami&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Pull the build template repository (we will supply this).&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update overrides to &lt;code>keycloak.yaml&lt;/code>. Then install with this command:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">helm install keycloak -f ./keycloak.yaml bitnami/keycloak -n libre&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Set up port forwarding from Keycloak. For example, this forwards traffic to port &lt;code>5101&lt;/code> on &lt;code>localhost&lt;/code>&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl port-forward svc/keycloak 5101:80&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;h2>Next steps&lt;span class="hx:absolute hx:-mt-20" id="next-steps">&lt;/span>
&lt;a href="#next-steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ol>
&lt;li>&lt;a href="https://docs.rhize.com/versions/v3.0.3/deploy/install/keycloak/" >Configure Keycloak&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.rhize.com/versions/v3.0.3/deploy/install/services/" >Install services&lt;/a>.&lt;/li>
&lt;/ol></description></item><item><title>Set up Kubernetes</title><link>https://docs.rhize.com/versions/v3.1.0/deploy/install/setup-kubernetes/</link><pubDate>Fri, 22 Sep 2023 14:49:53 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.1.0/deploy/install/setup-kubernetes/</guid><description>
&lt;p>This guide shows you how to install Rhize services on your Kubernetes cluster.
You can also use this procedure as the model for an automation workflow in your CI.&lt;/p>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prereqs">&lt;/span>
&lt;a href="#prereqs" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Before starting, ensure that you have the following technical requirements.&lt;/p>
&lt;p>&lt;strong>Software requirements&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://kubernetes.io/docs/tasks/tools/" target="_blank" rel="noopener">&lt;code>kubectl&lt;/code>&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://helm.sh" target="_blank" rel="noopener">Helm&lt;/a>&lt;/li>
&lt;li>Curl, or some similar program to make HTTP requests from the command line&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Access requirements&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>Administrative privileges for a running Kubernetes cluster in your environment.
Your organization must set this up.&lt;/li>
&lt;li>Access to Rhize Helm charts and its build repository.
Rhize provides these to all customers.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Optional utilities.&lt;/strong>
For manual installs, the following auxiliary tools might make
the experience a little more human friendly:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Optional: &lt;a href="https://github.com/ahmetb/kubectx" target="_blank" rel="noopener">kubectx&lt;/a> utilities&lt;/p>
&lt;ul>
&lt;li>&lt;code>kubectx&lt;/code> to manage multiple clusters&lt;/li>
&lt;li>&lt;code>kubens&lt;/code> to switch between and configure namespaces easily&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Optional: the &lt;a href="https://k8slens.dev" target="_blank" rel="noopener">k8 Lens IDE&lt;/a>, if you prefer to use Kubernetes graphically&lt;/p>
&lt;p>Again, these are helpers, not requirements.
You can install everything with only the &lt;code>kubectl&lt;/code> and &lt;code>helm&lt;/code> commands.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2>Steps to set up Kubernetes&lt;span class="hx:absolute hx:-mt-20" id="steps-to-set-up-kubernetes">&lt;/span>
&lt;a href="#steps-to-set-up-kubernetes" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>First, record your site and environment.
Then, follow these steps.&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Create a namespace called libre.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl create ns libre&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Confirm it works with &lt;code>kubectl get ns&lt;/code>.&lt;/p>
&lt;p>On success, the output shows an active &lt;code>libre&lt;/code> namespace.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Set this namespace as a default with&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl config set-context --current --namespace&lt;span class="o">=&lt;/span>libre&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Alternatively, you can modify the kube &lt;code>config&lt;/code> file or use the &lt;code>kubens&lt;/code> tool.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add the Rhize Helm Chart Repository:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">helm repo add &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --username &amp;lt;EMAIL_ADDRESS&amp;gt; &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --password &amp;lt;ACCESS_TOKEN&amp;gt; &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> libre &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> https://gitlab.com/api/v4/projects/42214456/packages/helm/stable&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Create the container image pull secret:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl create secret docker-registry libre-registry-credential &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --docker-server&lt;span class="o">=&lt;/span>&amp;lt;HELM_REPOSITORY&amp;gt; &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --docker-password&lt;span class="o">=&lt;/span>&amp;lt;ACCESS_TOKEN&amp;gt; &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --docker-email&lt;span class="o">=&lt;/span>&amp;lt;EMAIL_ADDRESS&amp;gt;&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Confirm the secrets with this command:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl get secrets&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Add the Bitnami Helm repository:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">helm repo add bitnami https://charts.bitnami.com/bitnami&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>And update repositories with:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">helm repo update&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Pull the build template repository (we will supply this).&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update overrides to &lt;code>keycloak.yaml&lt;/code>. Then install with this command:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">helm install keycloak -f ./keycloak.yaml bitnami/keycloak -n libre&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>Note: Version may have to be specified by appending on &lt;code>--version&lt;/code> and the desired chart version.&lt;/p>
&lt;/blockquote>
&lt;ol>
&lt;li>
&lt;p>Set up port forwarding from Keycloak. For example, this forwards traffic to port &lt;code>8080&lt;/code> on &lt;code>localhost&lt;/code>.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl port-forward svc/keycloak 8080:80 -n libre&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;h2>Next steps&lt;span class="hx:absolute hx:-mt-20" id="next-steps">&lt;/span>
&lt;a href="#next-steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ol>
&lt;li>&lt;a href="https://docs.rhize.com/versions/v3.1.0/deploy/install/keycloak/" >Configure Keycloak&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.rhize.com/versions/v3.1.0/deploy/install/services/" >Install services&lt;/a>.&lt;/li>
&lt;/ol></description></item><item><title>Set up Kubernetes</title><link>https://docs.rhize.com/versions/v3.2.0/deploy/install/setup-kubernetes/</link><pubDate>Fri, 22 Sep 2023 14:49:53 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.2.0/deploy/install/setup-kubernetes/</guid><description>
&lt;p>This guide shows you how to install Rhize services on your Kubernetes cluster.
You can also use this procedure as the model for an automation workflow in your CI.&lt;/p>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prereqs">&lt;/span>
&lt;a href="#prereqs" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Before starting, ensure that you have the following technical requirements.&lt;/p>
&lt;p>&lt;strong>Software requirements&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://kubernetes.io/docs/tasks/tools/" target="_blank" rel="noopener">&lt;code>kubectl&lt;/code>&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://helm.sh" target="_blank" rel="noopener">Helm&lt;/a>&lt;/li>
&lt;li>Curl, or some similar program to make HTTP requests from the command line&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Access requirements&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>Administrative privileges for a running Kubernetes cluster in your environment.
Your organization must set this up.&lt;/li>
&lt;li>Access to Rhize Helm charts and its build repository.
Rhize provides these to all customers.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Optional utilities.&lt;/strong>
For manual installs, the following auxiliary tools might make
the experience a little more human friendly:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Optional: &lt;a href="https://github.com/ahmetb/kubectx" target="_blank" rel="noopener">kubectx&lt;/a> utilities&lt;/p>
&lt;ul>
&lt;li>&lt;code>kubectx&lt;/code> to manage multiple clusters&lt;/li>
&lt;li>&lt;code>kubens&lt;/code> to switch between and configure namespaces easily&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Optional: the &lt;a href="https://k8slens.dev" target="_blank" rel="noopener">k8 Lens IDE&lt;/a>, if you prefer to use Kubernetes graphically&lt;/p>
&lt;p>Again, these are helpers, not requirements.
You can install everything with only the &lt;code>kubectl&lt;/code> and &lt;code>helm&lt;/code> commands.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2>Steps to set up Kubernetes&lt;span class="hx:absolute hx:-mt-20" id="steps-to-set-up-kubernetes">&lt;/span>
&lt;a href="#steps-to-set-up-kubernetes" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>First, record your site and environment.
Then, follow these steps.&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Create a namespace called libre.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl create ns libre&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Confirm it works with &lt;code>kubectl get ns&lt;/code>.&lt;/p>
&lt;p>On success, the output shows an active &lt;code>libre&lt;/code> namespace.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Set this namespace as a default with&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl config set-context --current --namespace&lt;span class="o">=&lt;/span>libre&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Alternatively, you can modify the kube &lt;code>config&lt;/code> file or use the &lt;code>kubens&lt;/code> tool.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Add the Rhize Helm Chart Repository:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">helm repo add &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --username &amp;lt;EMAIL_ADDRESS&amp;gt; &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --password &amp;lt;ACCESS_TOKEN&amp;gt; &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> libre &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> https://gitlab.com/api/v4/projects/42214456/packages/helm/stable&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Create the container image pull secret:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl create secret docker-registry libre-registry-credential &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --docker-server&lt;span class="o">=&lt;/span>&amp;lt;HELM_REPOSITORY&amp;gt; &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --docker-password&lt;span class="o">=&lt;/span>&amp;lt;ACCESS_TOKEN&amp;gt; &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --docker-email&lt;span class="o">=&lt;/span>&amp;lt;EMAIL_ADDRESS&amp;gt;&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Confirm the secrets with this command:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl get secrets&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Add the Bitnami Helm repository:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">helm repo add bitnami https://charts.bitnami.com/bitnami&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>And update repositories with:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">helm repo update&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Pull the build template repository (we will supply this).&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Update overrides to &lt;code>keycloak.yaml&lt;/code>. Then install with this command:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">helm install keycloak -f ./keycloak.yaml bitnami/keycloak -n libre&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>Note: Version may have to be specified by appending on &lt;code>--version&lt;/code> and the desired chart version.&lt;/p>
&lt;/blockquote>
&lt;ol>
&lt;li>
&lt;p>Set up port forwarding from Keycloak. For example, this forwards traffic to port &lt;code>8080&lt;/code> on &lt;code>localhost&lt;/code>.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl port-forward svc/keycloak 8080:80 -n libre&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;h2>Next steps&lt;span class="hx:absolute hx:-mt-20" id="next-steps">&lt;/span>
&lt;a href="#next-steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ol>
&lt;li>&lt;a href="https://docs.rhize.com/versions/v3.2.0/deploy/install/keycloak/" >Configure Keycloak&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.rhize.com/versions/v3.2.0/deploy/install/services/" >Install services&lt;/a>.&lt;/li>
&lt;/ol></description></item><item><title>Data collection (eBR example)</title><link>https://docs.rhize.com/versions/v3.0.3/use-cases/data-collection-ebr/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.rhize.com/versions/v3.0.3/use-cases/data-collection-ebr/</guid><description>
&lt;blockquote>
&lt;p>&amp;#x1f4dd; Looking to implement Rhize for your Pharma operation?
&lt;a href="https://rhize.com/contact-us/" target="_blank" rel="noopener">Talk to an engineer&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>This document provides examples of how you can use Rhize to automatically ingest data from various sources and store it in a standardized ISA-95 schema.
The examples here are to produce an Electronic Batch Record, an important use case in pharmaceutical manufacturing.
However, the process described here is very similar to what data collection would like when integrating with any third-party system (such as an MRP, CMMS, and so on), no matter the type of manufacturing process.&lt;/p>
&lt;p>The procedure has the following steps:&lt;/p>
&lt;ol>
&lt;li>Identify the sources of data.&lt;/li>
&lt;li>Map the fields for these data sources to Rhize&amp;rsquo;s ISA-95 schema.&lt;/li>
&lt;li>Write &lt;abbr title="Business Process Model and Notation. A standardized graphical notation used to represent business processes in an intuitive, visual way. Rhize&amp;#39;s BPMN UI and engine provides a low-code interface for complex event handling">BPMN&lt;/abbr> processes that listen for relevant eBR events and transform the incoming data to the ISA-95 schema.&lt;/li>
&lt;li>After the batch finishes, query the database with the fields for your &lt;abbr title="Electronic batch report. A detailed report for a batch in a pharmaceutical process, logging items such as the process segments, personnel, equipment, material substance and weight, and so on">eBR&lt;/abbr>.&lt;/li>
&lt;/ol>
&lt;p>The following sections describe this process in a bit more detail.&lt;/p>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prerequisites">&lt;/span>
&lt;a href="#prerequisites" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>This procedure involves multiple data sources and different operations to transform the incoming data and store it in the graph database.
Before you start, ensure that you have the following:&lt;/p>
&lt;ul>
&lt;li>Awareness of the different sources of eBR data&lt;/li>
&lt;li>If real-time data comes from equipment, &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/publish-subscribe/connect-datasource/" >Connected data sources&lt;/a>&lt;/li>
&lt;li>Sufficient knowledge of the ISA-95 standard to model the input data as ISA-95 schema&lt;/li>
&lt;li>In the BPMN process, the ability to filter JSON and &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/gql/" >call the GraphQL API&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>In larger operations, different teams may help with different parts of the eBR-creation process.
For example, your integrators may help appropriately model the data, and the frontend team may render the outputted JSON into a final document.&lt;/p>
&lt;h2>Steps to automate eBR creation&lt;span class="hx:absolute hx:-mt-20" id="steps-to-automate-ebr-creation">&lt;/span>
&lt;a href="#steps-to-automate-ebr-creation" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The following steps describe the broad procedure to automatically update the database for incoming batch data, then automatically create an eBR after the batch run.&lt;/p>
&lt;h3>Identify the sources of data&lt;span class="hx:absolute hx:-mt-20" id="identify-the-sources-of-data">&lt;/span>
&lt;a href="#identify-the-sources-of-data" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The first step is to identify the sources of data for your eBR.&lt;/p>
&lt;figure>&lt;img src="https://docs.rhize.com/images/ebr/diagram-rhize-example-ebr-sources.png"
alt="Diagram showing some examples of eBR data sources" width="75%">
&lt;/figure>
&lt;p>Common data sources for an eBR include:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>&lt;abbr title="Enterprise resource planning. Software to manage business processes. In Rhize, ERP activities usually are named &amp;#34;operations&amp;#34;, where lower-level activities are prefixed with &amp;#34;Work&amp;#34;.">ERP&lt;/abbr> documents:&lt;/strong> high-level operations documents. This might include information about planning and scheduling.&lt;/li>
&lt;li>&lt;strong>&lt;abbr title="Manufacturing execution system. A system in a manufacturing process that tracks and documents the transformation of raw materials to finished goods">MES&lt;/abbr> data:&lt;/strong> granular process data, tracking objects such as the weight of individual material and the responses for different jobs.&lt;/li>
&lt;li>&lt;strong>&lt;abbr title="Laboratory information management system. ">LIMS&lt;/abbr> documents:&lt;/strong> information about the laboratory environment and testing samples&lt;/li>
&lt;li>&lt;strong>Real-time event data:&lt;/strong> for example, data sent from OPC UA or MQTT servers&lt;/li>
&lt;li>&lt;strong>Exceptions:&lt;/strong> Errors and alerts raised from the operator screen or automation system&lt;/li>
&lt;/ul>
&lt;h3>Model the fields as ISA-95 schema&lt;span class="hx:absolute hx:-mt-20" id="model-the-fields-as-isa-95-schema">&lt;/span>
&lt;a href="#model-the-fields-as-isa-95-schema" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>After you&amp;rsquo;ve identified the source data, the next step is to map this data into ISA-95 models.&lt;/p>
&lt;figure>&lt;img src="https://docs.rhize.com/images/ebr/diagram-rhize-map-ebr-isa95.png"
alt="diagram showing some examples of ISA-95 modeling" width="80%">
&lt;/figure>
&lt;p>Some common objects to map include raw and final material, equipment, personnel, operations schedule, segments, job responses, exceptions, and the ERP batch number.
Once ingested, all data is linked through common associations in the graph database and is thus accessible through a single query.&lt;/p>
&lt;h3>Write a BPMN workflow to ingest the data in real-time&lt;span class="hx:absolute hx:-mt-20" id="write-a-bpmn-workflow-to-ingest-the-data-in-real-time">&lt;/span>
&lt;a href="#write-a-bpmn-workflow-to-ingest-the-data-in-real-time" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/ebr/diagram-rhize-bpmn-ebr.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/ebr/diagram-rhize-bpmn-ebr.png" alt="Example of a BPMN workflow"
width="60%"
>
&lt;/a>
&lt;figcaption class="caption">
A simplified BPMN workflow. For an example of a real workflow with nodes for each logic step, refer to the next image.
&lt;/figcaption>
&lt;/figure>
&lt;p>With the sources of data and their corresponding models, the next step
is to write a &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/" >&lt;abbr title="Business Process Model and Notation. A standardized graphical notation used to represent business processes in an intuitive, visual way. Rhize&amp;#39;s BPMN UI and engine provides a low-code interface for complex event handling">BPMN&lt;/abbr>&lt;/a> workflow to automatically transform the data and update the database.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">You may want to break these steps into multiple parts.
Or, for increased modularity, you can call another BPMN workflow with a &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/bpmn-elements/#call-activities" >Call activity&lt;/a>.&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>The procedure is as follows:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Create a BPMN that is &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/trigger-workflows/" >triggered&lt;/a> by a relevant eBR event. For example, the workflow might subscribe to a &lt;code>/lims/lab1&lt;/code>, or be triggered by a call to the Rhize API. If the data comes from certain equipment, you first need to &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/publish-subscribe/connect-datasource/" >Connect a data source&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Transform with JSONata&lt;/p>
&lt;p>Rhize has a built-in &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/use-jsonata/" >JSONata&lt;/a> interpreter, which can filter and transform JSON.
Use a &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/bpmn-elements/#jsonata-transform" >JSONata service task&lt;/a> to map the data sources into the corresponding ISA-95 fields that you defined on the previous step.&lt;/p>
&lt;p>Use the output as a variable for the next step.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>POST data with a graph mutation.&lt;/p>
&lt;p>Use the variable returned by the JSONata step to send a mutation to update the Graph database with the new fields.
To learn more, read the &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/gql/" >Guide to GraphQL with Rhize&lt;/a>.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>In real BPMN workflows, you can dynamically create and assign fields as they enter the system.
For example, this workflow creates a new material definition and material-definition version based on whether this object already exists.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/bpmn/screenshot-rhize-bpmn-add-material-definition.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/bpmn/screenshot-rhize-bpmn-add-material-definition.png" alt="Screenshot of a BPMN workflow that adds material only if it exists"
>
&lt;/a>
&lt;/figure>
&lt;p>This step can involve multiple BPMN processes subscribing to different topics.
As long as the incoming event data has a common association, for example, through the &lt;code>id&lt;/code> of the batch data and associated &lt;code>JobResponse&lt;/code>, you can return all eBR fields in one GraphQL query—no recursive SQL joins needed.&lt;/p>
&lt;figure>&lt;img src="https://docs.rhize.com/images/ebr/diagram-rhize-inputs-for-ebr.png"
alt="Multiple BPMN processes can be united in one batch" width="75%">
&lt;/figure>
&lt;h3>Query the DB with the eBR fields&lt;span class="hx:absolute hx:-mt-20" id="query-the-db-with-the-ebr-fields">&lt;/span>
&lt;a href="#query-the-db-with-the-ebr-fields" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>After the batch finishes, use a &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/gql/query/" >GraphQL query&lt;/a> to receive all relevant batch data.
You only need one precise request to return exactly the data you specify.&lt;/p>
&lt;figure>&lt;img src="https://docs.rhize.com/images/ebr/diagram-rhize-make-ebr-query.png"
alt="Diagram showing how a query makes an ebr" width="55%">
&lt;/figure>
&lt;p>Here is a small, generic snippet of how it looks:
Note how the query specifies exactly the fields to return: no further response filtering is required.
For an idea of how a more complete query looks, refer to the &lt;a href="https://docs.rhize.com/versions/v3.0.3/use-cases/ebr/" >Electronic Batch Records&lt;/a> guide.&lt;/p>
&lt;details class="hx:last-of-type:mb-0 hx:rounded-lg hx:bg-neutral-50 hx:dark:bg-neutral-800 hx:p-2 hx:mt-4 hx:group" open>
&lt;summary class="hx:flex hx:items-center hx:cursor-pointer hx:select-none hx:list-none hx:p-1 hx:rounded-sm hx:transition-colors hx:hover:bg-gray-100 hx:dark:hover:bg-neutral-800 hx:before:mr-1 hx:before:inline-block hx:before:transition-transform hx:before:content-[''] hx:dark:before:invert hx:rtl:before:rotate-180 hx:group-open:before:rotate-90">
&lt;strong class="hx:text-lg">Snippet of a makeEbr query&lt;/strong>
&lt;/summary>
&lt;div class="hx:p-2 hx:overflow-hidden">
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">makeEbr&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$filter&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">JobOrderFilter&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="nc">JobResponse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">filter&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nv">$filter&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">EXAMPLE_id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">description&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">matActualProduced&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">materialActual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">filter&lt;/span>&lt;span class="p">:{&lt;/span>&lt;span class="nc">materialUse&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">eq&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nc">Produced&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}}){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">material&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">materialDefinitionVersion&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantityUoM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">## More eBR fields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/details>
&lt;p>The only extra step is to use the returned JSON object as the input for however you create your eBR documents.&lt;/p>
&lt;h2>Next steps&lt;span class="hx:absolute hx:-mt-20" id="next-steps">&lt;/span>
&lt;a href="#next-steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Fast eBR automation is just one of many use cases of Rhize in the pharmaceutical industry.
With the same event data that you automatically ingest and filter in this workflow, you can also:&lt;/p>
&lt;ul>
&lt;li>Program reactive logic using BPMN for &lt;abbr title="A pattern in event-driven architecture where a central service, such as NATS, listens to events and decides how to handle them.">event orchestration&lt;/abbr>. For example, you might send an alert after detecting a threshold condition.&lt;/li>
&lt;li>Analyze multiple batch runs for deviations. For example, you can query every instance of a failure mode across all laboratories.&lt;/li>
&lt;li>Compare batches against some variable. For example, you can compare all runs for two versions of equipment.&lt;/li>
&lt;/ul></description></item><item><title>Data collection (eBR example)</title><link>https://docs.rhize.com/versions/v3.1.0/use-cases/data-collection-ebr/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.rhize.com/versions/v3.1.0/use-cases/data-collection-ebr/</guid><description>
&lt;blockquote>
&lt;p>&amp;#x1f4dd; Looking to implement Rhize for your Pharma operation?
&lt;a href="https://rhize.com/contact-us/" target="_blank" rel="noopener">Talk to an engineer&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>This document provides examples of how you can use Rhize to automatically ingest data from various sources and store it in a standardized ISA-95 schema.
The examples here are to produce an Electronic Batch Record, an important use case in pharmaceutical manufacturing.
However, the process described here is very similar to what data collection would look like when integrating with any third-party system (such as an MRP, CMMS, and so on), regardless of the type of manufacturing process.&lt;/p>
&lt;p>The procedure has the following steps:&lt;/p>
&lt;ol>
&lt;li>Identify the sources of data.&lt;/li>
&lt;li>Map the fields for these data sources to Rhize&amp;rsquo;s ISA-95 schema.&lt;/li>
&lt;li>Write &lt;abbr title="Business Process Model and Notation. A standardized graphical notation used to represent business processes in an intuitive, visual way. Rhize&amp;#39;s BPMN UI and engine provides a low-code interface for complex event handling">BPMN&lt;/abbr> processes that listen for relevant eBR events and transform incoming data to the ISA-95 schema.&lt;/li>
&lt;li>After the batch finishes, query the database with the fields for your &lt;abbr title="Electronic batch report. A detailed report for a batch in a pharmaceutical process, logging items such as the process segments, personnel, equipment, material substance and weight, and so on">eBR&lt;/abbr>.&lt;/li>
&lt;/ol>
&lt;p>The following sections describe this process in a bit more detail.&lt;/p>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prerequisites">&lt;/span>
&lt;a href="#prerequisites" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>This procedure involves multiple data sources and different operations to transform the incoming data and store it in the graph database.
Before you start, ensure that you have the following:&lt;/p>
&lt;ul>
&lt;li>Awareness of the different sources of eBR data&lt;/li>
&lt;li>If real-time data comes from equipment, &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/publish-subscribe/connect-datasource/" >Connected data sources&lt;/a>&lt;/li>
&lt;li>Sufficient knowledge of the ISA-95 standard to model the input data as ISA-95 schema&lt;/li>
&lt;li>In the BPMN process, the ability to filter JSON and &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/gql/" >call the GraphQL API&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>In larger operations, different teams may help with different parts of the eBR-creation process.
For example, your integrators may help appropriately model the data, and the frontend team may render the outputted JSON into a final document.&lt;/p>
&lt;h2>Steps to automate eBR creation&lt;span class="hx:absolute hx:-mt-20" id="steps-to-automate-ebr-creation">&lt;/span>
&lt;a href="#steps-to-automate-ebr-creation" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The following steps describe the broad procedure to automatically update the database for incoming batch data, then automatically create an eBR after the batch run.&lt;/p>
&lt;h3>Identify the sources of data&lt;span class="hx:absolute hx:-mt-20" id="identify-the-sources-of-data">&lt;/span>
&lt;a href="#identify-the-sources-of-data" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The first step is to identify the sources of data for your eBR.&lt;/p>
&lt;figure>&lt;img src="https://docs.rhize.com/images/ebr/diagram-rhize-example-ebr-sources.png"
alt="Diagram showing some examples of eBR data sources" width="75%">
&lt;/figure>
&lt;p>Common data sources for an eBR include:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>&lt;abbr title="Enterprise resource planning. Software to manage business processes. In Rhize, ERP activities usually are named &amp;#34;operations&amp;#34;, where lower-level activities are prefixed with &amp;#34;Work&amp;#34;.">ERP&lt;/abbr> documents:&lt;/strong> high-level operations documents. This might include information about planning and scheduling.&lt;/li>
&lt;li>&lt;strong>&lt;abbr title="Manufacturing execution system. A system in a manufacturing process that tracks and documents the transformation of raw materials to finished goods">MES&lt;/abbr> data:&lt;/strong> granular process data, tracking objects such as the weight of individual material and the responses for different jobs.&lt;/li>
&lt;li>&lt;strong>&lt;abbr title="Laboratory information management system. ">LIMS&lt;/abbr> documents:&lt;/strong> information about the laboratory environment and testing samples&lt;/li>
&lt;li>&lt;strong>Real-time event data:&lt;/strong> for example, data sent from OPC UA or MQTT servers&lt;/li>
&lt;li>&lt;strong>Exceptions:&lt;/strong> Errors and alerts raised from the operator screen or automation system&lt;/li>
&lt;/ul>
&lt;h3>Model the fields as ISA-95 schema&lt;span class="hx:absolute hx:-mt-20" id="model-the-fields-as-isa-95-schema">&lt;/span>
&lt;a href="#model-the-fields-as-isa-95-schema" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>After you&amp;rsquo;ve identified the source data, the next step is to map this data into ISA-95 models.&lt;/p>
&lt;figure>&lt;img src="https://docs.rhize.com/images/ebr/diagram-rhize-map-ebr-isa95.png"
alt="diagram showing some examples of ISA-95 modeling" width="80%">
&lt;/figure>
&lt;p>Some common objects to map include raw and final material, equipment, personnel, operations schedule, segments, job responses, exceptions, and the ERP batch number.
Once ingested, all data is linked through common associations in the graph database and is thus accessible through a single query.&lt;/p>
&lt;h3>Write a BPMN workflow to ingest the data in real-time&lt;span class="hx:absolute hx:-mt-20" id="write-a-bpmn-workflow-to-ingest-the-data-in-real-time">&lt;/span>
&lt;a href="#write-a-bpmn-workflow-to-ingest-the-data-in-real-time" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/ebr/diagram-rhize-bpmn-ebr.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/ebr/diagram-rhize-bpmn-ebr.png" alt="Example of a BPMN workflow"
width="60%"
>
&lt;/a>
&lt;figcaption class="caption">
A simplified BPMN workflow. For an example of a real workflow with nodes for each logic step, refer to the next image.
&lt;/figcaption>
&lt;/figure>
&lt;p>With the sources of data and their corresponding models, the next step
is to write a &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/" >&lt;abbr title="Business Process Model and Notation. A standardized graphical notation used to represent business processes in an intuitive, visual way. Rhize&amp;#39;s BPMN UI and engine provides a low-code interface for complex event handling">BPMN&lt;/abbr>&lt;/a> workflow to automatically transform the data and update the database.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">You may want to break these steps into multiple parts.
Or, for increased modularity, you can call another BPMN workflow with a &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/bpmn-elements/#call-activities" >Call activity&lt;/a>.&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>The procedure is as follows:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Create a BPMN that is &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/trigger-workflows/" >triggered&lt;/a> by a relevant eBR event. For example, the workflow might subscribe to a &lt;code>/lims/lab1&lt;/code>, or be triggered by a call to the Rhize API. If the data comes from certain equipment, you first need to &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/publish-subscribe/connect-datasource/" >Connect a data source&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Transform with JSONata&lt;/p>
&lt;p>Rhize has a built-in &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/use-jsonata/" >JSONata&lt;/a> interpreter, which can filter and transform JSON.
Use a &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/bpmn-elements/#jsonata-transform" >JSONata service task&lt;/a> to map the data sources into the corresponding ISA-95 fields that you defined on the previous step.&lt;/p>
&lt;p>Use the output as a variable for the next step.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>POST data with a graph mutation.&lt;/p>
&lt;p>Use the variable returned by the JSONata step to send a mutation to update the Graph database with the new fields.
To learn more, read the &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/gql/" >Guide to GraphQL with Rhize&lt;/a>.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>In real BPMN workflows, you can dynamically create and assign fields as they enter the system.
For example, this workflow creates a new material definition and material-definition version based on whether this object already exists.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/bpmn/screenshot-rhize-bpmn-add-material-definition.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/bpmn/screenshot-rhize-bpmn-add-material-definition.png" alt="Screenshot of a BPMN workflow that adds material only if it exists"
>
&lt;/a>
&lt;/figure>
&lt;p>This step can involve multiple BPMN processes subscribing to different topics.
As long as the incoming event data has a common association, for example, through the &lt;code>id&lt;/code> of the batch data and associated &lt;code>JobResponse&lt;/code>, you can return all eBR fields in one GraphQL query—no recursive SQL joins needed.&lt;/p>
&lt;figure>&lt;img src="https://docs.rhize.com/images/ebr/diagram-rhize-inputs-for-ebr.png"
alt="Multiple BPMN processes can be united in one batch" width="75%">
&lt;/figure>
&lt;h3>Query the DB with the eBR fields&lt;span class="hx:absolute hx:-mt-20" id="query-the-db-with-the-ebr-fields">&lt;/span>
&lt;a href="#query-the-db-with-the-ebr-fields" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>After the batch finishes, use a &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/gql/query/" >GraphQL query&lt;/a> to receive all relevant batch data.
You only need one precise request to return exactly the data you specify.&lt;/p>
&lt;figure>&lt;img src="https://docs.rhize.com/images/ebr/diagram-rhize-make-ebr-query.png"
alt="Diagram showing how a query makes an ebr" width="55%">
&lt;/figure>
&lt;p>Here is a small, generic snippet of how it looks:
Note how the query specifies exactly the fields to return: no further response filtering is required.
For an idea of how a more complete query looks, refer to the &lt;a href="https://docs.rhize.com/versions/v3.1.0/use-cases/ebr/" >Electronic Batch Records&lt;/a> guide.&lt;/p>
&lt;details class="hx:last-of-type:mb-0 hx:rounded-lg hx:bg-neutral-50 hx:dark:bg-neutral-800 hx:p-2 hx:mt-4 hx:group" open>
&lt;summary class="hx:flex hx:items-center hx:cursor-pointer hx:select-none hx:list-none hx:p-1 hx:rounded-sm hx:transition-colors hx:hover:bg-gray-100 hx:dark:hover:bg-neutral-800 hx:before:mr-1 hx:before:inline-block hx:before:transition-transform hx:before:content-[''] hx:dark:before:invert hx:rtl:before:rotate-180 hx:group-open:before:rotate-90">
&lt;strong class="hx:text-lg">Snippet of a makeEbr query&lt;/strong>
&lt;/summary>
&lt;div class="hx:p-2 hx:overflow-hidden">
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">makeEbr&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$filter&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">JobOrderFilter&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="nc">JobResponse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">filter&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nv">$filter&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">EXAMPLE_id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">description&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">matActualProduced&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">materialActual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">filter&lt;/span>&lt;span class="p">:{&lt;/span>&lt;span class="nc">materialUse&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">eq&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nc">Produced&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}}){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">material&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">materialDefinitionVersion&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantityUoM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">## More eBR fields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/details>
&lt;p>The only extra step is to use the returned JSON object as the input for however you create your eBR documents.&lt;/p>
&lt;h2>Next steps&lt;span class="hx:absolute hx:-mt-20" id="next-steps">&lt;/span>
&lt;a href="#next-steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Fast eBR automation is just one of many use cases of Rhize in the pharmaceutical industry.
With the same event data that you automatically ingest and filter in this workflow, you can also:&lt;/p>
&lt;ul>
&lt;li>Program reactive logic using BPMN for &lt;abbr title="A pattern in event-driven architecture where a central service, such as NATS, listens to events and decides how to handle them.">event orchestration&lt;/abbr>. For example, you might send an alert after detecting a threshold condition.&lt;/li>
&lt;li>Analyze multiple batch runs for deviations. For example, you can query every instance of a failure mode across all laboratories.&lt;/li>
&lt;li>Compare batches against some variable. For example, you can compare all runs for two versions of equipment.&lt;/li>
&lt;/ul></description></item><item><title>Data collection (eBR example)</title><link>https://docs.rhize.com/versions/v3.2.0/use-cases/data-collection-ebr/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.rhize.com/versions/v3.2.0/use-cases/data-collection-ebr/</guid><description>
&lt;blockquote>
&lt;p>&amp;#x1f4dd; Looking to implement Rhize for your Pharma operation?
&lt;a href="https://rhize.com/contact-us/" target="_blank" rel="noopener">Talk to an engineer&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>This document provides examples of how you can use Rhize to automatically ingest data from various sources and store it in a standardized ISA-95 schema.
The examples here are to produce an Electronic Batch Record, an important use case in pharmaceutical manufacturing.
However, the process described here is very similar to what data collection would look like when integrating with any third-party system (such as an MRP, CMMS, and so on), regardless of the type of manufacturing process.&lt;/p>
&lt;p>The procedure has the following steps:&lt;/p>
&lt;ol>
&lt;li>Identify the sources of data.&lt;/li>
&lt;li>Map the fields for these data sources to Rhize&amp;rsquo;s ISA-95 schema.&lt;/li>
&lt;li>Write &lt;abbr title="Business Process Model and Notation. A standardized graphical notation used to represent business processes in an intuitive, visual way. Rhize&amp;#39;s BPMN UI and engine provides a low-code interface for complex event handling">BPMN&lt;/abbr> processes that listen for relevant eBR events and transform incoming data to the ISA-95 schema.&lt;/li>
&lt;li>After the batch finishes, query the database with the fields for your &lt;abbr title="Electronic batch report. A detailed report for a batch in a pharmaceutical process, logging items such as the process segments, personnel, equipment, material substance and weight, and so on">eBR&lt;/abbr>.&lt;/li>
&lt;/ol>
&lt;p>The following sections describe this process in a bit more detail.&lt;/p>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prerequisites">&lt;/span>
&lt;a href="#prerequisites" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>This procedure involves multiple data sources and different operations to transform the incoming data and store it in the graph database.
Before you start, ensure that you have the following:&lt;/p>
&lt;ul>
&lt;li>Awareness of the different sources of eBR data&lt;/li>
&lt;li>If real-time data comes from equipment, &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/publish-subscribe/connect-datasource/" >Connected data sources&lt;/a>&lt;/li>
&lt;li>Sufficient knowledge of the ISA-95 standard to model the input data as ISA-95 schema&lt;/li>
&lt;li>In the BPMN process, the ability to filter JSON and &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/gql/" >call the GraphQL API&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>In larger operations, different teams may help with different parts of the eBR-creation process.
For example, your integrators may help appropriately model the data, and the frontend team may render the outputted JSON into a final document.&lt;/p>
&lt;h2>Steps to automate eBR creation&lt;span class="hx:absolute hx:-mt-20" id="steps-to-automate-ebr-creation">&lt;/span>
&lt;a href="#steps-to-automate-ebr-creation" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The following steps describe the broad procedure to automatically update the database for incoming batch data, then automatically create an eBR after the batch run.&lt;/p>
&lt;h3>Identify the sources of data&lt;span class="hx:absolute hx:-mt-20" id="identify-the-sources-of-data">&lt;/span>
&lt;a href="#identify-the-sources-of-data" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The first step is to identify the sources of data for your eBR.&lt;/p>
&lt;figure>&lt;img src="https://docs.rhize.com/images/ebr/diagram-rhize-example-ebr-sources.png"
alt="Diagram showing some examples of eBR data sources" width="75%">
&lt;/figure>
&lt;p>Common data sources for an eBR include:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>&lt;abbr title="Enterprise resource planning. Software to manage business processes. In Rhize, ERP activities usually are named &amp;#34;operations&amp;#34;, where lower-level activities are prefixed with &amp;#34;Work&amp;#34;.">ERP&lt;/abbr> documents:&lt;/strong> high-level operations documents. This might include information about planning and scheduling.&lt;/li>
&lt;li>&lt;strong>&lt;abbr title="Manufacturing execution system. A system in a manufacturing process that tracks and documents the transformation of raw materials to finished goods">MES&lt;/abbr> data:&lt;/strong> granular process data, tracking objects such as the weight of individual material and the responses for different jobs.&lt;/li>
&lt;li>&lt;strong>&lt;abbr title="Laboratory information management system. ">LIMS&lt;/abbr> documents:&lt;/strong> information about the laboratory environment and testing samples&lt;/li>
&lt;li>&lt;strong>Real-time event data:&lt;/strong> for example, data sent from OPC UA or MQTT servers&lt;/li>
&lt;li>&lt;strong>Exceptions:&lt;/strong> Errors and alerts raised from the operator screen or automation system&lt;/li>
&lt;/ul>
&lt;h3>Model the fields as ISA-95 schema&lt;span class="hx:absolute hx:-mt-20" id="model-the-fields-as-isa-95-schema">&lt;/span>
&lt;a href="#model-the-fields-as-isa-95-schema" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>After you&amp;rsquo;ve identified the source data, the next step is to map this data into ISA-95 models.&lt;/p>
&lt;figure>&lt;img src="https://docs.rhize.com/images/ebr/diagram-rhize-map-ebr-isa95.png"
alt="diagram showing some examples of ISA-95 modeling" width="80%">
&lt;/figure>
&lt;p>Some common objects to map include raw and final material, equipment, personnel, operations schedule, segments, job responses, exceptions, and the ERP batch number.
Once ingested, all data is linked through common associations in the graph database and is thus accessible through a single query.&lt;/p>
&lt;h3>Write a BPMN workflow to ingest the data in real-time&lt;span class="hx:absolute hx:-mt-20" id="write-a-bpmn-workflow-to-ingest-the-data-in-real-time">&lt;/span>
&lt;a href="#write-a-bpmn-workflow-to-ingest-the-data-in-real-time" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/ebr/diagram-rhize-bpmn-ebr.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/ebr/diagram-rhize-bpmn-ebr.png" alt="Example of a BPMN workflow"
width="60%"
>
&lt;/a>
&lt;figcaption class="caption">
A simplified BPMN workflow. For an example of a real workflow with nodes for each logic step, refer to the next image.
&lt;/figcaption>
&lt;/figure>
&lt;p>With the sources of data and their corresponding models, the next step
is to write a &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/" >&lt;abbr title="Business Process Model and Notation. A standardized graphical notation used to represent business processes in an intuitive, visual way. Rhize&amp;#39;s BPMN UI and engine provides a low-code interface for complex event handling">BPMN&lt;/abbr>&lt;/a> workflow to automatically transform the data and update the database.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">You may want to break these steps into multiple parts.
Or, for increased modularity, you can call another BPMN workflow with a &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/bpmn-elements/#call-activities" >Call activity&lt;/a>.&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>The procedure is as follows:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Create a BPMN that is &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/trigger-workflows/" >triggered&lt;/a> by a relevant eBR event. For example, the workflow might subscribe to a &lt;code>/lims/lab1&lt;/code>, or be triggered by a call to the Rhize API. If the data comes from certain equipment, you first need to &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/publish-subscribe/connect-datasource/" >Connect a data source&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Transform with JSONata&lt;/p>
&lt;p>Rhize has a built-in &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/use-jsonata/" >JSONata&lt;/a> interpreter, which can filter and transform JSON.
Use a &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/bpmn-elements/#jsonata-transform" >JSONata service task&lt;/a> to map the data sources into the corresponding ISA-95 fields that you defined on the previous step.&lt;/p>
&lt;p>Use the output as a variable for the next step.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>POST data with a graph mutation.&lt;/p>
&lt;p>Use the variable returned by the JSONata step to send a mutation to update the Graph database with the new fields.
To learn more, read the &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/gql/" >Guide to GraphQL with Rhize&lt;/a>.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>In real BPMN workflows, you can dynamically create and assign fields as they enter the system.
For example, this workflow creates a new material definition and material-definition version based on whether this object already exists.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/bpmn/screenshot-rhize-bpmn-add-material-definition.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/bpmn/screenshot-rhize-bpmn-add-material-definition.png" alt="Screenshot of a BPMN workflow that adds material only if it exists"
>
&lt;/a>
&lt;/figure>
&lt;p>This step can involve multiple BPMN processes subscribing to different topics.
As long as the incoming event data has a common association, for example, through the &lt;code>id&lt;/code> of the batch data and associated &lt;code>JobResponse&lt;/code>, you can return all eBR fields in one GraphQL query—no recursive SQL joins needed.&lt;/p>
&lt;figure>&lt;img src="https://docs.rhize.com/images/ebr/diagram-rhize-inputs-for-ebr.png"
alt="Multiple BPMN processes can be united in one batch" width="75%">
&lt;/figure>
&lt;h3>Query the DB with the eBR fields&lt;span class="hx:absolute hx:-mt-20" id="query-the-db-with-the-ebr-fields">&lt;/span>
&lt;a href="#query-the-db-with-the-ebr-fields" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>After the batch finishes, use a &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/gql/query/" >GraphQL query&lt;/a> to receive all relevant batch data.
You only need one precise request to return exactly the data you specify.&lt;/p>
&lt;figure>&lt;img src="https://docs.rhize.com/images/ebr/diagram-rhize-make-ebr-query.png"
alt="Diagram showing how a query makes an ebr" width="55%">
&lt;/figure>
&lt;p>Here is a small, generic snippet of how it looks:
Note how the query specifies exactly the fields to return: no further response filtering is required.
For an idea of how a more complete query looks, refer to the &lt;a href="https://docs.rhize.com/versions/v3.2.0/use-cases/ebr/" >Electronic Batch Records&lt;/a> guide.&lt;/p>
&lt;details class="hx:last-of-type:mb-0 hx:rounded-lg hx:bg-neutral-50 hx:dark:bg-neutral-800 hx:p-2 hx:mt-4 hx:group" open>
&lt;summary class="hx:flex hx:items-center hx:cursor-pointer hx:select-none hx:list-none hx:p-1 hx:rounded-sm hx:transition-colors hx:hover:bg-gray-100 hx:dark:hover:bg-neutral-800 hx:before:mr-1 hx:before:inline-block hx:before:transition-transform hx:before:content-[''] hx:dark:before:invert hx:rtl:before:rotate-180 hx:group-open:before:rotate-90">
&lt;strong class="hx:text-lg">Snippet of a makeEbr query&lt;/strong>
&lt;/summary>
&lt;div class="hx:p-2 hx:overflow-hidden">
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">makeEbr&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$filter&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">JobOrderFilter&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="nc">JobResponse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">filter&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nv">$filter&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">EXAMPLE_id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">description&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">matActualProduced&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">materialActual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">filter&lt;/span>&lt;span class="p">:{&lt;/span>&lt;span class="nc">materialUse&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">eq&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nc">Produced&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}}){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">material&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">materialDefinitionVersion&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantityUoM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">## More eBR fields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/details>
&lt;p>The only extra step is to use the returned JSON object as the input for however you create your eBR documents.&lt;/p>
&lt;h2>Next steps&lt;span class="hx:absolute hx:-mt-20" id="next-steps">&lt;/span>
&lt;a href="#next-steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Fast eBR automation is just one of many use cases of Rhize in the pharmaceutical industry.
With the same event data that you automatically ingest and filter in this workflow, you can also:&lt;/p>
&lt;ul>
&lt;li>Program reactive logic using BPMN for &lt;abbr title="A pattern in event-driven architecture where a central service, such as NATS, listens to events and decides how to handle them.">event orchestration&lt;/abbr>. For example, you might send an alert after detecting a threshold condition.&lt;/li>
&lt;li>Analyze multiple batch runs for deviations. For example, you can query every instance of a failure mode across all laboratories.&lt;/li>
&lt;li>Compare batches against some variable. For example, you can compare all runs for two versions of equipment.&lt;/li>
&lt;/ul></description></item><item><title>Electronic Batch Records</title><link>https://docs.rhize.com/versions/v3.0.3/use-cases/ebr/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.rhize.com/versions/v3.0.3/use-cases/ebr/</guid><description>
&lt;p>This document shows you how to use ISA-95 and Rhize to create a generic, reusable model for any use case that involves &lt;em>Electronic batch records&lt;/em>.
As long as you properly &lt;a href="https://docs.rhize.com/versions/v3.0.3/use-cases/data-collection-ebr/" >map and ingest&lt;/a> the source data,
the provided queries here should work for any operation, though you&amp;rsquo;ll need to tweak them to fit the particular structure of your job response and reporting requirements.&lt;/p>
&lt;p>An Electronic Batch Record (eBR) is a detailed report about a specific batch.
Generating eBRs is an important component of pharmaceutical manufacturing, whose high standards of compliance and complexity of inputs demand a great deal of detail in each report.&lt;/p>
&lt;p>Rhize can model events and resources at a high degree of granularity, and its ISA-95 schema creates built-in relationships between these entities.
So it makes an ideal backend to generate eBRs with great detail and context.
In a single query,
you can use Rhize to identify answers to questions such as:&lt;/p>
&lt;ul>
&lt;li>What material, equipment, and personnel were involved in this job? And what was their function in performance?&lt;/li>
&lt;li>When and where did this job happen? How long did it run for?&lt;/li>
&lt;li>Why was this work performed? That is, what is the order that initiated the work?&lt;/li>
&lt;li>What are the results of quality testing for this work?&lt;/li>
&lt;/ul>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-orange-100 hx:bg-orange-50 hx:text-orange-800 hx:dark:border-orange-400/30 hx:dark:bg-orange-400/20 hx:dark:text-orange-300">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">&amp;#x1f4dd;
The focus here is modeling and querying.
For a high-level overview of how eBR data may enter the Rhize data hub, read the guide to &lt;a href="https://docs.rhize.com/versions/v3.0.3/use-cases/data-collection-ebr/" >Data collection&lt;/a>.&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Quick query&lt;span class="hx:absolute hx:-mt-20" id="quick-query">&lt;/span>
&lt;a href="#quick-query" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>
&lt;blockquote> 🎥Watch:&lt;/span>&lt;a href="https://www.youtube.com/watch?v=oXG5f3O9xjU&amp;amp;t=0s">Full eBR in 1 query&lt;/a>&lt;/blockquote>
&lt;p>If you just want to build out a &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/gql/query/" >GraphQL query&lt;/a> for your reporting, use these templates to get started.&lt;/p>
&lt;p>If you know the IDs for the relevant job response, job order, and test results, you can structure each group as a top-level object.
If you want to input only one ID, you can also use nested fields on a response, order, or test specification to pull all necessary information.
The Rhize DB stores relationships, so the values are identical—only the structure of the response changes.&lt;/p>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">Flat&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Nested&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gql" data-lang="gql">&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">eBR&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">performance&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getJobResponse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;&amp;lt;JOB_ID&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># duration, actuals, and so on&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">planning&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getJobOrder&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;&amp;lt;ORDER_ID&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># requirements, work master, and so on&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">testing&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getTestResult&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;&amp;lt;TEST_ID&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># evaluation properties and tested objects&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-1"
role="tabpanel">&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gql" data-lang="gql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">nestedBatchReport&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">jobResponse&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getJobResponse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ds1d-batch-119-jr-fc-make-frosting&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">## more fields about performance&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialActual&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">## repeat for other resources as needed&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">testResults&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">## test results for material&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">## More material fields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">associated_order&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">jobOrder&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">## more planning fields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>For more detail, refer to the
&lt;a href="#example-query" >complete example query&lt;/a>.&lt;/p>
&lt;h2>Background: ISA-95 entities in an eBR query&lt;span class="hx:absolute hx:-mt-20" id="background-isa-95-entities-in-an-ebr-query">&lt;/span>
&lt;a href="#background-isa-95-entities-in-an-ebr-query" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-orange-100 hx:bg-orange-50 hx:text-orange-800 hx:dark:border-orange-400/30 hx:dark:bg-orange-400/20 hx:dark:text-orange-300">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">&amp;#x1f4dd; For an introduction to ISA-95 and its terminology,
read &lt;a href="https://docs.rhize.com/isa-95/how-to-speak-isa-95/" >How to speak ISA-95&lt;/a>.&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>The following lists detail the ISA-95 entities that you might need when querying the Rhize database for an eBR.
As always, your manufacturing needs and data-collection capabilities determine the exact data that is necessary.
It is likely that some of the following fields are irrelevant to your particular use case.&lt;/p>
&lt;h3>Performance information&lt;span class="hx:absolute hx:-mt-20" id="performance-information">&lt;/span>
&lt;a href="#performance-information" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>job response&lt;/em> represents a unit of performed work in a manufacturing operation.
The job response typically forms the core of an eBR query,
as you can query it to obtain duration and all &lt;abbr title="The specific resource used for a specific job. For example, an operations segment may require EquipmentA, but if this equipment is in maintainance at the time of a job, the Equipment actual might be its temporary replacement, EquipmentB">resource actual&lt;/abbr>s involved in the job.
A job response may also contain child job responses, as displayed in the following diagram:&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/s95/diagram-rhize-s95-job-response-with-children.svg" target="_blank">
&lt;img src="https://docs.rhize.com/images/s95/diagram-rhize-s95-job-response-with-children.svg" alt=""
>
&lt;/a>
&lt;figcaption class="caption">
An example of a job response with child job responses. The parent job has a material actual representing the final produced good. The child job responses also have their own properties that may be important to model. This is just one variation of many. &lt;strong>ISA-95 is flexible and the best model always depends on your use case&lt;/strong>.
&lt;/figcaption>
&lt;/figure>
&lt;p>For an eBR, some important job response properties and associations include the following:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Start and End times.&lt;/strong> When work started and how long it lasted.&lt;/li>
&lt;li>&lt;strong>Material Actuals.&lt;/strong> The quantities of material involved and how they are used: consumed, produced, tested, scrapped, and so on. Material actuals may also have associated lots for unique identification. Test results may be derived from samples of the material actual.&lt;/li>
&lt;li>&lt;strong>Equipment Actuals.&lt;/strong> The real equipment used in a job, along with associated equipment properties and testing results.&lt;/li>
&lt;li>&lt;strong>Personnel actuals.&lt;/strong> The people involved in a job or test.&lt;/li>
&lt;li>&lt;strong>Process values&lt;/strong>. Associated process data and calculations.&lt;/li>
&lt;li>&lt;strong>Comments and Signatures.&lt;/strong> Additional input from operators.&lt;/li>
&lt;/ul>
&lt;h3>Scheduling information&lt;span class="hx:absolute hx:-mt-20" id="scheduling-information">&lt;/span>
&lt;a href="#scheduling-information" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>An eBR report might also include information
about the work that was demanded.
The simplest relationship between performance and demand is the link between a job response and a &lt;em>job order&lt;/em>.
So your eBR might include information about the order that initiated the response.
Through this order, you could also include higher-level scheduling information.&lt;/p>
&lt;p>When adding order information, consider whether you need the following properties:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Scheduled start and end times.&lt;/strong> These might be compared to the real start and end.&lt;/li>
&lt;li>&lt;strong>Material requirements&lt;/strong>. The material that corresponds to the material actuals in the performance. Requirements may include:
&lt;ul>
&lt;li>Material to be produced, along with their scheduled quantities and units of measure&lt;/li>
&lt;/ul>
&lt;ul>
&lt;li>Material to be consumed, along with their scheduled quantities and units of measure&lt;/li>
&lt;li>Any by-product material and scrap&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Planned equipment&lt;/strong>. This can be compared to the real equipment used.&lt;/li>
&lt;li>&lt;strong>Work Directive&lt;/strong>. The dispatched version of the planned work. The directive may include:
&lt;ul>
&lt;li>Specifications or a BoM (if the requirements are not in the order itself)&lt;/li>
&lt;li>Any relevant work master configuration (routing, process parameters like temperature, durations, and so on)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3>Quality information&lt;span class="hx:absolute hx:-mt-20" id="quality-information">&lt;/span>
&lt;a href="#quality-information" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Your eBR trace also may record test results.
These results provide context about the quality of the work produced in the job response.&lt;/p>
&lt;p>Each &lt;abbr title="The specific resource used for a specific job. For example, an operations segment may require EquipmentA, but if this equipment is in maintainance at the time of a job, the Equipment actual might be its temporary replacement, EquipmentB">resource actual&lt;/abbr> can have a corresponding test result.
For example:&lt;/p>
&lt;ul>
&lt;li>The material actual and lot may record the sample.&lt;/li>
&lt;li>The equipment actual may record test locations.&lt;/li>
&lt;li>Physical asset actuals may record instruments used for the test.&lt;/li>
&lt;li>Personnel actuals may record who performed the test.&lt;/li>
&lt;/ul>
&lt;h2>Example query&lt;span class="hx:absolute hx:-mt-20" id="example-query">&lt;/span>
&lt;a href="#example-query" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The following snippet is an example of how to pull a full eBR from a single &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/gql/query/" >GraphQL query&lt;/a>.
Each top-level object has an &lt;a href="https://graphql.org/learn/queries/#aliases" target="_blank" rel="noopener">alias&lt;/a>, which serves as the key for the object in the JSON payload.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gql" data-lang="gql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">eBR&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">performance&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getJobResponse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ds1d-119-as&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># duration, actuals, and so on&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">planning&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getJobOrder&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ds1d-119-jo-119-3&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># requirements, work directive, and so on&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">testing&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getTestResult&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ds1d-119-tr-3&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># evaluation properties and tested objects&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">Full query&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Example response: performance eBR&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;p>&lt;strong>Variables&lt;/strong>&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getJobResponseId&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-119-jr-fc-make-frosting&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getJobOrderId&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-jo-119&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getTestResultId&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-tr-119&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;strong>Query&lt;/strong>&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gql" data-lang="gql">&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">eBR&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$getJobResponseId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nv">$getJobOrderId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nv">$getTestResultId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">String&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">performance&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getJobResponse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nv">$getJobResponseId&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">jobResponseId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">startDateTime&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">endDateTime&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">duration&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">jobState&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">workDirective&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialActual&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialUse&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantityUoM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialDefinition&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialDefinition&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialSubLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">properties&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">equipmentActual&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">equipment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">description&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">children&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">properties&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">value&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">valueUnitOfMeasure&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">personnelActual&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">planning&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getJobOrder&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nv">$getJobOrderId&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">orderId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">scheduledStartDateTime&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">scheduledEndDateTime&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialRequirements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantityUoM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">equipmentRequirements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">equipment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">workMaster&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">parameterSpecifications&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">description&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">testing&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getTestResult&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nv">$getTestResultId&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">resultsId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">evaluationDate&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">expiration&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">evaluationCriterionResult&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">equipmentActual&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialActual&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialUse&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">physicalAsset&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">equipmentActual&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-1"
role="tabpanel">&lt;p>The &lt;code>performance&lt;/code> section of this query may return data that looks something like this.
Note that every object does not necessarily have every requested field.
In this example, only some material actuals have additional properties.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;performance&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-119-jr-fc-make-frosting&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;startDateTime&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;2024-09-23T23:22:25Z&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;endDateTime&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;2024-09-23T23:38:04.783Z&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;duration&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">939.783&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialActual&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-cookie-frosting-actual-119&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialUse&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Produced&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">3499.46&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUoM&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-cookie-frosting-lot-119&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialSubLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;properties&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;viscosity&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;value&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;0.1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;valueUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;mm2/s&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;temperature&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;value&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;22&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;valueUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;C&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-butter-actual-119&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialUse&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Consumed&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">1124.05&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUoM&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-butter-lot-119&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialSubLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;properties&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;fat-percent&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;value&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;15&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;valueUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-confectioner-sugar-actual-119&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialUse&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Consumed&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">249.08&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUoM&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-confectioner-sugar-lot-119&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialSubLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;properties&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-peanut-butter-actual-119&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialUse&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Consumed&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">2249.63&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUoM&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-peanut-butter-lot-119&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialSubLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;properties&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;equipmentActual&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-kitchen-mixer-actual-119&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;description&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;children&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;properties&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-kitchen-actual-119&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;description&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;children&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;properties&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;personnelActual&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-supervisor-actual-119&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-handler-actual-119&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>&lt;/div>
&lt;/div>
&lt;h2>Build a reporting frontend&lt;span class="hx:absolute hx:-mt-20" id="build-a-reporting-frontend">&lt;/span>
&lt;a href="#build-a-reporting-frontend" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>
&lt;blockquote> 🎥Watch:&lt;/span>&lt;a href="https://www.youtube.com/watch?v=gOs3185ACao">Prototyping two example eBR frontends&lt;/a>&lt;/blockquote>
&lt;p>As a final step, you can also transform the JSON payload into a more human-readable presentation.
As always, you have a few options. Here are a few, from least to most interactive:&lt;/p>
&lt;ul>
&lt;li>Create a PDF report, perhaps using specialized software such as InfoBatch&lt;/li>
&lt;li>Create a static web report, using basic HTML and CSS&lt;/li>
&lt;li>Build an interactive report explorer, which may include links to other reports and dynamic visualizations of alerts and performance&lt;/li>
&lt;/ul>
&lt;h2>Next steps: combine with other use cases&lt;span class="hx:absolute hx:-mt-20" id="next-steps-combine-with-other-use-cases">&lt;/span>
&lt;a href="#next-steps-combine-with-other-use-cases" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>You can reuse and combine the queries here for other use cases that involve tracking and performance analysis.
For example, if you want a detailed report for the movement of material, you can combine the queries here with a query for a &lt;a href="https://docs.rhize.com/versions/v3.0.3/use-cases/genealogy/" >material lot genealogy&lt;/a>. This would provide a detailed report for every job that involved an ancestor or descendent of the queried material.&lt;/p></description></item><item><title>Electronic Batch Records</title><link>https://docs.rhize.com/versions/v3.1.0/use-cases/ebr/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.rhize.com/versions/v3.1.0/use-cases/ebr/</guid><description>
&lt;p>This document shows you how to use ISA-95 and Rhize to create a generic, reusable model for any use case that involves &lt;em>Electronic batch records&lt;/em>.
As long as you properly &lt;a href="https://docs.rhize.com/versions/v3.1.0/use-cases/data-collection-ebr/" >map and ingest&lt;/a> the source data,
the provided queries here should work for any operation, though you&amp;rsquo;ll need to tweak them to fit the particular structure of your job response and reporting requirements.&lt;/p>
&lt;p>An Electronic Batch Record (eBR) is a detailed report about a specific batch.
Generating eBRs is an important component of pharmaceutical manufacturing, whose high standards of compliance and complexity of inputs demand a great deal of detail in each report.&lt;/p>
&lt;p>Rhize can model events and resources at a high degree of granularity, and its ISA-95 schema creates built-in relationships between these entities.
So it makes an ideal backend to generate eBRs with great detail and context.
In a single query,
you can use Rhize to identify answers to questions such as:&lt;/p>
&lt;ul>
&lt;li>What material, equipment, and personnel were involved in this job? And what was their function in performance?&lt;/li>
&lt;li>When and where did this job happen? How long did it run for?&lt;/li>
&lt;li>Why was this work performed? That is, what is the order that initiated the work?&lt;/li>
&lt;li>What are the results of quality testing for this work?&lt;/li>
&lt;/ul>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-orange-100 hx:bg-orange-50 hx:text-orange-800 hx:dark:border-orange-400/30 hx:dark:bg-orange-400/20 hx:dark:text-orange-300">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">&amp;#x1f4dd;
The focus here is modeling and querying.
For a high-level overview of how eBR data may enter the Rhize data hub, read the guide to &lt;a href="https://docs.rhize.com/versions/v3.1.0/use-cases/data-collection-ebr/" >Data collection&lt;/a>.&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Quick query&lt;span class="hx:absolute hx:-mt-20" id="quick-query">&lt;/span>
&lt;a href="#quick-query" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>
&lt;blockquote> 🎥Watch:&lt;/span>&lt;a href="https://www.youtube.com/watch?v=oXG5f3O9xjU&amp;amp;t=0s">Full eBR in 1 query&lt;/a>&lt;/blockquote>
&lt;p>If you just want to build out a &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/gql/query/" >GraphQL query&lt;/a> for your reporting, use these templates to get started.&lt;/p>
&lt;p>If you know the IDs for the relevant job response, job order, and test results, you can structure each group as a top-level object.
If you want to input only one ID, you can also use nested fields on a response, order, or test specification to pull all necessary information.
The Rhize DB stores relationships, so the values are identical—only the structure of the response changes.&lt;/p>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">Flat&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Nested&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gql" data-lang="gql">&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">eBR&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">performance&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getJobResponse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;&amp;lt;JOB_ID&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># duration, actuals, and so on&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">planning&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getJobOrder&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;&amp;lt;ORDER_ID&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># requirements, work master, and so on&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">testing&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getTestResult&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;&amp;lt;TEST_ID&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># evaluation properties and tested objects&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-1"
role="tabpanel">&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gql" data-lang="gql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">nestedBatchReport&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">jobResponse&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getJobResponse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ds1d-batch-119-jr-fc-make-frosting&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">## more fields about performance&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialActual&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">## repeat for other resources as needed&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">testResults&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">## test results for material&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">## More material fields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">associated_order&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">jobOrder&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">## more planning fields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>For more detail, refer to the
&lt;a href="#example-query" >complete example query&lt;/a>.&lt;/p>
&lt;h2>Background: ISA-95 entities in an eBR query&lt;span class="hx:absolute hx:-mt-20" id="background-isa-95-entities-in-an-ebr-query">&lt;/span>
&lt;a href="#background-isa-95-entities-in-an-ebr-query" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-orange-100 hx:bg-orange-50 hx:text-orange-800 hx:dark:border-orange-400/30 hx:dark:bg-orange-400/20 hx:dark:text-orange-300">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">&amp;#x1f4dd; For an introduction to ISA-95 and its terminology,
read &lt;a href="https://docs.rhize.com/isa-95/how-to-speak-isa-95/" >How to speak ISA-95&lt;/a>.&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>The following lists detail the ISA-95 entities that you might need when querying the Rhize database for an eBR.
As always, your manufacturing needs and data-collection capabilities determine the exact data that is necessary.
It is likely that some of the following fields are irrelevant to your particular use case.&lt;/p>
&lt;h3>Performance information&lt;span class="hx:absolute hx:-mt-20" id="performance-information">&lt;/span>
&lt;a href="#performance-information" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>job response&lt;/em> represents a unit of performed work in a manufacturing operation.
The job response typically forms the core of an eBR query,
as you can query it to obtain duration and all &lt;abbr title="The specific resource used for a specific job. For example, an operations segment may require EquipmentA, but if this equipment is in maintainance at the time of a job, the Equipment actual might be its temporary replacement, EquipmentB">resource actual&lt;/abbr>s involved in the job.
A job response may also contain child job responses, as displayed in the following diagram:&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/s95/diagram-rhize-s95-job-response-with-children.svg" target="_blank">
&lt;img src="https://docs.rhize.com/images/s95/diagram-rhize-s95-job-response-with-children.svg" alt=""
>
&lt;/a>
&lt;figcaption class="caption">
An example of a job response with child job responses. The parent job has a material actual representing the final produced good. The child job responses also have their own properties that may be important to model. This is just one variation of many. &lt;strong>ISA-95 is flexible and the best model always depends on your use case&lt;/strong>.
&lt;/figcaption>
&lt;/figure>
&lt;p>For an eBR, some important job response properties and associations include the following:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Start and End times.&lt;/strong> When work started and how long it lasted.&lt;/li>
&lt;li>&lt;strong>Material Actuals.&lt;/strong> The quantities of material involved and how they are used: consumed, produced, tested, scrapped, and so on. Material actuals may also have associated lots for unique identification. Test results may be derived from samples of the material actual.&lt;/li>
&lt;li>&lt;strong>Equipment Actuals.&lt;/strong> The real equipment used in a job, along with associated equipment properties and testing results.&lt;/li>
&lt;li>&lt;strong>Personnel actuals.&lt;/strong> The people involved in a job or test.&lt;/li>
&lt;li>&lt;strong>Process values&lt;/strong>. Associated process data and calculations.&lt;/li>
&lt;li>&lt;strong>Comments and Signatures.&lt;/strong> Additional input from operators.&lt;/li>
&lt;/ul>
&lt;h3>Scheduling information&lt;span class="hx:absolute hx:-mt-20" id="scheduling-information">&lt;/span>
&lt;a href="#scheduling-information" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>An eBR report might also include information
about the work that was demanded.
The simplest relationship between performance and demand is the link between a job response and a &lt;em>job order&lt;/em>.
So your eBR might include information about the order that initiated the response.
Through this order, you could also include higher-level scheduling information.&lt;/p>
&lt;p>When adding order information, consider whether you need the following properties:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Scheduled start and end times.&lt;/strong> These might be compared to the real start and end.&lt;/li>
&lt;li>&lt;strong>Material requirements&lt;/strong>. The material that corresponds to the material actuals in the performance. Requirements may include:
&lt;ul>
&lt;li>Material to be produced, along with their scheduled quantities and units of measure&lt;/li>
&lt;/ul>
&lt;ul>
&lt;li>Material to be consumed, along with their scheduled quantities and units of measure&lt;/li>
&lt;li>Any by-product material and scrap&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Planned equipment&lt;/strong>. This can be compared to the real equipment used.&lt;/li>
&lt;li>&lt;strong>Work Directive&lt;/strong>. The dispatched version of the planned work. The directive may include:
&lt;ul>
&lt;li>Specifications or a BoM (if the requirements are not in the order itself)&lt;/li>
&lt;li>Any relevant work master configuration (routing, process parameters like temperature, durations, and so on)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3>Quality information&lt;span class="hx:absolute hx:-mt-20" id="quality-information">&lt;/span>
&lt;a href="#quality-information" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Your eBR trace also may record test results.
These results provide context about the quality of the work produced in the job response.&lt;/p>
&lt;p>Each &lt;abbr title="The specific resource used for a specific job. For example, an operations segment may require EquipmentA, but if this equipment is in maintainance at the time of a job, the Equipment actual might be its temporary replacement, EquipmentB">resource actual&lt;/abbr> can have a corresponding test result.
For example:&lt;/p>
&lt;ul>
&lt;li>The material actual and lot may record the sample.&lt;/li>
&lt;li>The equipment actual may record test locations.&lt;/li>
&lt;li>Physical asset actuals may record instruments used for the test.&lt;/li>
&lt;li>Personnel actuals may record who performed the test.&lt;/li>
&lt;/ul>
&lt;h2>Example query&lt;span class="hx:absolute hx:-mt-20" id="example-query">&lt;/span>
&lt;a href="#example-query" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The following snippet is an example of how to pull a full eBR from a single &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/gql/query/" >GraphQL query&lt;/a>.
Each top-level object has an &lt;a href="https://graphql.org/learn/queries/#aliases" target="_blank" rel="noopener">alias&lt;/a>, which serves as the key for the object in the JSON payload.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gql" data-lang="gql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">eBR&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">performance&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getJobResponse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ds1d-119-as&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># duration, actuals, and so on&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">planning&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getJobOrder&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ds1d-119-jo-119-3&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># requirements, work directive, and so on&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">testing&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getTestResult&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ds1d-119-tr-3&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># evaluation properties and tested objects&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">Full query&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Example response: performance eBR&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;p>&lt;strong>Variables&lt;/strong>&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getJobResponseId&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-119-jr-fc-make-frosting&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getJobOrderId&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-jo-119&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getTestResultId&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-tr-119&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;strong>Query&lt;/strong>&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gql" data-lang="gql">&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">eBR&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$getJobResponseId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nv">$getJobOrderId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nv">$getTestResultId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">String&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">performance&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getJobResponse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nv">$getJobResponseId&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">jobResponseId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">startDateTime&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">endDateTime&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">duration&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">jobState&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">workDirective&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialActual&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialUse&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantityUoM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialDefinition&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialDefinition&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialSubLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">properties&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">equipmentActual&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">equipment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">description&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">children&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">properties&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">value&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">valueUnitOfMeasure&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">personnelActual&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">planning&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getJobOrder&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nv">$getJobOrderId&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">orderId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">scheduledStartDateTime&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">scheduledEndDateTime&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialRequirements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantityUoM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">equipmentRequirements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">equipment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">workMaster&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">parameterSpecifications&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">description&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">testing&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getTestResult&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nv">$getTestResultId&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">resultsId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">evaluationDate&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">expiration&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">evaluationCriterionResult&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">equipmentActual&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialActual&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialUse&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">physicalAsset&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">equipmentActual&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-1"
role="tabpanel">&lt;p>The &lt;code>performance&lt;/code> section of this query may return data that looks something like this.
Note that every object does not necessarily have every requested field.
In this example, only some material actuals have additional properties.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;performance&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-119-jr-fc-make-frosting&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;startDateTime&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;2024-09-23T23:22:25Z&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;endDateTime&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;2024-09-23T23:38:04.783Z&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;duration&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">939.783&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialActual&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-cookie-frosting-actual-119&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialUse&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Produced&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">3499.46&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUoM&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-cookie-frosting-lot-119&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialSubLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;properties&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;viscosity&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;value&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;0.1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;valueUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;mm2/s&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;temperature&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;value&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;22&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;valueUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;C&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-butter-actual-119&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialUse&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Consumed&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">1124.05&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUoM&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-butter-lot-119&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialSubLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;properties&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;fat-percent&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;value&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;15&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;valueUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-confectioner-sugar-actual-119&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialUse&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Consumed&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">249.08&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUoM&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-confectioner-sugar-lot-119&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialSubLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;properties&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-peanut-butter-actual-119&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialUse&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Consumed&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">2249.63&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUoM&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-peanut-butter-lot-119&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialSubLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;properties&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;equipmentActual&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-kitchen-mixer-actual-119&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;description&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;children&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;properties&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-kitchen-actual-119&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;description&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;children&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;properties&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;personnelActual&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-supervisor-actual-119&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-handler-actual-119&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>&lt;/div>
&lt;/div>
&lt;h2>Build a reporting frontend&lt;span class="hx:absolute hx:-mt-20" id="build-a-reporting-frontend">&lt;/span>
&lt;a href="#build-a-reporting-frontend" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>
&lt;blockquote> 🎥Watch:&lt;/span>&lt;a href="https://www.youtube.com/watch?v=gOs3185ACao">Prototyping two example eBR frontends&lt;/a>&lt;/blockquote>
&lt;p>As a final step, you can also transform the JSON payload into a more human-readable presentation.
As always, you have a few options. Here are a few, from least to most interactive:&lt;/p>
&lt;ul>
&lt;li>Create a PDF report, perhaps using specialized software such as InfoBatch&lt;/li>
&lt;li>Create a static web report, using basic HTML and CSS&lt;/li>
&lt;li>Build an interactive report explorer, which may include links to other reports and dynamic visualizations of alerts and performance&lt;/li>
&lt;/ul>
&lt;h2>Next steps: combine with other use cases&lt;span class="hx:absolute hx:-mt-20" id="next-steps-combine-with-other-use-cases">&lt;/span>
&lt;a href="#next-steps-combine-with-other-use-cases" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>You can reuse and combine the queries here for other use cases that involve tracking and performance analysis.
For example, if you want a detailed report for the movement of material, you can combine the queries here with a query for a &lt;a href="https://docs.rhize.com/versions/v3.1.0/use-cases/genealogy/" >material lot genealogy&lt;/a>. This would provide a detailed report for every job that involved an ancestor or descendent of the queried material.&lt;/p></description></item><item><title>Electronic Batch Records</title><link>https://docs.rhize.com/versions/v3.2.0/use-cases/ebr/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.rhize.com/versions/v3.2.0/use-cases/ebr/</guid><description>
&lt;p>This document shows you how to use ISA-95 and Rhize to create a generic, reusable model for any use case that involves &lt;em>Electronic batch records&lt;/em>.
As long as you properly &lt;a href="https://docs.rhize.com/versions/v3.2.0/use-cases/data-collection-ebr/" >map and ingest&lt;/a> the source data,
the provided queries here should work for any operation, though you&amp;rsquo;ll need to tweak them to fit the particular structure of your job response and reporting requirements.&lt;/p>
&lt;p>An Electronic Batch Record (eBR) is a detailed report about a specific batch.
Generating eBRs is an important component of pharmaceutical manufacturing, whose high standards of compliance and complexity of inputs demand a great deal of detail in each report.&lt;/p>
&lt;p>Rhize can model events and resources at a high degree of granularity, and its ISA-95 schema creates built-in relationships between these entities.
So it makes an ideal backend to generate eBRs with great detail and context.
In a single query,
you can use Rhize to identify answers to questions such as:&lt;/p>
&lt;ul>
&lt;li>What material, equipment, and personnel were involved in this job? And what was their function in performance?&lt;/li>
&lt;li>When and where did this job happen? How long did it run for?&lt;/li>
&lt;li>Why was this work performed? That is, what is the order that initiated the work?&lt;/li>
&lt;li>What are the results of quality testing for this work?&lt;/li>
&lt;/ul>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-orange-100 hx:bg-orange-50 hx:text-orange-800 hx:dark:border-orange-400/30 hx:dark:bg-orange-400/20 hx:dark:text-orange-300">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">&amp;#x1f4dd;
The focus here is modeling and querying.
For a high-level overview of how eBR data may enter the Rhize data hub, read the guide to &lt;a href="https://docs.rhize.com/versions/v3.2.0/use-cases/data-collection-ebr/" >Data collection&lt;/a>.&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Quick query&lt;span class="hx:absolute hx:-mt-20" id="quick-query">&lt;/span>
&lt;a href="#quick-query" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>
&lt;blockquote> 🎥Watch:&lt;/span>&lt;a href="https://www.youtube.com/watch?v=oXG5f3O9xjU&amp;amp;t=0s">Full eBR in 1 query&lt;/a>&lt;/blockquote>
&lt;p>If you just want to build out a &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/gql/query/" >GraphQL query&lt;/a> for your reporting, use these templates to get started.&lt;/p>
&lt;p>If you know the IDs for the relevant job response, job order, and test results, you can structure each group as a top-level object.
If you want to input only one ID, you can also use nested fields on a response, order, or test specification to pull all necessary information.
The Rhize DB stores relationships, so the values are identical—only the structure of the response changes.&lt;/p>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">Flat&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Nested&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gql" data-lang="gql">&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">eBR&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">performance&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getJobResponse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;&amp;lt;JOB_ID&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># duration, actuals, and so on&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">planning&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getJobOrder&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;&amp;lt;ORDER_ID&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># requirements, work master, and so on&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">testing&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getTestResult&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;&amp;lt;TEST_ID&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># evaluation properties and tested objects&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-1"
role="tabpanel">&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gql" data-lang="gql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">nestedBatchReport&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">jobResponse&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getJobResponse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ds1d-batch-119-jr-fc-make-frosting&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">## more fields about performance&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialActual&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">## repeat for other resources as needed&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">testResults&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">## test results for material&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">## More material fields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">associated_order&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">jobOrder&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">## more planning fields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>For more detail, refer to the
&lt;a href="#example-query" >complete example query&lt;/a>.&lt;/p>
&lt;h2>Background: ISA-95 entities in an eBR query&lt;span class="hx:absolute hx:-mt-20" id="background-isa-95-entities-in-an-ebr-query">&lt;/span>
&lt;a href="#background-isa-95-entities-in-an-ebr-query" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-orange-100 hx:bg-orange-50 hx:text-orange-800 hx:dark:border-orange-400/30 hx:dark:bg-orange-400/20 hx:dark:text-orange-300">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">&amp;#x1f4dd; For an introduction to ISA-95 and its terminology,
read &lt;a href="https://docs.rhize.com/isa-95/how-to-speak-isa-95/" >How to speak ISA-95&lt;/a>.&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>The following lists detail the ISA-95 entities that you might need when querying the Rhize database for an eBR.
As always, your manufacturing needs and data-collection capabilities determine the exact data that is necessary.
It is likely that some of the following fields are irrelevant to your particular use case.&lt;/p>
&lt;h3>Performance information&lt;span class="hx:absolute hx:-mt-20" id="performance-information">&lt;/span>
&lt;a href="#performance-information" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>job response&lt;/em> represents a unit of performed work in a manufacturing operation.
The job response typically forms the core of an eBR query,
as you can query it to obtain duration and all &lt;abbr title="The specific resource used for a specific job. For example, an operations segment may require EquipmentA, but if this equipment is in maintainance at the time of a job, the Equipment actual might be its temporary replacement, EquipmentB">resource actual&lt;/abbr>s involved in the job.
A job response may also contain child job responses, as displayed in the following diagram:&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/s95/diagram-rhize-s95-job-response-with-children.svg" target="_blank">
&lt;img src="https://docs.rhize.com/images/s95/diagram-rhize-s95-job-response-with-children.svg" alt=""
>
&lt;/a>
&lt;figcaption class="caption">
An example of a job response with child job responses. The parent job has a material actual representing the final produced good. The child job responses also have their own properties that may be important to model. This is just one variation of many. &lt;strong>ISA-95 is flexible and the best model always depends on your use case&lt;/strong>.
&lt;/figcaption>
&lt;/figure>
&lt;p>For an eBR, some important job response properties and associations include the following:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Start and End times.&lt;/strong> When work started and how long it lasted.&lt;/li>
&lt;li>&lt;strong>Material Actuals.&lt;/strong> The quantities of material involved and how they are used: consumed, produced, tested, scrapped, and so on. Material actuals may also have associated lots for unique identification. Test results may be derived from samples of the material actual.&lt;/li>
&lt;li>&lt;strong>Equipment Actuals.&lt;/strong> The real equipment used in a job, along with associated equipment properties and testing results.&lt;/li>
&lt;li>&lt;strong>Personnel actuals.&lt;/strong> The people involved in a job or test.&lt;/li>
&lt;li>&lt;strong>Process values&lt;/strong>. Associated process data and calculations.&lt;/li>
&lt;li>&lt;strong>Comments and Signatures.&lt;/strong> Additional input from operators.&lt;/li>
&lt;/ul>
&lt;h3>Scheduling information&lt;span class="hx:absolute hx:-mt-20" id="scheduling-information">&lt;/span>
&lt;a href="#scheduling-information" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>An eBR report might also include information
about the work that was demanded.
The simplest relationship between performance and demand is the link between a job response and a &lt;em>job order&lt;/em>.
So your eBR might include information about the order that initiated the response.
Through this order, you could also include higher-level scheduling information.&lt;/p>
&lt;p>When adding order information, consider whether you need the following properties:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Scheduled start and end times.&lt;/strong> These might be compared to the real start and end.&lt;/li>
&lt;li>&lt;strong>Material requirements&lt;/strong>. The material that corresponds to the material actuals in the performance. Requirements may include:
&lt;ul>
&lt;li>Material to be produced, along with their scheduled quantities and units of measure&lt;/li>
&lt;/ul>
&lt;ul>
&lt;li>Material to be consumed, along with their scheduled quantities and units of measure&lt;/li>
&lt;li>Any by-product material and scrap&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Planned equipment&lt;/strong>. This can be compared to the real equipment used.&lt;/li>
&lt;li>&lt;strong>Work Directive&lt;/strong>. The dispatched version of the planned work. The directive may include:
&lt;ul>
&lt;li>Specifications or a BoM (if the requirements are not in the order itself)&lt;/li>
&lt;li>Any relevant work master configuration (routing, process parameters like temperature, durations, and so on)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3>Quality information&lt;span class="hx:absolute hx:-mt-20" id="quality-information">&lt;/span>
&lt;a href="#quality-information" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Your eBR trace also may record test results.
These results provide context about the quality of the work produced in the job response.&lt;/p>
&lt;p>Each &lt;abbr title="The specific resource used for a specific job. For example, an operations segment may require EquipmentA, but if this equipment is in maintainance at the time of a job, the Equipment actual might be its temporary replacement, EquipmentB">resource actual&lt;/abbr> can have a corresponding test result.
For example:&lt;/p>
&lt;ul>
&lt;li>The material actual and lot may record the sample.&lt;/li>
&lt;li>The equipment actual may record test locations.&lt;/li>
&lt;li>Physical asset actuals may record instruments used for the test.&lt;/li>
&lt;li>Personnel actuals may record who performed the test.&lt;/li>
&lt;/ul>
&lt;h2>Example query&lt;span class="hx:absolute hx:-mt-20" id="example-query">&lt;/span>
&lt;a href="#example-query" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The following snippet is an example of how to pull a full eBR from a single &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/gql/query/" >GraphQL query&lt;/a>.
Each top-level object has an &lt;a href="https://graphql.org/learn/queries/#aliases" target="_blank" rel="noopener">alias&lt;/a>, which serves as the key for the object in the JSON payload.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gql" data-lang="gql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">eBR&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">performance&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getJobResponse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ds1d-119-as&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># duration, actuals, and so on&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">planning&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getJobOrder&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ds1d-119-jo-119-3&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># requirements, work directive, and so on&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">testing&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getTestResult&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ds1d-119-tr-3&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># evaluation properties and tested objects&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">Full query&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Example response: performance eBR&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;p>&lt;strong>Variables&lt;/strong>&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getJobResponseId&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-119-jr-fc-make-frosting&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getJobOrderId&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-jo-119&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getTestResultId&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-tr-119&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;strong>Query&lt;/strong>&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gql" data-lang="gql">&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">eBR&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$getJobResponseId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nv">$getJobOrderId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nv">$getTestResultId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">String&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">performance&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getJobResponse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nv">$getJobResponseId&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">jobResponseId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">startDateTime&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">endDateTime&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">duration&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">jobState&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">workDirective&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialActual&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialUse&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantityUoM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialDefinition&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialDefinition&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialSubLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">properties&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">equipmentActual&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">equipment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">description&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">children&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">properties&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">value&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">valueUnitOfMeasure&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">personnelActual&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">planning&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getJobOrder&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nv">$getJobOrderId&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">orderId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">scheduledStartDateTime&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">scheduledEndDateTime&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialRequirements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantityUoM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">equipmentRequirements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">equipment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">workMaster&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">parameterSpecifications&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">description&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">testing&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">getTestResult&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nv">$getTestResultId&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">resultsId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">evaluationDate&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">expiration&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">evaluationCriterionResult&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">equipmentActual&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialActual&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialUse&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">physicalAsset&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">equipmentActual&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-1"
role="tabpanel">&lt;p>The &lt;code>performance&lt;/code> section of this query may return data that looks something like this.
Note that every object does not necessarily have every requested field.
In this example, only some material actuals have additional properties.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;performance&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-119-jr-fc-make-frosting&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;startDateTime&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;2024-09-23T23:22:25Z&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;endDateTime&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;2024-09-23T23:38:04.783Z&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;duration&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">939.783&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialActual&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-cookie-frosting-actual-119&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialUse&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Produced&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">3499.46&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUoM&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-cookie-frosting-lot-119&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialSubLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;properties&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;viscosity&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;value&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;0.1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;valueUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;mm2/s&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;temperature&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;value&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;22&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;valueUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;C&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-butter-actual-119&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialUse&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Consumed&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">1124.05&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUoM&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-butter-lot-119&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialSubLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;properties&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;fat-percent&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;value&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;15&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;valueUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-confectioner-sugar-actual-119&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialUse&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Consumed&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">249.08&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUoM&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-confectioner-sugar-lot-119&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialSubLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;properties&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-peanut-butter-actual-119&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialUse&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Consumed&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">2249.63&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUoM&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-peanut-butter-lot-119&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialSubLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;properties&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;equipmentActual&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-kitchen-mixer-actual-119&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;description&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;children&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;properties&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-kitchen-actual-119&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;description&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;children&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;properties&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;personnelActual&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-supervisor-actual-119&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ds1d-batch-fc-handler-actual-119&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>&lt;/div>
&lt;/div>
&lt;h2>Build a reporting frontend&lt;span class="hx:absolute hx:-mt-20" id="build-a-reporting-frontend">&lt;/span>
&lt;a href="#build-a-reporting-frontend" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>
&lt;blockquote> 🎥Watch:&lt;/span>&lt;a href="https://www.youtube.com/watch?v=gOs3185ACao">Prototyping two example eBR frontends&lt;/a>&lt;/blockquote>
&lt;p>As a final step, you can also transform the JSON payload into a more human-readable presentation.
As always, you have a few options. Here are a few, from least to most interactive:&lt;/p>
&lt;ul>
&lt;li>Create a PDF report, perhaps using specialized software such as InfoBatch&lt;/li>
&lt;li>Create a static web report, using basic HTML and CSS&lt;/li>
&lt;li>Build an interactive report explorer, which may include links to other reports and dynamic visualizations of alerts and performance&lt;/li>
&lt;/ul>
&lt;h2>Next steps: combine with other use cases&lt;span class="hx:absolute hx:-mt-20" id="next-steps-combine-with-other-use-cases">&lt;/span>
&lt;a href="#next-steps-combine-with-other-use-cases" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>You can reuse and combine the queries here for other use cases that involve tracking and performance analysis.
For example, if you want a detailed report for the movement of material, you can combine the queries here with a query for a &lt;a href="https://docs.rhize.com/versions/v3.2.0/use-cases/genealogy/" >material lot genealogy&lt;/a>. This would provide a detailed report for every job that involved an ancestor or descendent of the queried material.&lt;/p></description></item><item><title>Genealogy</title><link>https://docs.rhize.com/versions/v3.0.3/use-cases/genealogy/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.rhize.com/versions/v3.0.3/use-cases/genealogy/</guid><description>
&lt;p>This document provides a high-level overview of how to use Rhize for material genealogy.&lt;/p>
&lt;p>In manufacturing, a &lt;em>genealogy&lt;/em> is the record of what a material contains or what it is now a part of.
As its name implies, genealogy represents the family tree of the material.
A material genealogy can help manufacturers in multiple ways:&lt;/p>
&lt;ul>
&lt;li>Prevent product recalls by isolating deviations early in the material flow&lt;/li>
&lt;li>Decrease recall time by having a complete record of where material starts and ends&lt;/li>
&lt;li>Help build reports and analysis of material deviations&lt;/li>
&lt;li>Create documentation and compliance records for material tracking&lt;/li>
&lt;/ul>
&lt;p>Rhize provides a standards-based schema to represent material at all levels of granularity.
The graph structure of its DB has built-in properties to associate material lots with other information about planned and performed work.
This database has a GraphQL API, which can pull full genealogies from terse queries.
As such, Rhize makes an &lt;strong>ideal backend to use for genealogical use cases&lt;/strong>.&lt;/p>
&lt;script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js">&lt;/script>
&lt;div id=echart-000 style="width: 100%;height: 600px;">&lt;/div>
&lt;script type="text/javascript">
var chart = echarts.init(document.getElementById("echart-000"));
const option = {
title: {
subtext:
"Click solid squares to expand.\nHover for quantities and definitions",
fontSize: 13,
},
tooltip: [
{
z: 60,
show: true,
showContent: true,
alwaysShowContent: true,
formatter: function (params) {
return `&lt;b>Material definition&lt;/b>: ${params.data.definition}&lt;br />
&lt;b>ID&lt;/b>: ${params.data.name}&lt;br />
&lt;b>Value:&lt;/b> ${params.data.value}`;
},
},
],
initialTreeDepth: 3,
series: [
{
type: "tree",
left: "15%",
right: "30%",
top: "10%",
bottom: "2%",
symbol: "emptySquares",
orient: "RL",
expandAndCollapse: true,
lineStyle: {
color: "#006838",
},
label: {
position: "bottom",
rotate: 0,
verticalAlign: "middle",
align: "right",
fontSize: 11,
},
itemStyle: {
color: "#006838",
},
leaves: {
label: {
position: "bottom",
backgroundColor: "#FFFFFF",
rotate: 10,
verticalAlign: "middle",
align: "left",
fontSize: 13,
},
},
animationDurationUpdate: 650,
data: [],
},
],
};
(option.series[0].data[0] = {
name: "cookie-box-2f",
value: "1 cookie box",
definition: "cookie-box",
children: [
{
name: "cookie-unit-dh",
value: "1000 cookie unit",
definition: "cookie-unit",
children: [
{
name: "cookie-frosting-9Q",
value: "3500 g",
definition: "cookie-frosting",
children: [
{
name: "butter-67",
value: "1125 g",
definition: "butter",
},
{
name: "confectioner-sugar-yN",
value: "250 g",
definition: "confectioner-sugar",
},
{
name: "peanut-butter-Cq",
value: "2250 g",
definition: "peanut-butter",
},
],
},
{
name: "cookie-dough-Vr",
value: "15000 g",
definition: "cookie-dough",
children: [
{
name: "egg-gY",
value: "50 large-egg",
definition: "egg",
},
{
name: "flour-kO",
value: "7500 g",
definition: "flour",
},
{
name: "saZ3",
value: "150 g",
definition: "salt",
},
{
name: "sugar-32",
value: "2500 g",
definition: "sugar",
},
{
name: "vanilla-extract-px",
value: "10 g",
definition: "vanilla-extract",
},
],
},
],
},
{
name: "cookie-wrapper-NR",
value: "150 wrapper",
definition: "cookie-wrapper",
},
],
}),
(option.title.text = `Example frontend:\nreverse genealogy of ${option.series[0].data[0].name}`);
chart.setOption(option);
&lt;/script>
&lt;p>&lt;em>Data from a Rhize query in an Apache Echart. Read the &lt;a href="#frontend" >Build frontend&lt;/a> section for details.&lt;/em>&lt;/p>
&lt;h2>Quick query&lt;span class="hx:absolute hx:-mt-20" id="quick-query">&lt;/span>
&lt;a href="#quick-query" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>To get started with genealogy quickly, use these &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/gql/query/" >query&lt;/a> templates.
One template is for the reverse genealogy, and the other is for the forward genealogy.
For each, you need to input the Lot ID.&lt;/p>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">Reverse genealogy query&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Forward genealogy query&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gql" data-lang="gql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">reverseGenealogy&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getMaterialLot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;&amp;lt;LOT_ID&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">parent_lots&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">grandparent_lots&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">great_grandparent_lots&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-1"
role="tabpanel">&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gql" data-lang="gql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">forwardGenealogy&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getMaterialLot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;&amp;lt;LOT_ID&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">child_lots&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">grandchildren_lots&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">great_grandgrandchildren_lots&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>You can also modify the query to include more fields, levels, or get the forward and backward genealogy.
For an idea of how a more complete query would look, refer to the &lt;a href="#examples" >Examples&lt;/a> section.&lt;/p>
&lt;h2>Background: material entities in Rhize&lt;span class="hx:absolute hx:-mt-20" id="background-material-entities-in-rhize">&lt;/span>
&lt;a href="#background-material-entities-in-rhize" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-orange-100 hx:bg-orange-50 hx:text-orange-800 hx:dark:border-orange-400/30 hx:dark:bg-orange-400/20 hx:dark:text-orange-300">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">&amp;#x1f4dd; For a more complete introduction to ISA-95 and its terminology,
read &lt;a href="https://docs.rhize.com/versions/v3.0.3/isa-95/how-to-speak-isa-95/" >How to speak ISA-95&lt;/a>.&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>In ISA-95 terminology, the lineage of each material is expressed through the following entities:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Material lots.&lt;/strong> Unique amounts of identifiable material. For example, a material lot might be a camshaft in an engine or a package of sugar from a supplier.&lt;/li>
&lt;li>&lt;strong>Material Sublots.&lt;/strong> Uniquely identifiable parts of a material lot. For example, if a box of consumer-packaged goods represents a material lot, the individual serial numbers of the packages within might be the material sublots. Each sublot is unique, but multiple sublots may share properties from their parent material lot (for example, the expiry date).&lt;/li>
&lt;/ul>
&lt;p>The relationship between lots are expressed through the following properties :&lt;/p>
&lt;ul>
&lt;li>&lt;code>isAssembledFromMaterial[Sub]lot&lt;/code> and &lt;code>isComponentOf[Sub]lot&lt;/code>. The material lots or sublots that went into another material.&lt;/li>
&lt;li>&lt;code>parentMaterialLot&lt;/code> and &lt;code>childSubLot&lt;/code>. The relationships between a material lot and its sublots.&lt;/li>
&lt;/ul>
&lt;p>Note that these properties are symmetrical. If lot &lt;code>final-1&lt;/code> has the property &lt;code>{isAssembledFromMaterialLot: &amp;quot;intermediate-1&amp;quot;&lt;/code>},
then lot &lt;code>intermediate-1&lt;/code> has the property &lt;code>{isComponentOfMaterialLot: &amp;quot;final-1&amp;quot; }&lt;/code>.
The graph structure of the RhizeDB creates these links automatically.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">The distinction between sublots and material lots varies with processes.
The rest of this document simplifies terminology by using only the word &amp;ldquo;lots&amp;rdquo;.&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Steps to use Rhize for genealogy&lt;span class="hx:absolute hx:-mt-20" id="steps-to-use-rhize-for-genealogy">&lt;/span>
&lt;a href="#steps-to-use-rhize-for-genealogy" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The following sections describe how to use Rhize to build a genealogy use case.
In short:&lt;/p>
&lt;ol>
&lt;li>Identify the unique lots in your material flows.&lt;/li>
&lt;li>Add these lots to your model.&lt;/li>
&lt;li>Implement how to collect these lots.&lt;/li>
&lt;li>Query the database.&lt;/li>
&lt;/ol>
&lt;p>The example uses a simple baking process to demonstrate the material flow.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/genealogy/diagram-rhize-genealogy-of-a-batch.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/genealogy/diagram-rhize-genealogy-of-a-batch.png" alt="A simplified view of how a pallet of packaged goods is assembled from lots and sublots."
width="30%"
>
&lt;/a>
&lt;figcaption class="caption">
A simplified view of how a pallet of packaged goods is assembled from lots and sublots.
&lt;/figcaption>
&lt;/figure>
&lt;h3>Identify lots to collect&lt;span class="hx:absolute hx:-mt-20" id="identify-lots-to-collect">&lt;/span>
&lt;a href="#identify-lots-to-collect" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>To use Rhize for genealogy, first identify the material lots that you want to identify.
How you identify these depends on your processes and material flows.
The following guidelines generally are true:&lt;/p>
&lt;ul>
&lt;li>The lot must be uniquely identifiable.&lt;/li>
&lt;li>The level of granularity of the lots is realistic for your current processes.&lt;/li>
&lt;/ul>
&lt;p>For example, in a small baking operation, lots might come from the following areas:&lt;/p>
&lt;ul>
&lt;li>The serial numbers of ingredients from suppliers&lt;/li>
&lt;li>The batches of baked pastries&lt;/li>
&lt;li>The wrappers consumed by the packing process&lt;/li>
&lt;li>The pallets of packed goods (with individual packages being material sublots).&lt;/li>
&lt;/ul>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">For some best practices of how to model, read our blog &lt;a href="https://rhize.com/blog/how-much-do-i-need-to-model-when-applying-the-isa-95-standard/" target="_blank" rel="noopener">How much do I need to model?&lt;/a>&lt;/div>
&lt;/div>
&lt;/div>
&lt;h3>Model these lots into your knowledge graph&lt;span class="hx:absolute hx:-mt-20" id="model-these-lots-into-your-knowledge-graph">&lt;/span>
&lt;a href="#model-these-lots-into-your-knowledge-graph" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>After you have identified the material lots, model how the data fits with the other components of your manufacturing knowledge graph.
At minimum, your material lots must have a &lt;abbr title="A representation of material with similar charecteristics. All material lots must have one associated material definition.">material definition&lt;/abbr> with an active version.&lt;/p>
&lt;p>Beyond these requirements, the graph structure of the ISA-95 database provides many ways to create links between lots and other manufacturing entities, including:&lt;/p>
&lt;ul>
&lt;li>A work request or job response&lt;/li>
&lt;li>The associated &lt;abbr title="The specific resource used for a specific job. For example, an operations segment may require EquipmentA, but if this equipment is in maintainance at the time of a job, the Equipment actual might be its temporary replacement, EquipmentB">resource actual&lt;/abbr>&lt;/li>
&lt;li>In aggregations such as part of a material class, or part of the material specifications in a &lt;abbr title="A template for a job order, corresponding to an operations and process segment, from the perspective of the level-3 (MES/MOM) systems.">work master&lt;/abbr>.&lt;/li>
&lt;/ul>
&lt;p>In the aforementioned baking process, the lots may have:&lt;/p>
&lt;ul>
&lt;li>Material classes (raw, intermediate, and final)&lt;/li>
&lt;li>Associated equipment (such as &lt;code>mixers&lt;/code>, &lt;code>ovens&lt;/code>, and &lt;code>trays&lt;/code>)&lt;/li>
&lt;li>Associated segments (such as &lt;code>mixing&lt;/code> or &lt;code>cooling&lt;/code>)&lt;/li>
&lt;li>Associated measurements and properties&lt;/li>
&lt;/ul>
&lt;h3>Implement how to store your lots in the RhizeDB&lt;span class="hx:absolute hx:-mt-20" id="implement-how-to-store-your-lots-in-the-rhizedb">&lt;/span>
&lt;a href="#implement-how-to-store-your-lots-in-the-rhizedb" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>After you have planned the process and defined your models, next implement how to add material lot IDs to Rhize in the course of your real manufacturing operation.&lt;/p>
&lt;p>Your manufacturing process determines where lot IDs are created.
The broad patterns are as follows:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Scheduled.&lt;/strong> Assign lots at the time of creating the work request or schedule (while the job response might create a material actual that maps to the requested lot ID).&lt;/li>
&lt;li>&lt;strong>Scheduled and event-driven.&lt;/strong> Generate lot IDs beforehand, and then use a GraphQL call to create records in the Rhize DB after some event. Example events might be a button press or an automated signal that indicates the lot has been physically created.&lt;/li>
&lt;li>&lt;strong>Event-driven.&lt;/strong> Assign lot IDs at the exact time of work performance. For example, you can write a &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/" >BPMN workflow&lt;/a> to subscribe to a topic that receives information about lots and automatically forwards the IDs to your knowledge graph.&lt;/li>
&lt;/ul>
&lt;p>In the example baking process, lots may be collected in the following ways:&lt;/p>
&lt;ul>
&lt;li>Scanned from supplier bar code&lt;/li>
&lt;li>Generated after the quality inspector indicates that a tray is finished&lt;/li>
&lt;li>Planned in terms of final package number and expiration date&lt;/li>
&lt;/ul>
&lt;h3>Query the data&lt;span class="hx:absolute hx:-mt-20" id="query-the-data">&lt;/span>
&lt;a href="#query-the-data" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>After you start collecting data, you can also start querying it through the &lt;code>materialLot&lt;/code> query operations.
The following section provides example genealogy queries.&lt;/p>
&lt;h2>Examples&lt;span class="hx:absolute hx:-mt-20" id="examples">&lt;/span>
&lt;a href="#examples" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The following examples show how to query for forward and backward genealogies using the &lt;a href="https://docs.rhize.com/how-to/gql/query/#get" target="_blank" rel="noopener">&lt;code>get&lt;/code>&lt;/a> operation to query material lots.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">You could also query for multiple genealogies—either through material lots or through aggregations such as material definitions and specifications— then apply &lt;a href="https://docs.rhize.com/how-to/gql/filter/" target="_blank" rel="noopener">filters&lt;/a>.&lt;/div>
&lt;/div>
&lt;/div>
&lt;h3>Backward genealogy&lt;span class="hx:absolute hx:-mt-20" id="backward-genealogy">&lt;/span>
&lt;a href="#backward-genealogy" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A backward genealogy examines all material lots that make the assembly of some later material lot.&lt;/p>
&lt;p>In Rhize, you can query this relationship through the &lt;code>isAssembledFromMaterialLot&lt;/code> property,
using nesting to indicate the level of material ancestry to return.
For example, this returns four levels of backward genealogy for the material lot
&lt;code>cookie-box-2f&lt;/code> (using a &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/gql/call-the-graphql-api/#shortcuts-for-more-expressive-requests" >fragment&lt;/a> to standardize the properties returned for each lot).&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gql" data-lang="gql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">getMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s">&amp;#34;cookie-box-2f&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">...&lt;/span>&lt;span class="nc">lotFields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">...&lt;/span>&lt;span class="py">lotFields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">...&lt;/span>&lt;span class="py">lotFields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">...&lt;/span>&lt;span class="py">lotFields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">## Common fields for all nested material&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">fragment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">lotFields&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">on&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="py">MaterialLot&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantityUnitOfMeasure&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialDefinition&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>The returned genealogy looks something like the following:&lt;/p>
&lt;details class="hx:last-of-type:mb-0 hx:rounded-lg hx:bg-neutral-50 hx:dark:bg-neutral-800 hx:p-2 hx:mt-4 hx:group" >
&lt;summary class="hx:flex hx:items-center hx:cursor-pointer hx:select-none hx:list-none hx:p-1 hx:rounded-sm hx:transition-colors hx:hover:bg-gray-100 hx:dark:hover:bg-neutral-800 hx:before:mr-1 hx:before:inline-block hx:before:transition-transform hx:before:content-[''] hx:dark:before:invert hx:rtl:before:rotate-180 hx:group-open:before:rotate-90">
&lt;strong class="hx:text-lg">example-backward-genealogy.json&lt;/strong>
&lt;/summary>
&lt;div class="hx:p-2 hx:overflow-hidden">
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-box-2f&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie box&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-box&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isAssembledFromMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-unit-dh&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie unit&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-unit&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isAssembledFromMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-frosting-9Q&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">3500&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-frosting&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isAssembledFromMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;butter-67&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1125&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;butter&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;confectioner-sugar-yN&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">250&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;confectioner-sugar&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;peanut-butter-Cq&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">2250&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;peanut-butter&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-dough-Vr&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">15000&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-dough&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isAssembledFromMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;egg-gY&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">50&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;large-egg&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;egg&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;flour-kO&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">7500&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;flour&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;saZ3&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">150&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;salt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;sugar-32&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">2500&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;sugar&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;vanilla-extract-px&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;vanilla-extract&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-wrapper-NR&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">150&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;wrapper&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-wrapper&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isAssembledFromMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/details>
&lt;h4>Forward genealogy&lt;span class="hx:absolute hx:-mt-20" id="forward-genealogy">&lt;/span>
&lt;a href="#forward-genealogy" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>A forward genealogy examines the history of how one lot becomes a component of another.
For example, if a supplier informs a manufacturer about an issue with a specific raw material,
the manufacturer can run a forward genealogy that looks at the downstream material that consumed these bad lots.&lt;/p>
&lt;p>In Rhize, you can query the forward genealogy through the &lt;code>isComponentOfMaterialLot&lt;/code> property,
using nesting to indicate the number of levels of forward generations.
For example, this query returns the full chain of material that contains (or contains material that contains)
the material sublot &lt;code>peanut-butter-Cq&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gql" data-lang="gql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">GetMaterialLot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$getMaterialLotId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">String&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getMaterialLot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;peanut-butter-Cq&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">isComponentOfMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">isComponentOfMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">isComponentOfMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>This query returns data in the following structure:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;peanut-butter-Cq&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isComponentOfMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-frosting-9Q&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isComponentOfMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-unit-dh&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isComponentOfMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-box-2f&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>Next steps: display and analyze&lt;span class="hx:absolute hx:-mt-20" id="next-steps-display-and-analyze">&lt;/span>
&lt;a href="#next-steps-display-and-analyze" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The preceding steps are all you need to create a data foundation to use Rhize for genealogy.
After you&amp;rsquo;ve started collecting data, you can use the genealogy queries to build frontends and isolate entities for more detailed tracing and performance analysis.&lt;/p>
&lt;h3>Build frontends&lt;span class="hx:absolute hx:-mt-20" id="frontend">&lt;/span>
&lt;a href="#frontend" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>All data that you store in the Rhize DB is exposed through the GraphQL API.
This provides a flexible way to create custom frontends to organize your genealogical analysis in the presentation that makes sense for your use case.
For example, you might represent the genealogy in any of the following ways:&lt;/p>
&lt;ul>
&lt;li>In a summary report, providing a brief list of the material and all impacted upstream or downstream lots&lt;/li>
&lt;li>As an interactive list, which you can expand to view a lot&amp;rsquo;s associated quantities, job order, personnel and so on&lt;/li>
&lt;li>As the input for a secondary query&lt;/li>
&lt;li>In a display using some data visualization library&lt;/li>
&lt;/ul>
&lt;p>For a visual example, the interactive chart in the introduction takes the data from the preceding reverse-genealogy query,
transforms it with a &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/use-jsonata/" >JSONata expression&lt;/a>, and visualizes the relationship using
&lt;a href="https://echarts.apache.org/" target="_blank" rel="noopener">Apache echarts&lt;/a>.&lt;/p>
&lt;p>The JSONata expression accepts an array of material lots,
then recursively renames all IDs and &lt;code>isAssembledFrom&lt;/code> properties to &lt;code>name&lt;/code> and &lt;code>children&lt;/code>, the data structure expected by the visualization.
Additional properties remain to provide context in the chart&amp;rsquo;s tooltips.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-golang" data-lang="golang">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">$&lt;/span>&lt;span class="nx">makeParent&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">$&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">$&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;value&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">quantity&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="s">&amp;#34; &amp;#34;&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="nx">quantityUnitOfMeasure&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;definition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">materialDefinition&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;children&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nf">makeParent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isAssembledFromMaterialLot&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">$&lt;/span>&lt;span class="nf">makeParent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">$&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getMaterialLot&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>We&amp;rsquo;ve also embedded Echarts in Grafana workspaces to make interactive dashboards for forward and reverse genealogies:&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/genealogy/screenshot-rhize-genealogy-grafana.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/genealogy/screenshot-rhize-genealogy-grafana.png" alt="An interactive genealogy dashboard. Filter by material definition, then select specific material lots."
width="90%"
>
&lt;/a>
&lt;figcaption class="caption">
An interactive genealogy dashboard. Filter by material definition, then select specific material lots.
&lt;/figcaption>
&lt;/figure>
&lt;h3>Combine with granular tracing and performance analysis&lt;span class="hx:absolute hx:-mt-20" id="combine-with-granular-tracing-and-performance-analysis">&lt;/span>
&lt;a href="#combine-with-granular-tracing-and-performance-analysis" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>While a genealogy is an effective tool on its own, the usefulness of the Rhize data hub compounds with each use case.
So genealogy implementations are most effective if you can combine them with the other data stored in your manufacturing knowledge graph.&lt;/p>
&lt;p>For example, the genealogical record may provide the input for more granular &lt;em>track and trace&lt;/em> , in which you use the Lot IDs to determine track material movement across equipment and storage, associated personnel, and so on.&lt;/p>
&lt;p>You could also combine genealogy with performance analysis, using the genealogical record as the starting point to analyze and predict failures and deviations.&lt;/p></description></item><item><title>Genealogy</title><link>https://docs.rhize.com/versions/v3.1.0/use-cases/genealogy/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.rhize.com/versions/v3.1.0/use-cases/genealogy/</guid><description>
&lt;p>This document provides a high-level overview of how to use Rhize for material genealogy.&lt;/p>
&lt;p>In manufacturing, a &lt;em>genealogy&lt;/em> is the record of what a material contains or what it is now a part of.
As its name implies, genealogy represents the family tree of material.
A material genealogy helps manufacturers in multiple ways:&lt;/p>
&lt;ul>
&lt;li>Prevent product recalls by isolating deviations early in material flow&lt;/li>
&lt;li>Decrease recall time by maintaining a complete record of where material starts and ends&lt;/li>
&lt;li>Build reports and analysis of material deviations&lt;/li>
&lt;li>Create documentation and compliance records for material tracking&lt;/li>
&lt;/ul>
&lt;p>Rhize provides a standards-based schema to represent material at all levels of granularity.
The graph structure of its DB has built-in properties to associate material lots with other information about planned and performed work.
This database has a GraphQL API that can pull full genealogies from terse queries.
Rhize makes an &lt;strong>ideal backend for genealogical use cases&lt;/strong>.&lt;/p>
&lt;script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js">&lt;/script>
&lt;div id=echart-000 style="width: 100%;height: 600px;">&lt;/div>
&lt;script type="text/javascript">
var chart = echarts.init(document.getElementById("echart-000"));
const option = {
title: {
subtext:
"Click solid squares to expand.\nHover for quantities and definitions",
fontSize: 13,
},
tooltip: [
{
z: 60,
show: true,
showContent: true,
alwaysShowContent: true,
formatter: function (params) {
return `&lt;b>Material definition&lt;/b>: ${params.data.definition}&lt;br />
&lt;b>ID&lt;/b>: ${params.data.name}&lt;br />
&lt;b>Value:&lt;/b> ${params.data.value}`;
},
},
],
initialTreeDepth: 3,
series: [
{
type: "tree",
left: "15%",
right: "30%",
top: "10%",
bottom: "2%",
symbol: "emptySquares",
orient: "RL",
expandAndCollapse: true,
lineStyle: {
color: "#006838",
},
label: {
position: "bottom",
rotate: 0,
verticalAlign: "middle",
align: "right",
fontSize: 11,
},
itemStyle: {
color: "#006838",
},
leaves: {
label: {
position: "bottom",
backgroundColor: "#FFFFFF",
rotate: 10,
verticalAlign: "middle",
align: "left",
fontSize: 13,
},
},
animationDurationUpdate: 650,
data: [],
},
],
};
(option.series[0].data[0] = {
name: "cookie-box-2f",
value: "1 cookie box",
definition: "cookie-box",
children: [
{
name: "cookie-unit-dh",
value: "1000 cookie unit",
definition: "cookie-unit",
children: [
{
name: "cookie-frosting-9Q",
value: "3500 g",
definition: "cookie-frosting",
children: [
{
name: "butter-67",
value: "1125 g",
definition: "butter",
},
{
name: "confectioner-sugar-yN",
value: "250 g",
definition: "confectioner-sugar",
},
{
name: "peanut-butter-Cq",
value: "2250 g",
definition: "peanut-butter",
},
],
},
{
name: "cookie-dough-Vr",
value: "15000 g",
definition: "cookie-dough",
children: [
{
name: "egg-gY",
value: "50 large-egg",
definition: "egg",
},
{
name: "flour-kO",
value: "7500 g",
definition: "flour",
},
{
name: "saZ3",
value: "150 g",
definition: "salt",
},
{
name: "sugar-32",
value: "2500 g",
definition: "sugar",
},
{
name: "vanilla-extract-px",
value: "10 g",
definition: "vanilla-extract",
},
],
},
],
},
{
name: "cookie-wrapper-NR",
value: "150 wrapper",
definition: "cookie-wrapper",
},
],
}),
(option.title.text = `Example frontend:\nreverse genealogy of ${option.series[0].data[0].name}`);
chart.setOption(option);
&lt;/script>
&lt;p>&lt;em>Data from a Rhize query in an Apache Echart. Read the &lt;a href="#frontend" >Build frontend&lt;/a> section for details.&lt;/em>&lt;/p>
&lt;h2>Quick query&lt;span class="hx:absolute hx:-mt-20" id="quick-query">&lt;/span>
&lt;a href="#quick-query" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>To get started with genealogy quickly, use these &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/gql/query/" >query&lt;/a> templates.
One template is for the reverse genealogy, and the other is for the forward genealogy.
For each, you need to input the Lot ID.&lt;/p>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">Reverse genealogy query&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Forward genealogy query&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gql" data-lang="gql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">reverseGenealogy&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getMaterialLot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;&amp;lt;LOT_ID&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">parent_lots&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">grandparent_lots&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">great_grandparent_lots&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-1"
role="tabpanel">&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gql" data-lang="gql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">forwardGenealogy&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getMaterialLot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;&amp;lt;LOT_ID&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">child_lots&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">grandchildren_lots&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">great_grandgrandchildren_lots&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>You can modify the query to include more fields, levels, or get the forward and backward genealogy.
For an idea of how a more complete query would look, refer to the &lt;a href="#examples" >Examples&lt;/a> section.&lt;/p>
&lt;h2>Background: material entities in Rhize&lt;span class="hx:absolute hx:-mt-20" id="background-material-entities-in-rhize">&lt;/span>
&lt;a href="#background-material-entities-in-rhize" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-orange-100 hx:bg-orange-50 hx:text-orange-800 hx:dark:border-orange-400/30 hx:dark:bg-orange-400/20 hx:dark:text-orange-300">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">&amp;#x1f4dd; For a more complete introduction to ISA-95 and its terminology,
read &lt;a href="https://docs.rhize.com/versions/v3.1.0/isa-95/how-to-speak-isa-95/" >How to speak ISA-95&lt;/a>.&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>In ISA-95 terminology, the lineage of each material is expressed through the following entities:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Material lots.&lt;/strong> Unique amounts of identifiable material. For example, a material lot might be a camshaft in an engine or a package of sugar from a supplier.&lt;/li>
&lt;li>&lt;strong>Material Sublots.&lt;/strong> Uniquely identifiable parts of a material lot. For example, if a box of consumer-packaged goods represents a material lot, the individual serial numbers of the packages within might be the material sublots. Each sublot is unique, but multiple sublots may share properties from their parent material lot (for example, the expiry date).&lt;/li>
&lt;/ul>
&lt;p>The relationship between lots is expressed through the following properties:&lt;/p>
&lt;ul>
&lt;li>&lt;code>isAssembledFromMaterial[Sub]lot&lt;/code> and &lt;code>isComponentOf[Sub]lot&lt;/code>. The material lots or sublots that went into another material.&lt;/li>
&lt;li>&lt;code>parentMaterialLot&lt;/code> and &lt;code>childSubLot&lt;/code>. The relationships between a material lot and its sublots.&lt;/li>
&lt;/ul>
&lt;p>Note that these properties are symmetrical. If lot &lt;code>final-1&lt;/code> has the property &lt;code>{isAssembledFromMaterialLot: &amp;quot;intermediate-1&amp;quot;&lt;/code>},
then lot &lt;code>intermediate-1&lt;/code> has the property &lt;code>{isComponentOfMaterialLot: &amp;quot;final-1&amp;quot; }&lt;/code>.
The graph structure of the RhizeDB creates these links automatically.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">The distinction between sublots and material lots varies with processes.
The rest of this document simplifies terminology by using only the word &amp;ldquo;lots&amp;rdquo;.&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Steps to use Rhize for genealogy&lt;span class="hx:absolute hx:-mt-20" id="steps-to-use-rhize-for-genealogy">&lt;/span>
&lt;a href="#steps-to-use-rhize-for-genealogy" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The following sections describe how to use Rhize to build a genealogy use case.
In short:&lt;/p>
&lt;ol>
&lt;li>Identify the unique lots in your material flows.&lt;/li>
&lt;li>Add these lots to your model.&lt;/li>
&lt;li>Implement how to collect these lots.&lt;/li>
&lt;li>Query the database.&lt;/li>
&lt;/ol>
&lt;p>The example uses a simple baking process to demonstrate the material flow.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/genealogy/diagram-rhize-genealogy-of-a-batch.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/genealogy/diagram-rhize-genealogy-of-a-batch.png" alt="A simplified view of how a pallet of packaged goods is assembled from lots and sublots."
width="30%"
>
&lt;/a>
&lt;figcaption class="caption">
A simplified view of how a pallet of packaged goods is assembled from lots and sublots.
&lt;/figcaption>
&lt;/figure>
&lt;h3>Identify lots to collect&lt;span class="hx:absolute hx:-mt-20" id="identify-lots-to-collect">&lt;/span>
&lt;a href="#identify-lots-to-collect" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>To use Rhize for genealogy, first identify the material lots that you want to identify.
How you identify these depends on your processes and material flows.
The following guidelines generally are true:&lt;/p>
&lt;ul>
&lt;li>The lot must be uniquely identifiable.&lt;/li>
&lt;li>The level of granularity of the lots is realistic for your current processes.&lt;/li>
&lt;/ul>
&lt;p>For example, in a small baking operation, lots might come from the following areas:&lt;/p>
&lt;ul>
&lt;li>The serial numbers of ingredients from suppliers&lt;/li>
&lt;li>The batches of baked pastries&lt;/li>
&lt;li>The wrappers consumed by the packing process&lt;/li>
&lt;li>The pallets of packed goods (with individual packages being material sublots).&lt;/li>
&lt;/ul>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">For some best practices of how to model, read our blog &lt;a href="https://rhize.com/blog/how-much-do-i-need-to-model-when-applying-the-isa-95-standard/" target="_blank" rel="noopener">How much do I need to model?&lt;/a>&lt;/div>
&lt;/div>
&lt;/div>
&lt;h3>Model these lots into your knowledge graph&lt;span class="hx:absolute hx:-mt-20" id="model-these-lots-into-your-knowledge-graph">&lt;/span>
&lt;a href="#model-these-lots-into-your-knowledge-graph" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>After you have identified the material lots, model how the data fits with the other components of your manufacturing knowledge graph.
At minimum, your material lots must have a &lt;abbr title="A representation of material with similar charecteristics. All material lots must have one associated material definition.">material definition&lt;/abbr> with an active version.&lt;/p>
&lt;p>Beyond these requirements, the graph structure of the ISA-95 database provides many ways to create links between lots and other manufacturing entities, including:&lt;/p>
&lt;ul>
&lt;li>A work request or job response&lt;/li>
&lt;li>The associated &lt;abbr title="The specific resource used for a specific job. For example, an operations segment may require EquipmentA, but if this equipment is in maintainance at the time of a job, the Equipment actual might be its temporary replacement, EquipmentB">resource actual&lt;/abbr>&lt;/li>
&lt;li>In aggregations such as part of a material class, or part of the material specifications in a &lt;abbr title="A template for a job order, corresponding to an operations and process segment, from the perspective of the level-3 (MES/MOM) systems.">work master&lt;/abbr>.&lt;/li>
&lt;/ul>
&lt;p>In the aforementioned baking process, the lots may have:&lt;/p>
&lt;ul>
&lt;li>Material classes (raw, intermediate, and final)&lt;/li>
&lt;li>Associated equipment (such as &lt;code>mixers&lt;/code>, &lt;code>ovens&lt;/code>, and &lt;code>trays&lt;/code>)&lt;/li>
&lt;li>Associated segments (such as &lt;code>mixing&lt;/code> or &lt;code>cooling&lt;/code>)&lt;/li>
&lt;li>Associated measurements and properties&lt;/li>
&lt;/ul>
&lt;h3>Implement how to store your lots in the RhizeDB&lt;span class="hx:absolute hx:-mt-20" id="implement-how-to-store-your-lots-in-the-rhizedb">&lt;/span>
&lt;a href="#implement-how-to-store-your-lots-in-the-rhizedb" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>After you have planned the process and defined your models, next implement how to add material lot IDs to Rhize in the course of your real manufacturing operation.&lt;/p>
&lt;p>Your manufacturing process determines where lot IDs are created.
The broad patterns are as follows:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Scheduled.&lt;/strong> Assign lots at the time of creating the work request or schedule (while the job response might create a material actual that maps to the requested lot ID).&lt;/li>
&lt;li>&lt;strong>Scheduled and event-driven.&lt;/strong> Generate lot IDs beforehand, and then use a GraphQL call to create records in the Rhize DB after some event. Example events might be a button press or an automated signal that indicates the lot has been physically created.&lt;/li>
&lt;li>&lt;strong>Event-driven.&lt;/strong> Assign lot IDs at the exact time of work performance. For example, you can write a &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/" >BPMN workflow&lt;/a> to subscribe to a topic that receives information about lots and automatically forwards the IDs to your knowledge graph.&lt;/li>
&lt;/ul>
&lt;p>In the example baking process, lots may be collected in the following ways:&lt;/p>
&lt;ul>
&lt;li>Scanned from supplier bar code&lt;/li>
&lt;li>Generated after the quality inspector indicates that a tray is finished&lt;/li>
&lt;li>Planned in terms of final package number and expiration date&lt;/li>
&lt;/ul>
&lt;h3>Query the data&lt;span class="hx:absolute hx:-mt-20" id="query-the-data">&lt;/span>
&lt;a href="#query-the-data" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>After you start collecting data, you can also start querying it through the &lt;code>materialLot&lt;/code> query operations.
The following section provides example genealogy queries.&lt;/p>
&lt;h2>Examples&lt;span class="hx:absolute hx:-mt-20" id="examples">&lt;/span>
&lt;a href="#examples" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The following examples show how to query for forward and backward genealogies using the &lt;a href="https://docs.rhize.com/how-to/gql/query/#get" target="_blank" rel="noopener">&lt;code>get&lt;/code>&lt;/a> operation to query material lots.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">You could also query for multiple genealogies—either through material lots or through aggregations such as material definitions and specifications— then apply &lt;a href="https://docs.rhize.com/how-to/gql/filter/" target="_blank" rel="noopener">filters&lt;/a>.&lt;/div>
&lt;/div>
&lt;/div>
&lt;h3>Backward genealogy&lt;span class="hx:absolute hx:-mt-20" id="backward-genealogy">&lt;/span>
&lt;a href="#backward-genealogy" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A backward genealogy examines all material lots that make the assembly of some later material lot.&lt;/p>
&lt;p>In Rhize, you can query this relationship through the &lt;code>isAssembledFromMaterialLot&lt;/code> property,
using nesting to indicate the level of material ancestry to return.
For example, this returns four levels of backward genealogy for the material lot
&lt;code>cookie-box-2f&lt;/code> (using a &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/gql/call-the-graphql-api/#shortcuts-for-more-expressive-requests" >fragment&lt;/a> to standardize the properties returned for each lot).&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gql" data-lang="gql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">getMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s">&amp;#34;cookie-box-2f&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">...&lt;/span>&lt;span class="nc">lotFields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">...&lt;/span>&lt;span class="py">lotFields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">...&lt;/span>&lt;span class="py">lotFields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">...&lt;/span>&lt;span class="py">lotFields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">## Common fields for all nested material&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">fragment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">lotFields&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">on&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="py">MaterialLot&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantityUnitOfMeasure&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialDefinition&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>The returned genealogy looks something like the following:&lt;/p>
&lt;details class="hx:last-of-type:mb-0 hx:rounded-lg hx:bg-neutral-50 hx:dark:bg-neutral-800 hx:p-2 hx:mt-4 hx:group" >
&lt;summary class="hx:flex hx:items-center hx:cursor-pointer hx:select-none hx:list-none hx:p-1 hx:rounded-sm hx:transition-colors hx:hover:bg-gray-100 hx:dark:hover:bg-neutral-800 hx:before:mr-1 hx:before:inline-block hx:before:transition-transform hx:before:content-[''] hx:dark:before:invert hx:rtl:before:rotate-180 hx:group-open:before:rotate-90">
&lt;strong class="hx:text-lg">example-backward-genealogy.json&lt;/strong>
&lt;/summary>
&lt;div class="hx:p-2 hx:overflow-hidden">
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-box-2f&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie box&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-box&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isAssembledFromMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-unit-dh&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie unit&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-unit&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isAssembledFromMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-frosting-9Q&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">3500&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-frosting&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isAssembledFromMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;butter-67&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1125&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;butter&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;confectioner-sugar-yN&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">250&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;confectioner-sugar&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;peanut-butter-Cq&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">2250&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;peanut-butter&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-dough-Vr&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">15000&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-dough&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isAssembledFromMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;egg-gY&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">50&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;large-egg&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;egg&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;flour-kO&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">7500&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;flour&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;saZ3&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">150&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;salt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;sugar-32&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">2500&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;sugar&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;vanilla-extract-px&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;vanilla-extract&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-wrapper-NR&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">150&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;wrapper&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-wrapper&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isAssembledFromMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/details>
&lt;h4>Forward genealogy&lt;span class="hx:absolute hx:-mt-20" id="forward-genealogy">&lt;/span>
&lt;a href="#forward-genealogy" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>A forward genealogy examines the history of how one lot becomes a component of another.
For example, if a supplier informs a manufacturer about an issue with a specific raw material,
the manufacturer can run a forward genealogy that looks at the downstream material that consumed these bad lots.&lt;/p>
&lt;p>In Rhize, you can query the forward genealogy through the &lt;code>isComponentOfMaterialLot&lt;/code> property,
using nesting to indicate the number of levels of forward generations.
For example, this query returns the full chain of material that contains (or contains material that contains)
the material sublot &lt;code>peanut-butter-Cq&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gql" data-lang="gql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">GetMaterialLot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$getMaterialLotId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">String&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getMaterialLot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;peanut-butter-Cq&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">isComponentOfMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">isComponentOfMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">isComponentOfMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>This query returns data in the following structure:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;peanut-butter-Cq&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isComponentOfMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-frosting-9Q&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isComponentOfMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-unit-dh&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isComponentOfMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-box-2f&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>Next steps: display and analyze&lt;span class="hx:absolute hx:-mt-20" id="next-steps-display-and-analyze">&lt;/span>
&lt;a href="#next-steps-display-and-analyze" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The preceding steps are all you need to create a data foundation to use Rhize for genealogy.
After you&amp;rsquo;ve started collecting data, you can use the genealogy queries to build frontends and isolate entities for more detailed tracing and performance analysis.&lt;/p>
&lt;h3>Build frontends&lt;span class="hx:absolute hx:-mt-20" id="frontend">&lt;/span>
&lt;a href="#frontend" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>All data that you store in the Rhize DB is exposed through the GraphQL API.
This provides a flexible way to create custom frontends to organize your genealogical analysis in the presentation that makes sense for your use case.
For example, you might represent the genealogy in any of the following ways:&lt;/p>
&lt;ul>
&lt;li>In a summary report, providing a brief list of the material and all impacted upstream or downstream lots&lt;/li>
&lt;li>As an interactive list, which you can expand to view a lot&amp;rsquo;s associated quantities, job order, personnel and so on&lt;/li>
&lt;li>As the input for a secondary query&lt;/li>
&lt;li>In a display using some data visualization library&lt;/li>
&lt;/ul>
&lt;p>For a visual example, the interactive chart in the introduction takes the data from the preceding reverse-genealogy query,
transforms it with a &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/use-jsonata/" >JSONata expression&lt;/a>, and visualizes the relationship using
&lt;a href="https://echarts.apache.org/" target="_blank" rel="noopener">Apache echarts&lt;/a>.&lt;/p>
&lt;p>The JSONata expression accepts an array of material lots,
then recursively renames all IDs and &lt;code>isAssembledFrom&lt;/code> properties to &lt;code>name&lt;/code> and &lt;code>children&lt;/code>, the data structure expected by the visualization.
Additional properties remain to provide context in the chart&amp;rsquo;s tooltips.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-golang" data-lang="golang">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">$&lt;/span>&lt;span class="nx">makeParent&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">$&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">$&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;value&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">quantity&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="s">&amp;#34; &amp;#34;&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="nx">quantityUnitOfMeasure&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;definition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">materialDefinition&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;children&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nf">makeParent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isAssembledFromMaterialLot&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">$&lt;/span>&lt;span class="nf">makeParent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">$&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getMaterialLot&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>We&amp;rsquo;ve also embedded Echarts in Grafana workspaces to make interactive dashboards for forward and reverse genealogies:&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/genealogy/screenshot-rhize-genealogy-grafana.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/genealogy/screenshot-rhize-genealogy-grafana.png" alt="An interactive genealogy dashboard. Filter by material definition, then select specific material lots."
width="90%"
>
&lt;/a>
&lt;figcaption class="caption">
An interactive genealogy dashboard. Filter by material definition, then select specific material lots.
&lt;/figcaption>
&lt;/figure>
&lt;h3>Combine with granular tracing and performance analysis&lt;span class="hx:absolute hx:-mt-20" id="combine-with-granular-tracing-and-performance-analysis">&lt;/span>
&lt;a href="#combine-with-granular-tracing-and-performance-analysis" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>While a genealogy is an effective tool on its own, the usefulness of the Rhize data hub compounds with each use case.
So genealogy implementations are most effective if you can combine them with the other data stored in your manufacturing knowledge graph.&lt;/p>
&lt;p>For example, the genealogical record may provide the input for more granular &lt;em>track and trace&lt;/em> , in which you use the Lot IDs to determine track material movement across equipment and storage, associated personnel, and so on.&lt;/p>
&lt;p>You could also combine genealogy with performance analysis, using the genealogical record as the starting point to analyze and predict failures and deviations.&lt;/p></description></item><item><title>Genealogy</title><link>https://docs.rhize.com/versions/v3.2.0/use-cases/genealogy/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.rhize.com/versions/v3.2.0/use-cases/genealogy/</guid><description>
&lt;p>This document provides a high-level overview of how to use Rhize for material genealogy.&lt;/p>
&lt;p>In manufacturing, a &lt;em>genealogy&lt;/em> is the record of what a material contains or what it is now a part of.
As its name implies, genealogy represents the family tree of material.
A material genealogy helps manufacturers in multiple ways:&lt;/p>
&lt;ul>
&lt;li>Prevent product recalls by isolating deviations early in material flow&lt;/li>
&lt;li>Decrease recall time by maintaining a complete record of where material starts and ends&lt;/li>
&lt;li>Build reports and analysis of material deviations&lt;/li>
&lt;li>Create documentation and compliance records for material tracking&lt;/li>
&lt;/ul>
&lt;p>Rhize provides a standards-based schema to represent material at all levels of granularity.
The graph structure of its DB has built-in properties to associate material lots with other information about planned and performed work.
This database has a GraphQL API that can pull full genealogies from terse queries.
Rhize makes an &lt;strong>ideal backend for genealogical use cases&lt;/strong>.&lt;/p>
&lt;script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js">&lt;/script>
&lt;div id=echart-000 style="width: 100%;height: 600px;">&lt;/div>
&lt;script type="text/javascript">
var chart = echarts.init(document.getElementById("echart-000"));
const option = {
title: {
subtext:
"Click solid squares to expand.\nHover for quantities and definitions",
fontSize: 13,
},
tooltip: [
{
z: 60,
show: true,
showContent: true,
alwaysShowContent: true,
formatter: function (params) {
return `&lt;b>Material definition&lt;/b>: ${params.data.definition}&lt;br />
&lt;b>ID&lt;/b>: ${params.data.name}&lt;br />
&lt;b>Value:&lt;/b> ${params.data.value}`;
},
},
],
initialTreeDepth: 3,
series: [
{
type: "tree",
left: "15%",
right: "30%",
top: "10%",
bottom: "2%",
symbol: "emptySquares",
orient: "RL",
expandAndCollapse: true,
lineStyle: {
color: "#006838",
},
label: {
position: "bottom",
rotate: 0,
verticalAlign: "middle",
align: "right",
fontSize: 11,
},
itemStyle: {
color: "#006838",
},
leaves: {
label: {
position: "bottom",
backgroundColor: "#FFFFFF",
rotate: 10,
verticalAlign: "middle",
align: "left",
fontSize: 13,
},
},
animationDurationUpdate: 650,
data: [],
},
],
};
(option.series[0].data[0] = {
name: "cookie-box-2f",
value: "1 cookie box",
definition: "cookie-box",
children: [
{
name: "cookie-unit-dh",
value: "1000 cookie unit",
definition: "cookie-unit",
children: [
{
name: "cookie-frosting-9Q",
value: "3500 g",
definition: "cookie-frosting",
children: [
{
name: "butter-67",
value: "1125 g",
definition: "butter",
},
{
name: "confectioner-sugar-yN",
value: "250 g",
definition: "confectioner-sugar",
},
{
name: "peanut-butter-Cq",
value: "2250 g",
definition: "peanut-butter",
},
],
},
{
name: "cookie-dough-Vr",
value: "15000 g",
definition: "cookie-dough",
children: [
{
name: "egg-gY",
value: "50 large-egg",
definition: "egg",
},
{
name: "flour-kO",
value: "7500 g",
definition: "flour",
},
{
name: "saZ3",
value: "150 g",
definition: "salt",
},
{
name: "sugar-32",
value: "2500 g",
definition: "sugar",
},
{
name: "vanilla-extract-px",
value: "10 g",
definition: "vanilla-extract",
},
],
},
],
},
{
name: "cookie-wrapper-NR",
value: "150 wrapper",
definition: "cookie-wrapper",
},
],
}),
(option.title.text = `Example frontend:\nreverse genealogy of ${option.series[0].data[0].name}`);
chart.setOption(option);
&lt;/script>
&lt;p>&lt;em>Data from a Rhize query in an Apache Echart. Read the &lt;a href="#frontend" >Build frontend&lt;/a> section for details.&lt;/em>&lt;/p>
&lt;h2>Quick query&lt;span class="hx:absolute hx:-mt-20" id="quick-query">&lt;/span>
&lt;a href="#quick-query" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>To get started with genealogy quickly, use these &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/gql/query/" >query&lt;/a> templates.
One template is for the reverse genealogy, and the other is for the forward genealogy.
For each, you need to input the Lot ID.&lt;/p>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">Reverse genealogy query&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Forward genealogy query&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gql" data-lang="gql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">reverseGenealogy&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getMaterialLot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;&amp;lt;LOT_ID&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">parent_lots&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">grandparent_lots&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">great_grandparent_lots&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-1"
role="tabpanel">&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gql" data-lang="gql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">forwardGenealogy&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getMaterialLot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;&amp;lt;LOT_ID&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">child_lots&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">grandchildren_lots&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">great_grandgrandchildren_lots&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>You can modify the query to include more fields, levels, or get the forward and backward genealogy.
For an idea of how a more complete query would look, refer to the &lt;a href="#examples" >Examples&lt;/a> section.&lt;/p>
&lt;h2>Background: material entities in Rhize&lt;span class="hx:absolute hx:-mt-20" id="background-material-entities-in-rhize">&lt;/span>
&lt;a href="#background-material-entities-in-rhize" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-orange-100 hx:bg-orange-50 hx:text-orange-800 hx:dark:border-orange-400/30 hx:dark:bg-orange-400/20 hx:dark:text-orange-300">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">&amp;#x1f4dd; For a more complete introduction to ISA-95 and its terminology,
read &lt;a href="https://docs.rhize.com/versions/v3.2.0/isa-95/how-to-speak-isa-95/" >How to speak ISA-95&lt;/a>.&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>In ISA-95 terminology, the lineage of each material is expressed through the following entities:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Material lots.&lt;/strong> Unique amounts of identifiable material. For example, a material lot might be a camshaft in an engine or a package of sugar from a supplier.&lt;/li>
&lt;li>&lt;strong>Material Sublots.&lt;/strong> Uniquely identifiable parts of a material lot. For example, if a box of consumer-packaged goods represents a material lot, the individual serial numbers of the packages within might be the material sublots. Each sublot is unique, but multiple sublots may share properties from their parent material lot (for example, the expiry date).&lt;/li>
&lt;/ul>
&lt;p>The relationship between lots is expressed through the following properties:&lt;/p>
&lt;ul>
&lt;li>&lt;code>isAssembledFromMaterial[Sub]lot&lt;/code> and &lt;code>isComponentOf[Sub]lot&lt;/code>. The material lots or sublots that went into another material.&lt;/li>
&lt;li>&lt;code>parentMaterialLot&lt;/code> and &lt;code>childSubLot&lt;/code>. The relationships between a material lot and its sublots.&lt;/li>
&lt;/ul>
&lt;p>Note that these properties are symmetrical. If lot &lt;code>final-1&lt;/code> has the property &lt;code>{isAssembledFromMaterialLot: &amp;quot;intermediate-1&amp;quot;&lt;/code>},
then lot &lt;code>intermediate-1&lt;/code> has the property &lt;code>{isComponentOfMaterialLot: &amp;quot;final-1&amp;quot; }&lt;/code>.
The graph structure of the RhizeDB creates these links automatically.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">The distinction between sublots and material lots varies with processes.
The rest of this document simplifies terminology by using only the word &amp;ldquo;lots&amp;rdquo;.&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Steps to use Rhize for genealogy&lt;span class="hx:absolute hx:-mt-20" id="steps-to-use-rhize-for-genealogy">&lt;/span>
&lt;a href="#steps-to-use-rhize-for-genealogy" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The following sections describe how to use Rhize to build a genealogy use case.
In short:&lt;/p>
&lt;ol>
&lt;li>Identify the unique lots in your material flows.&lt;/li>
&lt;li>Add these lots to your model.&lt;/li>
&lt;li>Implement how to collect these lots.&lt;/li>
&lt;li>Query the database.&lt;/li>
&lt;/ol>
&lt;p>The example uses a simple baking process to demonstrate the material flow.&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/genealogy/diagram-rhize-genealogy-of-a-batch.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/genealogy/diagram-rhize-genealogy-of-a-batch.png" alt="A simplified view of how a pallet of packaged goods is assembled from lots and sublots."
width="30%"
>
&lt;/a>
&lt;figcaption class="caption">
A simplified view of how a pallet of packaged goods is assembled from lots and sublots.
&lt;/figcaption>
&lt;/figure>
&lt;h3>Identify lots to collect&lt;span class="hx:absolute hx:-mt-20" id="identify-lots-to-collect">&lt;/span>
&lt;a href="#identify-lots-to-collect" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>To use Rhize for genealogy, first identify the material lots that you want to identify.
How you identify these depends on your processes and material flows.
The following guidelines generally are true:&lt;/p>
&lt;ul>
&lt;li>The lot must be uniquely identifiable.&lt;/li>
&lt;li>The level of granularity of the lots is realistic for your current processes.&lt;/li>
&lt;/ul>
&lt;p>For example, in a small baking operation, lots might come from the following areas:&lt;/p>
&lt;ul>
&lt;li>The serial numbers of ingredients from suppliers&lt;/li>
&lt;li>The batches of baked pastries&lt;/li>
&lt;li>The wrappers consumed by the packing process&lt;/li>
&lt;li>The pallets of packed goods (with individual packages being material sublots).&lt;/li>
&lt;/ul>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">For some best practices of how to model, read our blog &lt;a href="https://rhize.com/blog/how-much-do-i-need-to-model-when-applying-the-isa-95-standard/" target="_blank" rel="noopener">How much do I need to model?&lt;/a>&lt;/div>
&lt;/div>
&lt;/div>
&lt;h3>Model these lots into your knowledge graph&lt;span class="hx:absolute hx:-mt-20" id="model-these-lots-into-your-knowledge-graph">&lt;/span>
&lt;a href="#model-these-lots-into-your-knowledge-graph" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>After you have identified the material lots, model how the data fits with the other components of your manufacturing knowledge graph.
At minimum, your material lots must have a &lt;abbr title="A representation of material with similar charecteristics. All material lots must have one associated material definition.">material definition&lt;/abbr> with an active version.&lt;/p>
&lt;p>Beyond these requirements, the graph structure of the ISA-95 database provides many ways to create links between lots and other manufacturing entities, including:&lt;/p>
&lt;ul>
&lt;li>A work request or job response&lt;/li>
&lt;li>The associated &lt;abbr title="The specific resource used for a specific job. For example, an operations segment may require EquipmentA, but if this equipment is in maintainance at the time of a job, the Equipment actual might be its temporary replacement, EquipmentB">resource actual&lt;/abbr>&lt;/li>
&lt;li>In aggregations such as part of a material class, or part of the material specifications in a &lt;abbr title="A template for a job order, corresponding to an operations and process segment, from the perspective of the level-3 (MES/MOM) systems.">work master&lt;/abbr>.&lt;/li>
&lt;/ul>
&lt;p>In the aforementioned baking process, the lots may have:&lt;/p>
&lt;ul>
&lt;li>Material classes (raw, intermediate, and final)&lt;/li>
&lt;li>Associated equipment (such as &lt;code>mixers&lt;/code>, &lt;code>ovens&lt;/code>, and &lt;code>trays&lt;/code>)&lt;/li>
&lt;li>Associated segments (such as &lt;code>mixing&lt;/code> or &lt;code>cooling&lt;/code>)&lt;/li>
&lt;li>Associated measurements and properties&lt;/li>
&lt;/ul>
&lt;h3>Implement how to store your lots in the RhizeDB&lt;span class="hx:absolute hx:-mt-20" id="implement-how-to-store-your-lots-in-the-rhizedb">&lt;/span>
&lt;a href="#implement-how-to-store-your-lots-in-the-rhizedb" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>After you have planned the process and defined your models, next implement how to add material lot IDs to Rhize in the course of your real manufacturing operation.&lt;/p>
&lt;p>Your manufacturing process determines where lot IDs are created.
The broad patterns are as follows:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Scheduled.&lt;/strong> Assign lots at the time of creating the work request or schedule (while the job response might create a material actual that maps to the requested lot ID).&lt;/li>
&lt;li>&lt;strong>Scheduled and event-driven.&lt;/strong> Generate lot IDs beforehand, and then use a GraphQL call to create records in the Rhize DB after some event. Example events might be a button press or an automated signal that indicates the lot has been physically created.&lt;/li>
&lt;li>&lt;strong>Event-driven.&lt;/strong> Assign lot IDs at the exact time of work performance. For example, you can write a &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/" >BPMN workflow&lt;/a> to subscribe to a topic that receives information about lots and automatically forwards the IDs to your knowledge graph.&lt;/li>
&lt;/ul>
&lt;p>In the example baking process, lots may be collected in the following ways:&lt;/p>
&lt;ul>
&lt;li>Scanned from supplier bar code&lt;/li>
&lt;li>Generated after the quality inspector indicates that a tray is finished&lt;/li>
&lt;li>Planned in terms of final package number and expiration date&lt;/li>
&lt;/ul>
&lt;h3>Query the data&lt;span class="hx:absolute hx:-mt-20" id="query-the-data">&lt;/span>
&lt;a href="#query-the-data" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>After you start collecting data, you can also start querying it through the &lt;code>materialLot&lt;/code> query operations.
The following section provides example genealogy queries.&lt;/p>
&lt;h2>Examples&lt;span class="hx:absolute hx:-mt-20" id="examples">&lt;/span>
&lt;a href="#examples" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The following examples show how to query for forward and backward genealogies using the &lt;a href="https://docs.rhize.com/how-to/gql/query/#get" target="_blank" rel="noopener">&lt;code>get&lt;/code>&lt;/a> operation to query material lots.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">You could also query for multiple genealogies—either through material lots or through aggregations such as material definitions and specifications— then apply &lt;a href="https://docs.rhize.com/how-to/gql/filter/" target="_blank" rel="noopener">filters&lt;/a>.&lt;/div>
&lt;/div>
&lt;/div>
&lt;h3>Backward genealogy&lt;span class="hx:absolute hx:-mt-20" id="backward-genealogy">&lt;/span>
&lt;a href="#backward-genealogy" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A backward genealogy examines all material lots that make the assembly of some later material lot.&lt;/p>
&lt;p>In Rhize, you can query this relationship through the &lt;code>isAssembledFromMaterialLot&lt;/code> property,
using nesting to indicate the level of material ancestry to return.
For example, this returns four levels of backward genealogy for the material lot
&lt;code>cookie-box-2f&lt;/code> (using a &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/gql/call-the-graphql-api/#shortcuts-for-more-expressive-requests" >fragment&lt;/a> to standardize the properties returned for each lot).&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gql" data-lang="gql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">getMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s">&amp;#34;cookie-box-2f&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">...&lt;/span>&lt;span class="nc">lotFields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">...&lt;/span>&lt;span class="py">lotFields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">...&lt;/span>&lt;span class="py">lotFields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">isAssembledFromMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">...&lt;/span>&lt;span class="py">lotFields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">## Common fields for all nested material&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">fragment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">lotFields&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">on&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="py">MaterialLot&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">quantityUnitOfMeasure&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">materialDefinition&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>The returned genealogy looks something like the following:&lt;/p>
&lt;details class="hx:last-of-type:mb-0 hx:rounded-lg hx:bg-neutral-50 hx:dark:bg-neutral-800 hx:p-2 hx:mt-4 hx:group" >
&lt;summary class="hx:flex hx:items-center hx:cursor-pointer hx:select-none hx:list-none hx:p-1 hx:rounded-sm hx:transition-colors hx:hover:bg-gray-100 hx:dark:hover:bg-neutral-800 hx:before:mr-1 hx:before:inline-block hx:before:transition-transform hx:before:content-[''] hx:dark:before:invert hx:rtl:before:rotate-180 hx:group-open:before:rotate-90">
&lt;strong class="hx:text-lg">example-backward-genealogy.json&lt;/strong>
&lt;/summary>
&lt;div class="hx:p-2 hx:overflow-hidden">
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-box-2f&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie box&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-box&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isAssembledFromMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-unit-dh&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie unit&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-unit&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isAssembledFromMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-frosting-9Q&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">3500&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-frosting&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isAssembledFromMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;butter-67&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1125&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;butter&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;confectioner-sugar-yN&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">250&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;confectioner-sugar&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;peanut-butter-Cq&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">2250&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;peanut-butter&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-dough-Vr&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">15000&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-dough&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isAssembledFromMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;egg-gY&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">50&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;large-egg&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;egg&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;flour-kO&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">7500&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;flour&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;saZ3&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">150&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;salt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;sugar-32&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">2500&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;sugar&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;vanilla-extract-px&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;g&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;vanilla-extract&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-wrapper-NR&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">150&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;quantityUnitOfMeasure&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;wrapper&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;materialDefinition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-wrapper&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isAssembledFromMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/details>
&lt;h4>Forward genealogy&lt;span class="hx:absolute hx:-mt-20" id="forward-genealogy">&lt;/span>
&lt;a href="#forward-genealogy" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>A forward genealogy examines the history of how one lot becomes a component of another.
For example, if a supplier informs a manufacturer about an issue with a specific raw material,
the manufacturer can run a forward genealogy that looks at the downstream material that consumed these bad lots.&lt;/p>
&lt;p>In Rhize, you can query the forward genealogy through the &lt;code>isComponentOfMaterialLot&lt;/code> property,
using nesting to indicate the number of levels of forward generations.
For example, this query returns the full chain of material that contains (or contains material that contains)
the material sublot &lt;code>peanut-butter-Cq&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gql" data-lang="gql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">GetMaterialLot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$getMaterialLotId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">String&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getMaterialLot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;peanut-butter-Cq&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">isComponentOfMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">isComponentOfMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">isComponentOfMaterialLot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>This query returns data in the following structure:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;peanut-butter-Cq&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isComponentOfMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-frosting-9Q&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isComponentOfMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-unit-dh&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isComponentOfMaterialLot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cookie-box-2f&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>Next steps: display and analyze&lt;span class="hx:absolute hx:-mt-20" id="next-steps-display-and-analyze">&lt;/span>
&lt;a href="#next-steps-display-and-analyze" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The preceding steps are all you need to create a data foundation to use Rhize for genealogy.
After you&amp;rsquo;ve started collecting data, you can use the genealogy queries to build frontends and isolate entities for more detailed tracing and performance analysis.&lt;/p>
&lt;h3>Build frontends&lt;span class="hx:absolute hx:-mt-20" id="frontend">&lt;/span>
&lt;a href="#frontend" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>All data that you store in the Rhize DB is exposed through the GraphQL API.
This provides a flexible way to create custom frontends to organize your genealogical analysis in the presentation that makes sense for your use case.
For example, you might represent the genealogy in any of the following ways:&lt;/p>
&lt;ul>
&lt;li>In a summary report, providing a brief list of the material and all impacted upstream or downstream lots&lt;/li>
&lt;li>As an interactive list, which you can expand to view a lot&amp;rsquo;s associated quantities, job order, personnel and so on&lt;/li>
&lt;li>As the input for a secondary query&lt;/li>
&lt;li>In a display using some data visualization library&lt;/li>
&lt;/ul>
&lt;p>For a visual example, the interactive chart in the introduction takes the data from the preceding reverse-genealogy query,
transforms it with a &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/use-jsonata/" >JSONata expression&lt;/a>, and visualizes the relationship using
&lt;a href="https://echarts.apache.org/" target="_blank" rel="noopener">Apache echarts&lt;/a>.&lt;/p>
&lt;p>The JSONata expression accepts an array of material lots,
then recursively renames all IDs and &lt;code>isAssembledFrom&lt;/code> properties to &lt;code>name&lt;/code> and &lt;code>children&lt;/code>, the data structure expected by the visualization.
Additional properties remain to provide context in the chart&amp;rsquo;s tooltips.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-golang" data-lang="golang">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">$&lt;/span>&lt;span class="nx">makeParent&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">$&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">$&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;value&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">quantity&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="s">&amp;#34; &amp;#34;&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="nx">quantityUnitOfMeasure&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;definition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">materialDefinition&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;children&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nf">makeParent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isAssembledFromMaterialLot&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">$&lt;/span>&lt;span class="nf">makeParent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">$&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getMaterialLot&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>We&amp;rsquo;ve also embedded Echarts in Grafana workspaces to make interactive dashboards for forward and reverse genealogies:&lt;/p>
&lt;figure class="big-figure">
&lt;a href="https://docs.rhize.com/images/genealogy/screenshot-rhize-genealogy-grafana.png" target="_blank">
&lt;img src="https://docs.rhize.com/images/genealogy/screenshot-rhize-genealogy-grafana.png" alt="An interactive genealogy dashboard. Filter by material definition, then select specific material lots."
width="90%"
>
&lt;/a>
&lt;figcaption class="caption">
An interactive genealogy dashboard. Filter by material definition, then select specific material lots.
&lt;/figcaption>
&lt;/figure>
&lt;h3>Combine with granular tracing and performance analysis&lt;span class="hx:absolute hx:-mt-20" id="combine-with-granular-tracing-and-performance-analysis">&lt;/span>
&lt;a href="#combine-with-granular-tracing-and-performance-analysis" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>While a genealogy is an effective tool on its own, the usefulness of the Rhize data hub compounds with each use case.
So genealogy implementations are most effective if you can combine them with the other data stored in your manufacturing knowledge graph.&lt;/p>
&lt;p>For example, the genealogical record may provide the input for more granular &lt;em>track and trace&lt;/em> , in which you use the Lot IDs to determine track material movement across equipment and storage, associated personnel, and so on.&lt;/p>
&lt;p>You could also combine genealogy with performance analysis, using the genealogical record as the starting point to analyze and predict failures and deviations.&lt;/p></description></item><item><title>Back up the Graph DB to S3</title><link>https://docs.rhize.com/versions/v3.0.3/deploy/backup/binary/</link><pubDate>Mon, 04 Nov 2024 11:01:46 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.0.3/deploy/backup/binary/</guid><description>
&lt;p>This guide shows you how to back up the Rhize Graph database to Amazon S3 and S3-compatible storage.&lt;/p>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prerequisites">&lt;/span>
&lt;a href="#prerequisites" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Before you start, ensure you have the following:&lt;/p>
&lt;ul>
&lt;li>A designated S3 backup location, for example &lt;code>s3://s3.&amp;lt;AWS-REGION&amp;gt;.amazonaws.com/&amp;lt;AWS-BUCKET-NAME&amp;gt;&lt;/code>.&lt;/li>
&lt;li>Access to your &lt;a href="https://docs.rhize.com/versions/v3.0.3/deploy/install/" >Rhize Kubernetes Environment&lt;/a>&lt;/li>
&lt;li>Optional: &lt;a href="https://github.com/ahmetb/kubectx" target="_blank" rel="noopener">kubectx&lt;/a> utilities
&lt;ul>
&lt;li>&lt;code>kubectx&lt;/code> to manage multiple clusters&lt;/li>
&lt;li>&lt;code>kubens&lt;/code> to switch between and configure namespaces easily&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Optional: the &lt;a href="https://k8slens.dev" target="_blank" rel="noopener">k8 Lens IDE&lt;/a>, if you prefer to use Kubernetes graphically.&lt;/li>
&lt;/ul>
&lt;p>Before you start, confirm you are in the right context and namespace:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## context&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl config current-context
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## namespace&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl get namespace&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>To change the namespace for all subsequent &lt;code>kubectl&lt;/code> commands to &lt;code>libre&lt;/code>, run this command:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl config set-context --current --namespace&lt;span class="o">=&lt;/span>libre&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>For a reference of useful &lt;code>kubectl&lt;/code> commands, refer to the official &lt;a href="https://kubernetes.io/docs/reference/kubectl/cheatsheet/" target="_blank" rel="noopener">kubectl Cheat Sheet&lt;/a>.&lt;/p>
&lt;h2>Steps&lt;span class="hx:absolute hx:-mt-20" id="steps">&lt;/span>
&lt;a href="#steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>To back up the database, follow these steps:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Check the logs for the alpha and zero pods, either in Lens or with &lt;a href="https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#logs" target="_blank" rel="noopener">&lt;code>kubectl logs&lt;/code>&lt;/a>.
Ensure there are no errors.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl logs libre-baas-baas-alpha-0 --tail&lt;span class="o">=&lt;/span>&lt;span class="m">80&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Set the following environmental variables:&lt;/p>
&lt;ul>
&lt;li>&lt;code>AWS_ACCESS_KEY_ID&lt;/code>. Your AWS access key with permissions to write to the destination bucket&lt;/li>
&lt;li>&lt;code>AWS_SECRET_ACCESS_KEY&lt;/code>. Your AWS access key with permissions to write to the destination bucket&lt;/li>
&lt;li>&lt;code>AWS_SESSION_TOKEN&lt;/code>. Your AWS session token (if required)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Make a POST request to your Keycloak &lt;code>/token&lt;/code> endpoint to get an &lt;code>access_token&lt;/code> value.
For example, with &lt;code>curl&lt;/code> and &lt;code>jq&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## replace USERNAME and PASSWORD with your credentials&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">USERNAME&lt;/span>&lt;span class="o">=&lt;/span>backups@libremfg.com &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nv">PASSWORD&lt;/span>&lt;span class="o">=&lt;/span>password &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span> curl --location &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --request POST &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">BAAS_OIDC_URL&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">/realms/libre/protocol/openid-connect/token&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --header &lt;span class="s1">&amp;#39;Content-Type\ application/x-www-form-urlencoded&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s1">&amp;#39;grant_type=password&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s2">&amp;#34;username=&amp;lt;USERNAME&amp;gt;&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s2">&amp;#34;password=&amp;lt;PASSWORD&amp;gt;&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s2">&amp;#34;client_id=&amp;lt;BASS_CLIENT_ID&amp;gt;&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s2">&amp;#34;client_secret=&amp;lt;BASS_CLIENT_SECRET&amp;gt;&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> jq .access_token&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Using the token from the previous step, send a POST to &lt;code>&amp;lt;alpha service&amp;gt;:8080/admin&lt;/code> to create a backup of the node to your S3 bucket.
For example, with &lt;code>curl&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">curl --location &lt;span class="s1">&amp;#39;http://alpha:8080/admin&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--header &lt;span class="s1">&amp;#39;Content-Type: application/json&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--header &lt;span class="s1">&amp;#39;Authorization: Bearer &amp;lt;TOKEN&amp;gt;&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--data &lt;span class="s1">&amp;#39;{&amp;#34;query&amp;#34;:&amp;#34;mutation {\n backup(input: {destination: \&amp;#34;s3://s3.&amp;lt;AWS-REGION&amp;gt;.amazonaws.com/&amp;lt;AWS-BUCKET-NAME&amp;gt;\&amp;#34;}) {\n response {\n message\n code\n }\n taskId\n }\n}&amp;#34;,&amp;#34;variables&amp;#34;:{}}&amp;#39;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>List available backups to confirm your backup succeeded:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">curl --location &lt;span class="s1">&amp;#39;http://alpha:8080/admin&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--header &lt;span class="s1">&amp;#39;Content-Type: application/json&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--header &lt;span class="s1">&amp;#39;Authorization: Bearer &amp;lt;TOKEN&amp;gt;&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--data &lt;span class="s1">&amp;#39;{&amp;#34;query&amp;#34;:&amp;#34;query backup {\n\tlistBackups(input: {location: \&amp;#34;s3://s3.&amp;lt;AWS-REGION&amp;gt;&amp;gt;.amazonaws.com/&amp;lt;AWS-BUCKET-NAME&amp;gt;\&amp;#34;}) {\n\t\tbackupId\n\t\tbackupNum\n\t\tpath\n\t\tsince\n\t\ttype\n\t}\n}&amp;#34;,&amp;#34;variables&amp;#34;:{}}&amp;#39;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;h2>Next Steps&lt;span class="hx:absolute hx:-mt-20" id="next-steps">&lt;/span>
&lt;a href="#next-steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Test the &lt;a href="https://docs.rhize.com/versions/v3.0.3/deploy/restore/binary/" >Restore Graph Database From S3&lt;/a> procedure to ensure you can recover data from Amazon S3 in case of an emergency.&lt;/li>
&lt;li>To back up other Rhize services, read how to backup &lt;a href="https://docs.rhize.com/versions/v3.0.3/deploy/backup/grafana/" >Grafana&lt;/a>.&lt;/li>
&lt;/ul></description></item><item><title>Back up the Graph DB to S3</title><link>https://docs.rhize.com/versions/v3.1.0/deploy/backup/binary/</link><pubDate>Mon, 04 Nov 2024 11:01:46 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.1.0/deploy/backup/binary/</guid><description>
&lt;p>This guide shows you how to back up the Rhize Graph database to Amazon S3 and S3-compatible storage.&lt;/p>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prerequisites">&lt;/span>
&lt;a href="#prerequisites" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Before you start, ensure you have the following:&lt;/p>
&lt;ul>
&lt;li>A designated S3 backup location, for example &lt;code>s3://s3.&amp;lt;AWS-REGION&amp;gt;.amazonaws.com/&amp;lt;AWS-BUCKET-NAME&amp;gt;&lt;/code>.&lt;/li>
&lt;li>Access to your &lt;a href="https://docs.rhize.com/versions/v3.1.0/deploy/install/" >Rhize Kubernetes Environment&lt;/a>&lt;/li>
&lt;li>Optional: &lt;a href="https://github.com/ahmetb/kubectx" target="_blank" rel="noopener">kubectx&lt;/a> utilities
&lt;ul>
&lt;li>&lt;code>kubectx&lt;/code> to manage multiple clusters&lt;/li>
&lt;li>&lt;code>kubens&lt;/code> to switch between and configure namespaces easily&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Optional: the &lt;a href="https://k8slens.dev" target="_blank" rel="noopener">k8 Lens IDE&lt;/a>, if you prefer to use Kubernetes graphically.&lt;/li>
&lt;/ul>
&lt;p>Before you start, confirm you are in the right context and namespace:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## context&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl config current-context
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## namespace&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl get namespace&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>To change the namespace for all subsequent &lt;a href="https://kubernetes.io/docs/reference/kubectl/cheatsheet/" target="_blank" rel="noopener">&lt;code>kubectl&lt;/code> commands&lt;/a> to &lt;code>libre&lt;/code>, run this command:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl config set-context --current --namespace&lt;span class="o">=&lt;/span>libre&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>Steps&lt;span class="hx:absolute hx:-mt-20" id="steps">&lt;/span>
&lt;a href="#steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>To back up the database, follow these steps:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Check the logs for the alpha and zero pods, either in Lens or with &lt;a href="https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#logs" target="_blank" rel="noopener">&lt;code>kubectl logs&lt;/code>&lt;/a>.
Ensure there are no errors.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl logs libre-baas-baas-alpha-0 --tail&lt;span class="o">=&lt;/span>&lt;span class="m">80&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Set the following environmental variables:&lt;/p>
&lt;ul>
&lt;li>&lt;code>AWS_ACCESS_KEY_ID&lt;/code>. Your AWS access key with permissions to write to the destination bucket&lt;/li>
&lt;li>&lt;code>AWS_SECRET_ACCESS_KEY&lt;/code>. Your AWS access key with permissions to write to the destination bucket&lt;/li>
&lt;li>&lt;code>AWS_SESSION_TOKEN&lt;/code>. Your AWS session token (if required)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Make a POST request to your Keycloak &lt;code>/token&lt;/code> endpoint to get an &lt;code>access_token&lt;/code> value.
For example, with &lt;code>curl&lt;/code> and &lt;code>jq&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## replace USERNAME and PASSWORD with your credentials&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">USERNAME&lt;/span>&lt;span class="o">=&lt;/span>backups@libremfg.com &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nv">PASSWORD&lt;/span>&lt;span class="o">=&lt;/span>password &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span> curl --location &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --request POST &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">BAAS_OIDC_URL&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">/realms/libre/protocol/openid-connect/token&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --header &lt;span class="s1">&amp;#39;Content-Type\ application/x-www-form-urlencoded&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s1">&amp;#39;grant_type=password&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s2">&amp;#34;username=&amp;lt;USERNAME&amp;gt;&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s2">&amp;#34;password=&amp;lt;PASSWORD&amp;gt;&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s2">&amp;#34;client_id=&amp;lt;BASS_CLIENT_ID&amp;gt;&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s2">&amp;#34;client_secret=&amp;lt;BASS_CLIENT_SECRET&amp;gt;&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> jq .access_token&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Using the token from the previous step, send a POST to &lt;code>&amp;lt;alpha service&amp;gt;:8080/admin&lt;/code> to create a backup of the node to your S3 bucket.
For example, with &lt;code>curl&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">curl --location &lt;span class="s1">&amp;#39;http://alpha:8080/admin&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--header &lt;span class="s1">&amp;#39;Content-Type: application/json&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--header &lt;span class="s1">&amp;#39;Authorization: Bearer &amp;lt;TOKEN&amp;gt;&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--data &lt;span class="s1">&amp;#39;{&amp;#34;query&amp;#34;:&amp;#34;mutation {\n backup(input: {destination: \&amp;#34;s3://s3.&amp;lt;AWS-REGION&amp;gt;.amazonaws.com/&amp;lt;AWS-BUCKET-NAME&amp;gt;\&amp;#34;}) {\n response {\n message\n code\n }\n taskId\n }\n}&amp;#34;,&amp;#34;variables&amp;#34;:{}}&amp;#39;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>List available backups to confirm your backup succeeded:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">curl --location &lt;span class="s1">&amp;#39;http://alpha:8080/admin&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--header &lt;span class="s1">&amp;#39;Content-Type: application/json&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--header &lt;span class="s1">&amp;#39;Authorization: Bearer &amp;lt;TOKEN&amp;gt;&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--data &lt;span class="s1">&amp;#39;{&amp;#34;query&amp;#34;:&amp;#34;query backup {\n\tlistBackups(input: {location: \&amp;#34;s3://s3.&amp;lt;AWS-REGION&amp;gt;&amp;gt;.amazonaws.com/&amp;lt;AWS-BUCKET-NAME&amp;gt;\&amp;#34;}) {\n\t\tbackupId\n\t\tbackupNum\n\t\tpath\n\t\tsince\n\t\ttype\n\t}\n}&amp;#34;,&amp;#34;variables&amp;#34;:{}}&amp;#39;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;h2>Next Steps&lt;span class="hx:absolute hx:-mt-20" id="next-steps">&lt;/span>
&lt;a href="#next-steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Test the &lt;a href="https://docs.rhize.com/versions/v3.1.0/deploy/restore/binary/" >Restore Graph Database From S3&lt;/a> procedure to ensure you can recover data from Amazon S3 in case of an emergency.&lt;/li>
&lt;li>To back up other Rhize services, read how to backup &lt;a href="https://docs.rhize.com/versions/v3.1.0/deploy/backup/grafana/" >Grafana&lt;/a>.&lt;/li>
&lt;/ul></description></item><item><title>Back up the Graph DB to S3</title><link>https://docs.rhize.com/versions/v3.2.0/deploy/backup/binary/</link><pubDate>Mon, 04 Nov 2024 11:01:46 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.2.0/deploy/backup/binary/</guid><description>
&lt;p>This guide shows you how to back up the Rhize Graph database to Amazon S3 and S3-compatible storage.&lt;/p>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prerequisites">&lt;/span>
&lt;a href="#prerequisites" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Before you start, ensure you have the following:&lt;/p>
&lt;ul>
&lt;li>A designated S3 backup location, for example &lt;code>s3://s3.&amp;lt;AWS-REGION&amp;gt;.amazonaws.com/&amp;lt;AWS-BUCKET-NAME&amp;gt;&lt;/code>.&lt;/li>
&lt;li>Access to your &lt;a href="https://docs.rhize.com/versions/v3.2.0/deploy/install/" >Rhize Kubernetes Environment&lt;/a>&lt;/li>
&lt;li>Optional: &lt;a href="https://github.com/ahmetb/kubectx" target="_blank" rel="noopener">kubectx&lt;/a> utilities
&lt;ul>
&lt;li>&lt;code>kubectx&lt;/code> to manage multiple clusters&lt;/li>
&lt;li>&lt;code>kubens&lt;/code> to switch between and configure namespaces easily&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Optional: the &lt;a href="https://k8slens.dev" target="_blank" rel="noopener">k8 Lens IDE&lt;/a>, if you prefer to use Kubernetes graphically.&lt;/li>
&lt;/ul>
&lt;p>Before you start, confirm you are in the right context and namespace:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## context&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl config current-context
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## namespace&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl get namespace&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>To change the namespace for all subsequent &lt;a href="https://kubernetes.io/docs/reference/kubectl/cheatsheet/" target="_blank" rel="noopener">&lt;code>kubectl&lt;/code> commands&lt;/a> to &lt;code>libre&lt;/code>, run this command:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl config set-context --current --namespace&lt;span class="o">=&lt;/span>libre&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>Steps&lt;span class="hx:absolute hx:-mt-20" id="steps">&lt;/span>
&lt;a href="#steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>To back up the database, follow these steps:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Check the logs for the alpha and zero pods, either in Lens or with &lt;a href="https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#logs" target="_blank" rel="noopener">&lt;code>kubectl logs&lt;/code>&lt;/a>.
Ensure there are no errors.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl logs libre-baas-baas-alpha-0 --tail&lt;span class="o">=&lt;/span>&lt;span class="m">80&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Set the following environmental variables:&lt;/p>
&lt;ul>
&lt;li>&lt;code>AWS_ACCESS_KEY_ID&lt;/code>. Your AWS access key with permissions to write to the destination bucket&lt;/li>
&lt;li>&lt;code>AWS_SECRET_ACCESS_KEY&lt;/code>. Your AWS access key with permissions to write to the destination bucket&lt;/li>
&lt;li>&lt;code>AWS_SESSION_TOKEN&lt;/code>. Your AWS session token (if required)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Make a POST request to your Keycloak &lt;code>/token&lt;/code> endpoint to get an &lt;code>access_token&lt;/code> value.
For example, with &lt;code>curl&lt;/code> and &lt;code>jq&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## replace USERNAME and PASSWORD with your credentials&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">USERNAME&lt;/span>&lt;span class="o">=&lt;/span>backups@libremfg.com &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nv">PASSWORD&lt;/span>&lt;span class="o">=&lt;/span>password &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span> curl --location &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --request POST &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">BAAS_OIDC_URL&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">/realms/libre/protocol/openid-connect/token&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --header &lt;span class="s1">&amp;#39;Content-Type\ application/x-www-form-urlencoded&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s1">&amp;#39;grant_type=password&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s2">&amp;#34;username=&amp;lt;USERNAME&amp;gt;&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s2">&amp;#34;password=&amp;lt;PASSWORD&amp;gt;&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s2">&amp;#34;client_id=&amp;lt;BASS_CLIENT_ID&amp;gt;&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s2">&amp;#34;client_secret=&amp;lt;BASS_CLIENT_SECRET&amp;gt;&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> jq .access_token&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Using the token from the previous step, send a POST to &lt;code>&amp;lt;alpha service&amp;gt;:8080/admin&lt;/code> to create a backup of the node to your S3 bucket.
For example, with &lt;code>curl&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">curl --location &lt;span class="s1">&amp;#39;http://alpha:8080/admin&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--header &lt;span class="s1">&amp;#39;Content-Type: application/json&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--header &lt;span class="s1">&amp;#39;Authorization: Bearer &amp;lt;TOKEN&amp;gt;&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--data &lt;span class="s1">&amp;#39;{&amp;#34;query&amp;#34;:&amp;#34;mutation {\n backup(input: {destination: \&amp;#34;s3://s3.&amp;lt;AWS-REGION&amp;gt;.amazonaws.com/&amp;lt;AWS-BUCKET-NAME&amp;gt;\&amp;#34;}) {\n response {\n message\n code\n }\n taskId\n }\n}&amp;#34;,&amp;#34;variables&amp;#34;:{}}&amp;#39;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>List available backups to confirm your backup succeeded:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">curl --location &lt;span class="s1">&amp;#39;http://alpha:8080/admin&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--header &lt;span class="s1">&amp;#39;Content-Type: application/json&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--header &lt;span class="s1">&amp;#39;Authorization: Bearer &amp;lt;TOKEN&amp;gt;&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--data &lt;span class="s1">&amp;#39;{&amp;#34;query&amp;#34;:&amp;#34;query backup {\n\tlistBackups(input: {location: \&amp;#34;s3://s3.&amp;lt;AWS-REGION&amp;gt;&amp;gt;.amazonaws.com/&amp;lt;AWS-BUCKET-NAME&amp;gt;\&amp;#34;}) {\n\t\tbackupId\n\t\tbackupNum\n\t\tpath\n\t\tsince\n\t\ttype\n\t}\n}&amp;#34;,&amp;#34;variables&amp;#34;:{}}&amp;#39;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;h2>Next Steps&lt;span class="hx:absolute hx:-mt-20" id="next-steps">&lt;/span>
&lt;a href="#next-steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Test the &lt;a href="https://docs.rhize.com/versions/v3.2.0/deploy/restore/binary/" >Restore Graph Database From S3&lt;/a> procedure to ensure you can recover data from Amazon S3 in case of an emergency.&lt;/li>
&lt;li>To back up other Rhize services, read how to backup &lt;a href="https://docs.rhize.com/versions/v3.2.0/deploy/backup/grafana/" >Grafana&lt;/a>.&lt;/li>
&lt;/ul></description></item><item><title>Archive the PostgreSQL Audit trail</title><link>https://docs.rhize.com/versions/v3.0.3/deploy/maintain/audit/</link><pubDate>Tue, 26 Mar 2024 11:20:56 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.0.3/deploy/maintain/audit/</guid><description>
&lt;p>The &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/audit/" >audit trail&lt;/a> can generate a high volume of data, so it is a good practice to periodically &lt;em>archive&lt;/em> portions of it.
An archive separates a portion of the data from the database and keeps it for long-term storage. This process involves the use of PostgreSQL &lt;a href="https://www.postgresql.org/docs/current/ddl-partitioning.html" target="_blank" rel="noopener">Table Partitions&lt;/a>.&lt;/p>
&lt;p>Archiving a partition improves query speed for current data, while providing a cost-effective way to store older.&lt;/p>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prerequisites">&lt;/span>
&lt;a href="#prerequisites" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Before you start, ensure you have the following:&lt;/p>
&lt;ul>
&lt;li>A designated backup location, for example &lt;code>~/rhize-archives/libre-audit&lt;/code>.&lt;/li>
&lt;li>Access to the &lt;a href="https://docs.rhize.com/versions/v3.0.3/deploy/install/setup-kubernetes/" >Rhize Kubernetes Environment&lt;/a> - Optional: &lt;a href="https://github.com/ahmetb/kubectx" target="_blank" rel="noopener">kubectx&lt;/a> utilities
&lt;ul>
&lt;li>&lt;code>kubectx&lt;/code> to manage multiple clusters&lt;/li>
&lt;li>&lt;code>kubens&lt;/code> to switch between and configure namespaces easily&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Optional: the &lt;a href="https://k8slens.dev" target="_blank" rel="noopener">k8 Lens IDE&lt;/a>, if you prefer to use Kubernetes graphically&lt;/li>
&lt;/ul>
&lt;p>Also, before you start, confirm you are in the right context and namespace.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## context&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl config current-context
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## namespace&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl get namespace&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>To change the namespace for all subsequent &lt;code>kubectl&lt;/code> commands to &lt;code>libre&lt;/code>, run this command:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl config set-context --current --namespace&lt;span class="o">=&lt;/span>libre&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>For a reference of useful &lt;code>kubectl&lt;/code> commands, refer to the official &lt;a href="https://kubernetes.io/docs/reference/kubectl/cheatsheet/" target="_blank" rel="noopener">kubectl Cheat Sheet&lt;/a>.&lt;/p>
&lt;h2>Steps&lt;span class="hx:absolute hx:-mt-20" id="steps">&lt;/span>
&lt;a href="#steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>To archive the PostgreSQL Audit trail, follow these steps:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Record the &lt;code>&amp;lt;PARTITION_NAME&amp;gt;&lt;/code> of the partition you wish to detach and archive.
This is based on the retention-period query for the names of the existing partitions:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl &lt;span class="nb">exec&lt;/span> -i audit-postgres-0 -- psql -h localhost &lt;span class="se">\ &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -d audit -U &amp;lt;DB_USER&amp;gt; &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -c &lt;span class="s2">&amp;#34;select * from partman.show_partitions(&amp;#39;public.audit_log&amp;#39;)&amp;#34;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Detach the target partitions from the main table:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl &lt;span class="nb">exec&lt;/span> -i audit-postgres-0 -- psql -h localhost &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -d audit -U &amp;lt;DB_USER&amp;gt; &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -c &lt;span class="s1">&amp;#39;alter table audit_log detach partition &amp;lt;PARTITION_NAME&amp;gt;;&amp;#39;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Backup the partition table:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pg_dump -U &amp;lt;DB_USER&amp;gt; -h audit-postgres-0 -p5433 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --file ./audit-p20240101.sql --table public.audit_log_p20240101 audit&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>On success, the backup creates a GZIP file, &lt;code>&amp;lt;PARITION_NAME&amp;gt;.sql&lt;/code>.
To check that the backup succeeded, unzip the files and inspect the data.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Drop the partition table to remove it from the database:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl &lt;span class="nb">exec&lt;/span> -i audit-postgres-0 -- psql -h localhost -d audit &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -U &amp;lt;DB_USER&amp;gt; -c &lt;span class="s1">&amp;#39;drop table &amp;lt;PARTITION_NAME&amp;gt;;&amp;#39;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;h2>Next Steps&lt;span class="hx:absolute hx:-mt-20" id="next-steps">&lt;/span>
&lt;a href="#next-steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>For full backups or Rhize services, read how to back up:
&lt;ul>
&lt;li>&lt;a href="https://docs.rhize.com/versions/v3.0.3/deploy/backup/keycloak/" >Keycloak&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.rhize.com/versions/v3.0.3/deploy/backup/audit/" >The Audit trail&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.rhize.com/versions/v3.0.3/deploy/backup/grafana/" >Grafana&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.rhize.com/versions/v3.0.3/deploy/backup/graphdb/" >The Graph Database&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>Archive the PostgreSQL Audit trail</title><link>https://docs.rhize.com/versions/v3.1.0/deploy/maintain/audit/</link><pubDate>Tue, 26 Mar 2024 11:20:56 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.1.0/deploy/maintain/audit/</guid><description>
&lt;p>The &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/audit/" >audit trail&lt;/a> can generate a high volume of data, so it is a good practice to periodically &lt;em>archive&lt;/em> portions of it.
An archive separates a portion of the data from the database and keeps it for long-term storage. This process involves the use of PostgreSQL &lt;a href="https://www.postgresql.org/docs/current/ddl-partitioning.html" target="_blank" rel="noopener">Table Partitions&lt;/a>.&lt;/p>
&lt;p>Archiving a partition improves query speed for current data, while providing a cost-effective way to store older data.&lt;/p>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prerequisites">&lt;/span>
&lt;a href="#prerequisites" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Before you start, ensure you have the following:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>A designated backup location, for example &lt;code>~/rhize-archives/libre-audit&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Access to the &lt;a href="https://docs.rhize.com/versions/v3.1.0/deploy/install/setup-kubernetes/" >Rhize Kubernetes Environment&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Optional: &lt;a href="https://github.com/ahmetb/kubectx" target="_blank" rel="noopener">kubectx&lt;/a> utilities&lt;/p>
&lt;ul>
&lt;li>&lt;code>kubectx&lt;/code> to manage multiple clusters&lt;/li>
&lt;li>&lt;code>kubens&lt;/code> to switch between and configure namespaces easily&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Optional: the &lt;a href="https://k8slens.dev" target="_blank" rel="noopener">k8 Lens IDE&lt;/a>, if you prefer to use Kubernetes graphically&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Also, before you start, confirm you are in the right context and namespace.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## context&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl config current-context
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## namespace&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl get namespace&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>To change the namespace for all subsequent &lt;a href="https://kubernetes.io/docs/reference/kubectl/cheatsheet/" target="_blank" rel="noopener">&lt;code>kubectl&lt;/code> commands&lt;/a> to &lt;code>libre&lt;/code>, run this command:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl config set-context --current --namespace&lt;span class="o">=&lt;/span>libre&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>Steps&lt;span class="hx:absolute hx:-mt-20" id="steps">&lt;/span>
&lt;a href="#steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>To archive the PostgreSQL Audit trail, follow these steps:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Record the &lt;code>&amp;lt;PARTITION_NAME&amp;gt;&lt;/code> of the partition you wish to detach and archive.
This is based on the retention-period query for the names of the existing partitions:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl &lt;span class="nb">exec&lt;/span> -i audit-postgres-0 -- psql -h localhost &lt;span class="se">\ &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -d audit -U &amp;lt;DB_USER&amp;gt; &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -c &lt;span class="s2">&amp;#34;select * from partman.show_partitions(&amp;#39;public.audit_log&amp;#39;)&amp;#34;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Detach the target partitions from the main table:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl &lt;span class="nb">exec&lt;/span> -i audit-postgres-0 -- psql -h localhost &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -d audit -U &amp;lt;DB_USER&amp;gt; &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -c &lt;span class="s1">&amp;#39;alter table audit_log detach partition &amp;lt;PARTITION_NAME&amp;gt;;&amp;#39;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Backup the partition table:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pg_dump -U &amp;lt;DB_USER&amp;gt; -h audit-postgres-0 -p5433 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --file ./audit-p20240101.sql --table public.audit_log_p20240101 audit&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>On success, the backup creates a GZIP file, &lt;code>&amp;lt;PARITION_NAME&amp;gt;.sql&lt;/code>.
To check that the backup succeeded, unzip the files and inspect the data.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Drop the partition table to remove it from the database:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl &lt;span class="nb">exec&lt;/span> -i audit-postgres-0 -- psql -h localhost -d audit &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -U &amp;lt;DB_USER&amp;gt; -c &lt;span class="s1">&amp;#39;drop table &amp;lt;PARTITION_NAME&amp;gt;;&amp;#39;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;h2>Next Steps&lt;span class="hx:absolute hx:-mt-20" id="next-steps">&lt;/span>
&lt;a href="#next-steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>For full backups or Rhize services, read how to back up:
&lt;ul>
&lt;li>&lt;a href="https://docs.rhize.com/versions/v3.1.0/deploy/backup/keycloak/" >Keycloak&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.rhize.com/versions/v3.1.0/deploy/backup/audit/" >The Audit trail&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.rhize.com/versions/v3.1.0/deploy/backup/grafana/" >Grafana&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.rhize.com/versions/v3.1.0/deploy/backup/graphdb/" >The Graph Database&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>Archive the PostgreSQL Audit trail</title><link>https://docs.rhize.com/versions/v3.2.0/deploy/maintain/audit/</link><pubDate>Tue, 26 Mar 2024 11:20:56 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.2.0/deploy/maintain/audit/</guid><description>
&lt;p>The &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/audit/" >audit trail&lt;/a> can generate a high volume of data, so it is a good practice to periodically &lt;em>archive&lt;/em> portions of it.
An archive separates a portion of the data from the database and keeps it for long-term storage. This process involves the use of PostgreSQL &lt;a href="https://www.postgresql.org/docs/current/ddl-partitioning.html" target="_blank" rel="noopener">Table Partitions&lt;/a>.&lt;/p>
&lt;p>Archiving a partition improves query speed for current data, while providing a cost-effective way to store older data.&lt;/p>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prerequisites">&lt;/span>
&lt;a href="#prerequisites" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Before you start, ensure you have the following:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>A designated backup location, for example &lt;code>~/rhize-archives/libre-audit&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Access to the &lt;a href="https://docs.rhize.com/versions/v3.2.0/deploy/install/setup-kubernetes/" >Rhize Kubernetes Environment&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Optional: &lt;a href="https://github.com/ahmetb/kubectx" target="_blank" rel="noopener">kubectx&lt;/a> utilities&lt;/p>
&lt;ul>
&lt;li>&lt;code>kubectx&lt;/code> to manage multiple clusters&lt;/li>
&lt;li>&lt;code>kubens&lt;/code> to switch between and configure namespaces easily&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Optional: the &lt;a href="https://k8slens.dev" target="_blank" rel="noopener">k8 Lens IDE&lt;/a>, if you prefer to use Kubernetes graphically&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Also, before you start, confirm you are in the right context and namespace.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## context&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl config current-context
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## namespace&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl get namespace&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>To change the namespace for all subsequent &lt;a href="https://kubernetes.io/docs/reference/kubectl/cheatsheet/" target="_blank" rel="noopener">&lt;code>kubectl&lt;/code> commands&lt;/a> to &lt;code>libre&lt;/code>, run this command:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl config set-context --current --namespace&lt;span class="o">=&lt;/span>libre&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>Steps&lt;span class="hx:absolute hx:-mt-20" id="steps">&lt;/span>
&lt;a href="#steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>To archive the PostgreSQL Audit trail, follow these steps:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Record the &lt;code>&amp;lt;PARTITION_NAME&amp;gt;&lt;/code> of the partition you wish to detach and archive.
This is based on the retention-period query for the names of the existing partitions:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl &lt;span class="nb">exec&lt;/span> -i audit-postgres-0 -- psql -h localhost &lt;span class="se">\ &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -d audit -U &amp;lt;DB_USER&amp;gt; &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -c &lt;span class="s2">&amp;#34;select * from partman.show_partitions(&amp;#39;public.audit_log&amp;#39;)&amp;#34;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Detach the target partitions from the main table:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl &lt;span class="nb">exec&lt;/span> -i audit-postgres-0 -- psql -h localhost &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -d audit -U &amp;lt;DB_USER&amp;gt; &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -c &lt;span class="s1">&amp;#39;alter table audit_log detach partition &amp;lt;PARTITION_NAME&amp;gt;;&amp;#39;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Backup the partition table:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pg_dump -U &amp;lt;DB_USER&amp;gt; -h audit-postgres-0 -p5433 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --file ./audit-p20240101.sql --table public.audit_log_p20240101 audit&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>On success, the backup creates a GZIP file, &lt;code>&amp;lt;PARITION_NAME&amp;gt;.sql&lt;/code>.
To check that the backup succeeded, unzip the files and inspect the data.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Drop the partition table to remove it from the database:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl &lt;span class="nb">exec&lt;/span> -i audit-postgres-0 -- psql -h localhost -d audit &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -U &amp;lt;DB_USER&amp;gt; -c &lt;span class="s1">&amp;#39;drop table &amp;lt;PARTITION_NAME&amp;gt;;&amp;#39;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;h2>Next Steps&lt;span class="hx:absolute hx:-mt-20" id="next-steps">&lt;/span>
&lt;a href="#next-steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>For full backups or Rhize services, read how to back up:
&lt;ul>
&lt;li>&lt;a href="https://docs.rhize.com/versions/v3.2.0/deploy/backup/keycloak/" >Keycloak&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.rhize.com/versions/v3.2.0/deploy/backup/audit/" >The Audit trail&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.rhize.com/versions/v3.2.0/deploy/backup/grafana/" >Grafana&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.rhize.com/versions/v3.2.0/deploy/backup/graphdb/" >The Graph Database&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>Overview: the Rhize API</title><link>https://docs.rhize.com/versions/v3.0.3/how-to/gql/call-the-graphql-api/</link><pubDate>Wed, 22 Nov 2023 09:43:30 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.0.3/how-to/gql/call-the-graphql-api/</guid><description>
&lt;p>In a manufacturing operation, all event data is interrelated.
To make these relations explorable, Rhize stores data in a special-purpose graph database designed to represent all levels of the manufacturing process.
This database is enforced by our ISA-95 schema, the most comprehensive data representation of ISA-95 in the world.&lt;/p>
&lt;p>Rhize exposes this database through a &lt;a href="https://graphql.org/" target="_blank" rel="noopener">GraphQL API&lt;/a>.
Unlike REST, GraphQL requires only one endpoint, and you can define exactly the data that you return for each operation.&lt;/p>
&lt;p>If you are a customer, the best way to learn both GraphQL and ISA-95 modelling is to use the &lt;a href="https://www.apollographql.com/" target="_blank" rel="noopener">Apollo Explorer&lt;/a> for our schema.
However, for newcomers to GraphQL, the flexibility may look overwhelming.
These topics introduce the basics of how to use GraphQL with Rhize&amp;rsquo;s custom database.&lt;/p>
&lt;p>Once you learn how to explore the API, you&amp;rsquo;ll find that the interface is more comfortable and discoverable than a comparable OpenAPI (Swagger) document—and that&amp;rsquo;s before considering the improvements GraphQL brings to precision, performance, and developer experience.&lt;/p>
&lt;h2>Operation types&lt;span class="hx:absolute hx:-mt-20" id="operations">&lt;/span>
&lt;a href="#operations" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>In GraphQL, an &lt;em>operation&lt;/em> is a request to the server.
Rhize supports three types of operations:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>&lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/gql/query/" >Queries&lt;/a>&lt;/strong> return data and subsets of data.&lt;/li>
&lt;li>&lt;strong>&lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/gql/mutate/" >Mutations&lt;/a>&lt;/strong> change the data on the server side.&lt;/li>
&lt;li>&lt;strong>&lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/gql/subscribe/" >Subscriptions&lt;/a>&lt;/strong> notify about data changes in real time.&lt;/li>
&lt;/ul>
&lt;p>For details and examples, refer to their specific documentation pages.&lt;/p>
&lt;h2>Call syntax&lt;span class="hx:absolute hx:-mt-20" id="call-syntax">&lt;/span>
&lt;a href="#call-syntax" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The following sections show you the essential features to make a query.&lt;/p>
&lt;h3>Authenticate&lt;span class="hx:absolute hx:-mt-20" id="authenticate">&lt;/span>
&lt;a href="#authenticate" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>To authenticate your requests, pass a bearer token as an &lt;code>Authorization&lt;/code> header.
Be sure to preface the value with the word &lt;code>Bearer &lt;/code>:&lt;/p>
&lt;figure>&lt;img src="https://docs.rhize.com/images/screenshot-rhize-apollo-auth-headers.png"
alt="Example of how it looks in Apollo explorer" width="50%">
&lt;/figure>
&lt;p>For an overview of how Rhize handles token exchange, read &lt;a href="https://docs.rhize.com/explanations/about-openidconnect/" >About OpenID connect&lt;/a>.&lt;/p>
&lt;h3>Request body&lt;span class="hx:absolute hx:-mt-20" id="request-body">&lt;/span>
&lt;a href="#request-body" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>By default, all GraphQL operations have the following structure:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Define the operation type (one of, &lt;code>query&lt;/code>, &lt;code>mutation&lt;/code>, or &lt;code>subscription&lt;/code>).&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Name the query anything you want. This example builds a &lt;code>query&lt;/code> called &lt;code>myCustomName&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">myCustomName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">#operations will go here&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>In curly brackets, define the &lt;em>operation&lt;/em> you want to query.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>In parenthesis next to the operation, add the &lt;em>arguments&lt;/em> to pass. This example uses the &lt;code>getEquipment&lt;/code> operation, and its arguments specify which item of equipment to get.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">myCustomName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getEquipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Kitchen_mixer_b_01&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">#Fields go here&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Within the operation, define the fields you want to return. This example queries for the equipment ID and the person who created the entity.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">myCustomName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getEquipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Kitchen_mixer_b_01&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">_createdBy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>As you might expect, the request returns only these fields for the equipment named &lt;code>Kitchen_mixer_b_01&lt;/code>.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getEquipment&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Kitchen_mixer_b_01&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;_createdBy&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;john_snow&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;h3>Request exactly the data you want&lt;span class="hx:absolute hx:-mt-20" id="request-exactly-the-data-you-want">&lt;/span>
&lt;a href="#request-exactly-the-data-you-want" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A major benefit of GraphQL is that you can modify queries to return only the fields you want.
You can join data entities in a single query and query for entity relationships in the same way that you would for entity attributes.&lt;/p>
&lt;p>Unlike calls to a REST API, where the server-side code defines what a response looks like, GraphQL calls instruct the server to return only what is specified.
Furthermore, you can query diverse sets of data in one call, so you can get exactly the entities you want without calling multiple endpoints, as you would in REST, or composing queries with complex recursive joins, as you would in SQL.
Besides precision, this also brings performance benefits to minimize network calls and their payloads.&lt;/p>
&lt;p>For example, this expands the fields requested from the previous example.
Besides &lt;code>id&lt;/code> and &lt;code>_createdBy&lt;/code>, it now returns the &lt;code>description&lt;/code>, unique ID, and version information about the requested equipment item:&lt;/p>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">Request&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Response&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">ExampleQuery&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="nc">Equipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">filter&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">eq&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Kitchen_mixer_b_0 1&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">})&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">_createdBy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">versions&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">iid&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">description&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">activeVersion&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">iid&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">description&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-1"
role="tabpanel">&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;queryEquipment&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Kitchen_mixer_b_01&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;_createdBy&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;john_snow&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;versions&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;iid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;0xcc701&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;description&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;First generation of the mixer 9000&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;iid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;0xcc71a&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;description&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Second generation (in testing)&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;activeVersion&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;iid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;0xcc701&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;description&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;First generation of the mixer 9000&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>You can also add multiple operations to one call.
For example, this query requests all data sources and all persons:&lt;/p>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">Request&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Response&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">peopleAndDataSources&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="nc">Person&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">label&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="nc">DataSource&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-1"
role="tabpanel">&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;queryPerson&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;235&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;label&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;John Ramirez&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;234&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;label&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Jan Smith&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;queryDataSource&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;x44_mqtt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;x45_opcUA&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Shortcuts for more expressive requests&lt;span class="hx:absolute hx:-mt-20" id="shortcuts-for-more-expressive-requests">&lt;/span>
&lt;a href="#shortcuts-for-more-expressive-requests" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The following sections provide some common ways to reduce boilerplate and shorten the necessary coding for a call.&lt;/p>
&lt;h3>Make input dynamic with variables&lt;span class="hx:absolute hx:-mt-20" id="variables">&lt;/span>
&lt;a href="#variables" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The preceding examples place the query input as &lt;em>inline&lt;/em> arguments.
Often, calls to production systems separate these arguments out as JSON &lt;em>variables&lt;/em>.&lt;/p>
&lt;p>Variables add dynamism to your requests, which serves to make them more reusable.
For example:&lt;/p>
&lt;ul>
&lt;li>If you build a low-code reporting application, you could use variables to change the arguments based on user input.&lt;/li>
&lt;li>In a BPMN event orchestration, you could use variables to make a GraphQL call based on a previous JSONata filter. Refer to the example, &lt;a href="https://docs.rhize.com/versions/v3.0.3/how-to/bpmn/create-workflow/#write-erp-material-definition-to-database" >Write ERP material definition to DB&lt;/a>.&lt;/li>
&lt;/ul>
&lt;p>For example, this query places the ID of the resource that it requests as an inline variable:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">myCustomName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getEquipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Kitchen_mixer_b_01&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">_createdBy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Instead, you can pass this argument as a variable.
This requires the following changes:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>In the argument for your query, name the variable and state its type.
This instructs the query to receive data from outside of its context:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="c">## Name variable and type&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">myCustomName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$getEquipmentId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">String&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">## operations go here.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>In the operation, pass the variable as a value in the argument.
In this example, add the variable as a value to the &lt;code>id&lt;/code> key like this:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">GetEquipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$getEquipmentId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">String&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">## pass variable to one or more operations&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getEquipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nv">$getEquipmentId&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">## fields go here&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>In a separate &lt;code>variables&lt;/code> section of the query, define the JSON object that is your variable:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getEquipmentId&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Kitchen_mixer_b_01&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">Query&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Mutation&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">GetEquipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$getEquipmentId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">String&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getEquipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nv">$getEquipmentId&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">_createdBy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;strong>Variables&lt;/strong>:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getEquipmentId&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Kitchen_mixer_b_01&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>&lt;/div>
&lt;/div>
&lt;p>The preceding example is minimal, but the use of variables to &lt;em>parameterize&lt;/em> arguments also applies to complex object creation and filtering.
For example, this &lt;em>mutation&lt;/em> uses variables to create an array of Persons:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">mutation&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">AddPerson&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$input&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nc">AddPersonInput&lt;/span>&lt;span class="p">!]!)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">addPerson&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">input&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nv">$input&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">person&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;strong>Variables&lt;/strong>:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;input&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;234&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nt">&amp;#34;label&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;Jan Smith&amp;#34;&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;235&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nt">&amp;#34;label&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;John Ramirez&amp;#34;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>To learn more, read the official GraphQL documentation on &lt;a href="https://graphql.org/learn/queries/#variables" target="_blank" rel="noopener">Variables&lt;/a>.&lt;/p>
&lt;h3>Template requested fields with fragments&lt;span class="hx:absolute hx:-mt-20" id="template-requested-fields-with-fragments">&lt;/span>
&lt;a href="#template-requested-fields-with-fragments" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Along with &lt;a href="#variables" >variables&lt;/a>, you can use &lt;em>fragments&lt;/em> to reduce repetitive writing.&lt;/p>
&lt;p>Fragments are common fields that you use when querying an object.
For example, imagine you wanted to make queries to different equipment objects for their &lt;code>id&lt;/code>, &lt;code>label&lt;/code>, &lt;code>_createdBy&lt;/code>, and &lt;code>versions[]&lt;/code> properties.
Instead of writing these fields in each operation, you could define them in a fragment, and then refer to that fragment in each specific operation or query.&lt;/p>
&lt;p>To use a fragment:&lt;/p>
&lt;ol>
&lt;li>Define them with the &lt;code>fragment&lt;/code> keyword, declaring its name and object.
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">## name ## object&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">fragment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">CommonFields&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">on&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="py">Equipment&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>Include the fragment in the fields for your operation by prefacing its name with three dots:
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;pre>&lt;code>...CommonFields&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;p>For example:&lt;/p>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">Query&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Response&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="c">## Define common fields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">fragment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">CommonFields&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">on&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="py">Equipment&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">label&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">_createdBy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">versions&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">## Use them in your query.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">kitchenEquipment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getEquipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Kitchen_mixer_b_02&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">...&lt;/span>&lt;span class="nc">CommonFields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-1"
role="tabpanel">&lt;p>&lt;strong>Variables:&lt;/strong>&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getEquipment&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Kitchen_mixer_b_02&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;label&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Kitchen mixer B02&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;_createdBy&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;admin@rhize.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;versions&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>&lt;/div>
&lt;/div></description></item><item><title>Overview: the Rhize API</title><link>https://docs.rhize.com/versions/v3.1.0/how-to/gql/call-the-graphql-api/</link><pubDate>Wed, 22 Nov 2023 09:43:30 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.1.0/how-to/gql/call-the-graphql-api/</guid><description>
&lt;p>In a manufacturing operation, all event data is interrelated.
To make these relations explorable, Rhize stores data in a special-purpose graph database designed to represent all levels of the manufacturing process.
This database is enforced by our ISA-95 schema, the most comprehensive data representation of ISA-95 in the world.&lt;/p>
&lt;p>Rhize exposes this database through a &lt;a href="https://graphql.org/" target="_blank" rel="noopener">GraphQL API&lt;/a>.
Unlike REST, GraphQL requires only one endpoint, and you can define exactly the data that you return for each operation.&lt;/p>
&lt;p>If you are a customer, the best way to learn both GraphQL and ISA-95 modelling is to use the &lt;a href="https://www.apollographql.com/" target="_blank" rel="noopener">Apollo Explorer&lt;/a> for our schema.
However, for newcomers to GraphQL, the flexibility may look overwhelming.
These topics introduce the basics of how to use GraphQL with Rhize&amp;rsquo;s custom database.&lt;/p>
&lt;p>Once you learn how to explore the API, you&amp;rsquo;ll find that the interface is more comfortable and discoverable than a comparable OpenAPI (Swagger) document—and that&amp;rsquo;s before considering the improvements GraphQL brings to precision, performance, and developer experience.&lt;/p>
&lt;h2>Operation types&lt;span class="hx:absolute hx:-mt-20" id="operations">&lt;/span>
&lt;a href="#operations" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>In GraphQL, an &lt;em>operation&lt;/em> is a request to the server.
Rhize supports three types of operations:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>&lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/gql/query/" >Queries&lt;/a>&lt;/strong> return data and subsets of data.&lt;/li>
&lt;li>&lt;strong>&lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/gql/mutate/" >Mutations&lt;/a>&lt;/strong> change the data on the server side.&lt;/li>
&lt;li>&lt;strong>&lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/gql/subscribe/" >Subscriptions&lt;/a>&lt;/strong> notify about data changes in real time.&lt;/li>
&lt;/ul>
&lt;p>For details and examples, refer to their specific documentation pages.&lt;/p>
&lt;h2>Call syntax&lt;span class="hx:absolute hx:-mt-20" id="call-syntax">&lt;/span>
&lt;a href="#call-syntax" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The following sections show you the essential features to make a query.&lt;/p>
&lt;h3>Authenticate&lt;span class="hx:absolute hx:-mt-20" id="authenticate">&lt;/span>
&lt;a href="#authenticate" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>To authenticate your requests, pass a bearer token as an &lt;code>Authorization&lt;/code> header.
Be sure to preface the value with the word &lt;code>Bearer &lt;/code>:&lt;/p>
&lt;figure>&lt;img src="https://docs.rhize.com/images/screenshot-rhize-apollo-auth-headers.png"
alt="Example of how it looks in Apollo explorer" width="50%">
&lt;/figure>
&lt;p>For an overview of how Rhize handles token exchange, read &lt;a href="https://docs.rhize.com/explanations/about-openidconnect/" >About OpenID connect&lt;/a>.&lt;/p>
&lt;h3>Request body&lt;span class="hx:absolute hx:-mt-20" id="request-body">&lt;/span>
&lt;a href="#request-body" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>By default, all GraphQL operations have the following structure:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Define the operation type (one of, &lt;code>query&lt;/code>, &lt;code>mutation&lt;/code>, or &lt;code>subscription&lt;/code>).&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Name the query anything you want. This example builds a &lt;code>query&lt;/code> called &lt;code>myCustomName&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">myCustomName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">#operations will go here&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>In curly brackets, define the &lt;em>operation&lt;/em> you want to query.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>In parenthesis next to the operation, add the &lt;em>arguments&lt;/em> to pass. This example uses the &lt;code>getEquipment&lt;/code> operation, and its arguments specify which item of equipment to get.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">myCustomName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getEquipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Kitchen_mixer_b_01&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">#Fields go here&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Within the operation, define the fields you want to return. This example queries for the equipment ID and the person who created the entity.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">myCustomName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getEquipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Kitchen_mixer_b_01&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">_createdBy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>As you might expect, the request returns only these fields for the equipment named &lt;code>Kitchen_mixer_b_01&lt;/code>.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getEquipment&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Kitchen_mixer_b_01&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;_createdBy&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;john_snow&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;h3>Request exactly the data you want&lt;span class="hx:absolute hx:-mt-20" id="request-exactly-the-data-you-want">&lt;/span>
&lt;a href="#request-exactly-the-data-you-want" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A major benefit of GraphQL is that you can modify queries to return only the fields you want.
You can join data entities in a single query and query for entity relationships in the same way that you would for entity attributes.&lt;/p>
&lt;p>Unlike calls to a REST API, where the server-side code defines what a response looks like, GraphQL calls instruct the server to return only what is specified.
Furthermore, you can query diverse sets of data in one call, so you can get exactly the entities you want without calling multiple endpoints, as you would in REST, or composing queries with complex recursive joins, as you would in SQL.
Besides precision, this also brings performance benefits to minimize network calls and their payloads.&lt;/p>
&lt;p>For example, this expands the fields requested from the previous example.
Besides &lt;code>id&lt;/code> and &lt;code>_createdBy&lt;/code>, it now returns the &lt;code>description&lt;/code>, unique ID, and version information about the requested equipment item:&lt;/p>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">Request&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Response&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">ExampleQuery&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="nc">Equipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">filter&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">eq&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Kitchen_mixer_b_0 1&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">})&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">_createdBy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">versions&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">iid&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">description&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">activeVersion&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">iid&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">description&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-1"
role="tabpanel">&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;queryEquipment&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Kitchen_mixer_b_01&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;_createdBy&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;john_snow&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;versions&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;iid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;0xcc701&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;description&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;First generation of the mixer 9000&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;iid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;0xcc71a&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;description&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Second generation (in testing)&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;activeVersion&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;iid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;0xcc701&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;description&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;First generation of the mixer 9000&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>You can also add multiple operations to one call.
For example, this query requests all data sources and all persons:&lt;/p>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">Request&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Response&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">peopleAndDataSources&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="nc">Person&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">label&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="nc">DataSource&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-1"
role="tabpanel">&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;queryPerson&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;235&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;label&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;John Ramirez&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;234&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;label&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Jan Smith&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;queryDataSource&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;x44_mqtt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;x45_opcUA&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Shortcuts for more expressive requests&lt;span class="hx:absolute hx:-mt-20" id="shortcuts-for-more-expressive-requests">&lt;/span>
&lt;a href="#shortcuts-for-more-expressive-requests" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The following sections provide some common ways to reduce boilerplate and shorten the necessary coding for a call.&lt;/p>
&lt;h3>Make input dynamic with variables&lt;span class="hx:absolute hx:-mt-20" id="variables">&lt;/span>
&lt;a href="#variables" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The preceding examples place the query input as &lt;em>inline&lt;/em> arguments.
Often, calls to production systems separate these arguments out as JSON &lt;em>variables&lt;/em>.&lt;/p>
&lt;p>Variables add dynamism to your requests, which serves to make them more reusable.
For example:&lt;/p>
&lt;ul>
&lt;li>If you build a low-code reporting application, you could use variables to change the arguments based on user input.&lt;/li>
&lt;li>In a BPMN event orchestration, you could use variables to make a GraphQL call based on a previous JSONata filter. Refer to the example, &lt;a href="https://docs.rhize.com/versions/v3.1.0/how-to/bpmn/create-workflow/#write-erp-material-definition-to-database" >Write ERP material definition to DB&lt;/a>.&lt;/li>
&lt;/ul>
&lt;p>For example, this query places the ID of the resource that it requests as an inline variable:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">myCustomName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getEquipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Kitchen_mixer_b_01&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">_createdBy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Instead, you can pass this argument as a variable.
This requires the following changes:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>In the argument for your query, name the variable and state its type.
This instructs the query to receive data from outside of its context:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="c">## Name variable and type&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">myCustomName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$getEquipmentId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">String&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">## operations go here.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>In the operation, pass the variable as a value in the argument.
In this example, add the variable as a value to the &lt;code>id&lt;/code> key like this:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">GetEquipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$getEquipmentId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">String&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">## pass variable to one or more operations&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getEquipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nv">$getEquipmentId&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">## fields go here&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>In a separate &lt;code>variables&lt;/code> section of the query, define the JSON object that is your variable:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getEquipmentId&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Kitchen_mixer_b_01&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">Query&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Mutation&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">GetEquipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$getEquipmentId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">String&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getEquipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nv">$getEquipmentId&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">_createdBy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;strong>Variables&lt;/strong>:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getEquipmentId&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Kitchen_mixer_b_01&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>&lt;/div>
&lt;/div>
&lt;p>The preceding example is minimal, but the use of variables to &lt;em>parameterize&lt;/em> arguments also applies to complex object creation and filtering.
For example, this &lt;em>mutation&lt;/em> uses variables to create an array of Persons:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">mutation&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">AddPerson&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$input&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nc">AddPersonInput&lt;/span>&lt;span class="p">!]!)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">addPerson&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">input&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nv">$input&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">person&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;strong>Variables&lt;/strong>:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;input&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;234&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nt">&amp;#34;label&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;Jan Smith&amp;#34;&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;235&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nt">&amp;#34;label&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;John Ramirez&amp;#34;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>To learn more, read the official GraphQL documentation on &lt;a href="https://graphql.org/learn/queries/#variables" target="_blank" rel="noopener">Variables&lt;/a>.&lt;/p>
&lt;h3>Template requested fields with fragments&lt;span class="hx:absolute hx:-mt-20" id="template-requested-fields-with-fragments">&lt;/span>
&lt;a href="#template-requested-fields-with-fragments" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Along with &lt;a href="#variables" >variables&lt;/a>, you can use &lt;em>fragments&lt;/em> to reduce repetitive writing.&lt;/p>
&lt;p>Fragments are common fields that you use when querying an object.
For example, imagine you wanted to make queries to different equipment objects for their &lt;code>id&lt;/code>, &lt;code>label&lt;/code>, &lt;code>_createdBy&lt;/code>, and &lt;code>versions[]&lt;/code> properties.
Instead of writing these fields in each operation, you could define them in a fragment, and then refer to that fragment in each specific operation or query.&lt;/p>
&lt;p>To use a fragment:&lt;/p>
&lt;ol>
&lt;li>Define them with the &lt;code>fragment&lt;/code> keyword, declaring its name and object.
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">## name ## object&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">fragment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">CommonFields&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">on&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="py">Equipment&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>Include the fragment in the fields for your operation by prefacing its name with three dots:
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;pre>&lt;code>...CommonFields&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;p>For example:&lt;/p>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">Query&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Response&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="c">## Define common fields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">fragment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">CommonFields&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">on&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="py">Equipment&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">label&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">_createdBy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">versions&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">## Use them in your query.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">kitchenEquipment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getEquipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Kitchen_mixer_b_02&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">...&lt;/span>&lt;span class="nc">CommonFields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-1"
role="tabpanel">&lt;p>&lt;strong>Variables:&lt;/strong>&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getEquipment&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Kitchen_mixer_b_02&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;label&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Kitchen mixer B02&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;_createdBy&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;admin@rhize.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;versions&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>&lt;/div>
&lt;/div></description></item><item><title>Overview: the Rhize API</title><link>https://docs.rhize.com/versions/v3.2.0/how-to/gql/call-the-graphql-api/</link><pubDate>Wed, 22 Nov 2023 09:43:30 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.2.0/how-to/gql/call-the-graphql-api/</guid><description>
&lt;p>In a manufacturing operation, all event data is interrelated.
To make these relations explorable, Rhize stores data in a special-purpose graph database designed to represent all levels of the manufacturing process.
This database is enforced by our ISA-95 schema, the most comprehensive data representation of ISA-95 in the world.&lt;/p>
&lt;p>Rhize exposes this database through a &lt;a href="https://graphql.org/" target="_blank" rel="noopener">GraphQL API&lt;/a>.
Unlike REST, GraphQL requires only one endpoint, and you can define exactly the data that you return for each operation.&lt;/p>
&lt;p>If you are a customer, the best way to learn both GraphQL and ISA-95 modelling is to use the &lt;a href="https://www.apollographql.com/" target="_blank" rel="noopener">Apollo Explorer&lt;/a> for our schema.
However, for newcomers to GraphQL, the flexibility may look overwhelming.
These topics introduce the basics of how to use GraphQL with Rhize&amp;rsquo;s custom database.&lt;/p>
&lt;p>Once you learn how to explore the API, you&amp;rsquo;ll find that the interface is more comfortable and discoverable than a comparable OpenAPI (Swagger) document—and that&amp;rsquo;s before considering the improvements GraphQL brings to precision, performance, and developer experience.&lt;/p>
&lt;h2>Operation types&lt;span class="hx:absolute hx:-mt-20" id="operations">&lt;/span>
&lt;a href="#operations" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>In GraphQL, an &lt;em>operation&lt;/em> is a request to the server.
Rhize supports three types of operations:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>&lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/gql/query/" >Queries&lt;/a>&lt;/strong> return data and subsets of data.&lt;/li>
&lt;li>&lt;strong>&lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/gql/mutate/" >Mutations&lt;/a>&lt;/strong> change the data on the server side.&lt;/li>
&lt;li>&lt;strong>&lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/gql/subscribe/" >Subscriptions&lt;/a>&lt;/strong> notify about data changes in real time.&lt;/li>
&lt;/ul>
&lt;p>For details and examples, refer to their specific documentation pages.&lt;/p>
&lt;h2>Call syntax&lt;span class="hx:absolute hx:-mt-20" id="call-syntax">&lt;/span>
&lt;a href="#call-syntax" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The following sections show you the essential features to make a query.&lt;/p>
&lt;h3>Authenticate&lt;span class="hx:absolute hx:-mt-20" id="authenticate">&lt;/span>
&lt;a href="#authenticate" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>To authenticate your requests, pass a bearer token as an &lt;code>Authorization&lt;/code> header.
Be sure to preface the value with the word &lt;code>Bearer &lt;/code>:&lt;/p>
&lt;figure>&lt;img src="https://docs.rhize.com/images/screenshot-rhize-apollo-auth-headers.png"
alt="Example of how it looks in Apollo explorer" width="50%">
&lt;/figure>
&lt;p>For an overview of how Rhize handles token exchange, read &lt;a href="https://docs.rhize.com/explanations/about-openidconnect/" >About OpenID connect&lt;/a>.&lt;/p>
&lt;h3>Request body&lt;span class="hx:absolute hx:-mt-20" id="request-body">&lt;/span>
&lt;a href="#request-body" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>By default, all GraphQL operations have the following structure:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Define the operation type (one of, &lt;code>query&lt;/code>, &lt;code>mutation&lt;/code>, or &lt;code>subscription&lt;/code>).&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Name the query anything you want. This example builds a &lt;code>query&lt;/code> called &lt;code>myCustomName&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">myCustomName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">#operations will go here&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>In curly brackets, define the &lt;em>operation&lt;/em> you want to query.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>In parenthesis next to the operation, add the &lt;em>arguments&lt;/em> to pass. This example uses the &lt;code>getEquipment&lt;/code> operation, and its arguments specify which item of equipment to get.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">myCustomName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getEquipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Kitchen_mixer_b_01&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">#Fields go here&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Within the operation, define the fields you want to return. This example queries for the equipment ID and the person who created the entity.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">myCustomName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getEquipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Kitchen_mixer_b_01&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">_createdBy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>As you might expect, the request returns only these fields for the equipment named &lt;code>Kitchen_mixer_b_01&lt;/code>.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getEquipment&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Kitchen_mixer_b_01&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;_createdBy&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;john_snow&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;h3>Request exactly the data you want&lt;span class="hx:absolute hx:-mt-20" id="request-exactly-the-data-you-want">&lt;/span>
&lt;a href="#request-exactly-the-data-you-want" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A major benefit of GraphQL is that you can modify queries to return only the fields you want.
You can join data entities in a single query and query for entity relationships in the same way that you would for entity attributes.&lt;/p>
&lt;p>Unlike calls to a REST API, where the server-side code defines what a response looks like, GraphQL calls instruct the server to return only what is specified.
Furthermore, you can query diverse sets of data in one call, so you can get exactly the entities you want without calling multiple endpoints, as you would in REST, or composing queries with complex recursive joins, as you would in SQL.
Besides precision, this also brings performance benefits to minimize network calls and their payloads.&lt;/p>
&lt;p>For example, this expands the fields requested from the previous example.
Besides &lt;code>id&lt;/code> and &lt;code>_createdBy&lt;/code>, it now returns the &lt;code>description&lt;/code>, unique ID, and version information about the requested equipment item:&lt;/p>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">Request&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Response&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">ExampleQuery&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="nc">Equipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">filter&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">eq&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Kitchen_mixer_b_0 1&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">})&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">_createdBy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">versions&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">iid&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">description&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">activeVersion&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">iid&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">description&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-1"
role="tabpanel">&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;queryEquipment&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Kitchen_mixer_b_01&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;_createdBy&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;john_snow&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;versions&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;iid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;0xcc701&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;description&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;First generation of the mixer 9000&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;iid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;0xcc71a&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;description&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Second generation (in testing)&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;activeVersion&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;iid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;0xcc701&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;description&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;First generation of the mixer 9000&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>You can also add multiple operations to one call.
For example, this query requests all data sources and all persons:&lt;/p>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">Request&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Response&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">peopleAndDataSources&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="nc">Person&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">label&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="nc">DataSource&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-1"
role="tabpanel">&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;queryPerson&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;235&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;label&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;John Ramirez&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;234&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;label&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Jan Smith&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;queryDataSource&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;x44_mqtt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;x45_opcUA&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Shortcuts for more expressive requests&lt;span class="hx:absolute hx:-mt-20" id="shortcuts-for-more-expressive-requests">&lt;/span>
&lt;a href="#shortcuts-for-more-expressive-requests" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The following sections provide some common ways to reduce boilerplate and shorten the necessary coding for a call.&lt;/p>
&lt;h3>Make input dynamic with variables&lt;span class="hx:absolute hx:-mt-20" id="variables">&lt;/span>
&lt;a href="#variables" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The preceding examples place the query input as &lt;em>inline&lt;/em> arguments.
Often, calls to production systems separate these arguments out as JSON &lt;em>variables&lt;/em>.&lt;/p>
&lt;p>Variables add dynamism to your requests, which serves to make them more reusable.
For example:&lt;/p>
&lt;ul>
&lt;li>If you build a low-code reporting application, you could use variables to change the arguments based on user input.&lt;/li>
&lt;li>In a BPMN event orchestration, you could use variables to make a GraphQL call based on a previous JSONata filter. Refer to the example, &lt;a href="https://docs.rhize.com/versions/v3.2.0/how-to/bpmn/create-workflow/#write-erp-material-definition-to-database" >Write ERP material definition to DB&lt;/a>.&lt;/li>
&lt;/ul>
&lt;p>For example, this query places the ID of the resource that it requests as an inline variable:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">myCustomName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getEquipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Kitchen_mixer_b_01&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">_createdBy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Instead, you can pass this argument as a variable.
This requires the following changes:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>In the argument for your query, name the variable and state its type.
This instructs the query to receive data from outside of its context:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="c">## Name variable and type&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">myCustomName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$getEquipmentId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">String&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">## operations go here.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>In the operation, pass the variable as a value in the argument.
In this example, add the variable as a value to the &lt;code>id&lt;/code> key like this:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">GetEquipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$getEquipmentId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">String&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">## pass variable to one or more operations&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getEquipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nv">$getEquipmentId&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">## fields go here&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>In a separate &lt;code>variables&lt;/code> section of the query, define the JSON object that is your variable:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getEquipmentId&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Kitchen_mixer_b_01&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">Query&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Mutation&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">GetEquipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$getEquipmentId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">String&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getEquipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nv">$getEquipmentId&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">_createdBy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;strong>Variables&lt;/strong>:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getEquipmentId&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Kitchen_mixer_b_01&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>&lt;/div>
&lt;/div>
&lt;p>The preceding example is minimal, but the use of variables to &lt;em>parameterize&lt;/em> arguments also applies to complex object creation and filtering.
For example, this &lt;em>mutation&lt;/em> uses variables to create an array of Persons:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">mutation&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">AddPerson&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$input&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nc">AddPersonInput&lt;/span>&lt;span class="p">!]!)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">addPerson&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">input&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nv">$input&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">person&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nc">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;strong>Variables&lt;/strong>:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;input&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;234&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nt">&amp;#34;label&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;Jan Smith&amp;#34;&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;235&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nt">&amp;#34;label&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;John Ramirez&amp;#34;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>To learn more, read the official GraphQL documentation on &lt;a href="https://graphql.org/learn/queries/#variables" target="_blank" rel="noopener">Variables&lt;/a>.&lt;/p>
&lt;h3>Template requested fields with fragments&lt;span class="hx:absolute hx:-mt-20" id="template-requested-fields-with-fragments">&lt;/span>
&lt;a href="#template-requested-fields-with-fragments" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Along with &lt;a href="#variables" >variables&lt;/a>, you can use &lt;em>fragments&lt;/em> to reduce repetitive writing.&lt;/p>
&lt;p>Fragments are common fields that you use when querying an object.
For example, imagine you wanted to make queries to different equipment objects for their &lt;code>id&lt;/code>, &lt;code>label&lt;/code>, &lt;code>_createdBy&lt;/code>, and &lt;code>versions[]&lt;/code> properties.
Instead of writing these fields in each operation, you could define them in a fragment, and then refer to that fragment in each specific operation or query.&lt;/p>
&lt;p>To use a fragment:&lt;/p>
&lt;ol>
&lt;li>Define them with the &lt;code>fragment&lt;/code> keyword, declaring its name and object.
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">## name ## object&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">fragment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">CommonFields&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">on&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="py">Equipment&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>Include the fragment in the fields for your operation by prefacing its name with three dots:
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;pre>&lt;code>...CommonFields&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;p>For example:&lt;/p>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">Query&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">Response&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-graphql" data-lang="graphql">&lt;span class="line">&lt;span class="cl">&lt;span class="c">## Define common fields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">fragment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">CommonFields&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">on&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="py">Equipment&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">label&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">_createdBy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">versions&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">## Use them in your query.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">query&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nc">kitchenEquipment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="py">getEquipment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="py">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Kitchen_mixer_b_02&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">...&lt;/span>&lt;span class="nc">CommonFields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-1"
role="tabpanel">&lt;p>&lt;strong>Variables:&lt;/strong>&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;getEquipment&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Kitchen_mixer_b_02&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;label&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Kitchen mixer B02&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;_createdBy&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;admin@rhize.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;versions&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>&lt;/div>
&lt;/div></description></item><item><title>Master definitions and fields</title><link>https://docs.rhize.com/versions/v3.0.3/how-to/model/master-definitions/</link><pubDate>Wed, 15 Nov 2023 16:29:21 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.0.3/how-to/model/master-definitions/</guid><description>
&lt;p>To make a production object visible to the Rhize data hub, you must define it as a data model.&lt;/p>
&lt;p>These sections document all the objects that you can add through the UI, and the fields and properties that you can associate with them.
All these models are based on the ISA-95 standard, mostly from &lt;a href="https://www.isa.org/products/ansi-isa-95-00-02-2018-enterprise-control-system-i" target="_blank" rel="noopener">Part 2&lt;/a>, which describes the role-based equipment hierarchy.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">&lt;ul>
&lt;li>For an introduction to the language of ISA-95, read &lt;a href="https://docs.rhize.com/isa-95/how-to-speak-isa-95/" >How to speak ISA-95&lt;/a>&lt;/li>
&lt;li>For visual examples of how some of these models relate,
look at our page of &lt;a href="https://docs.rhize.com/versions/v3.0.3/isa-95/isa-95-diagrams/" >ISA-95 Diagrams&lt;/a>.&lt;/li>
&lt;/ul>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Global object fields&lt;span class="hx:absolute hx:-mt-20" id="global-object-fields">&lt;/span>
&lt;a href="#global-object-fields" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>All objects that you define must have a unique name.
Additionally, most objects have the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Global field&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Version&lt;/td>
&lt;td>The version of the object (and each version has a &lt;a href="#version-states" >state&lt;/a>)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Description&lt;/td>
&lt;td>Freeform text to describe what the object does and help colleagues understand its role&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Version states&lt;span class="hx:absolute hx:-mt-20" id="version-states">&lt;/span>
&lt;a href="#version-states" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Each version of an object can have the following states:&lt;/p>
&lt;ul>
&lt;li>&lt;code>Draft&lt;/code>&lt;/li>
&lt;li>&lt;code>Active&lt;/code>&lt;/li>
&lt;li>&lt;code>For review&lt;/code>&lt;/li>
&lt;li>&lt;code>Deprecated&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">When recording actual execution, what matters is version of the object, not its general definition.
Thus, &lt;strong>to add a class to an object, you must give that object a version first.&lt;/strong>&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Common models&lt;span class="hx:absolute hx:-mt-20" id="common-models">&lt;/span>
&lt;a href="#common-models" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;em>Common models&lt;/em> are data objects that can apply to different resources in your manufacturing process&lt;/p>
&lt;h3>Units of Measure&lt;span class="hx:absolute hx:-mt-20" id="uom">&lt;/span>
&lt;a href="#uom" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>Unit of measure&lt;/em> is a defined unit to consistently compare values, duration or quantities.&lt;/p>
&lt;p>You can create units of measure in the UI and give them the following parameters:&lt;/p>
&lt;ul>
&lt;li>Name&lt;/li>
&lt;li>Data type&lt;/li>
&lt;/ul>
&lt;h3>Data Sources&lt;span class="hx:absolute hx:-mt-20" id="data-sources">&lt;/span>
&lt;a href="#data-sources" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>data source&lt;/em> is a source of real-time data that is collected by the Rhize agent.
For example, in a baking process, a data source might be an OPC UA server that sends readings from an oven thermometer.&lt;/p>
&lt;p>The general fields for a data source are as follows:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Connection string&lt;/td>
&lt;td>A string to specify information about the data source and the way to connect to it&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>The Data source protocol&lt;/td>
&lt;td>Either &lt;code>MQTT&lt;/code> or &lt;code>OPCUA&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>username&lt;/td>
&lt;td>If needed, username for &lt;a href="https://docs.rhize.com/versions/v3.0.3/reference/service-config/" >Agent authentication&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>password&lt;/td>
&lt;td>If needed, password for &lt;a href="https://docs.rhize.com/versions/v3.0.3/reference/service-config/" >Agent authentication&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>certificate&lt;/td>
&lt;td>If needed, certificate for &lt;a href="https://docs.rhize.com/versions/v3.0.3/reference/service-config/" >Agent authentication&lt;/a>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Additionally, each data source can have &lt;em>topics&lt;/em> that Rhize should be able to subscribe to.
Each topic has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Topic field&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Data type&lt;/td>
&lt;td>The data type Rhize expects to find when it receives data from that topic&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Deduplication key&lt;/td>
&lt;td>The field that NATS uses to de-duplicate messages from multiple data sources.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Label&lt;/td>
&lt;td>The name of the topic on the side of the data source&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Description&lt;/td>
&lt;td>A freeform text field to add context&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Some data sources, such as OPC UA, have methods for RPC calls.&lt;/p>
&lt;h3>Hierarchy Scope&lt;span class="hx:absolute hx:-mt-20" id="hierarchy-scope">&lt;/span>
&lt;a href="#hierarchy-scope" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The &lt;em>hierarchy scope&lt;/em> represents the scope within which data information is exchanged.
It provides a flexible way to group entities and data outside of the scope defined by the role-based equipment hierarchy.&lt;/p>
&lt;h2>Resource models&lt;span class="hx:absolute hx:-mt-20" id="resource-models">&lt;/span>
&lt;a href="#resource-models" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;em>Resource models&lt;/em> are data objects that have a specific role in your role-based equipment hierarchy.&lt;/p>
&lt;h3>Equipment class&lt;span class="hx:absolute hx:-mt-20" id="equipment-class">&lt;/span>
&lt;a href="#equipment-class" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>An &lt;em>equipment class&lt;/em> is a grouping of &lt;a href="#equipment" >equipment&lt;/a> for a definite purpose.
For example, in a baking process, an equipment class might be the category of all ovens, with properties such as &lt;code>maximum temperature&lt;/code> and &lt;code>number of shelves&lt;/code>.&lt;/p>
&lt;!---
Equipment has **Rules**, which... -->
&lt;p>Along with the &lt;a href="#global-object-fields" >Global properties&lt;/a>, an equipment class can include an indefinite number of properties with the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Properties&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Name&lt;/td>
&lt;td>Name of the property&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Description&lt;/td>
&lt;td>A freeform text to describe the property&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Unit of measure&lt;/td>
&lt;td>The property &lt;a href="#uom" >unit of measure&lt;/a>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;!--
| Expression | | -->
&lt;h3>Equipment&lt;span class="hx:absolute hx:-mt-20" id="equipment">&lt;/span>
&lt;a href="#equipment" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A piece of &lt;em>equipment&lt;/em> is a tool with a defined role in a &lt;a href="#process-segment" >process segment&lt;/a>.
For example, in a baking process, equipment might be a specific brownie oven.&lt;/p>
&lt;p>Equipment also might be part of hierarchy of levels, starting with Enterprise and ending with granular levels such as &lt;code>WorkUnit&lt;/code>.&lt;/p>
&lt;p>Along with the following fields, you can also connect an equipment item to a &lt;a href="#data-source" >data source&lt;/a>, add additional properties, and toggle it to be active or inactive.&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
an
equipment object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General equipment fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Equipment class&lt;/td>
&lt;td>The &lt;a href="#equipment-class" >class of equipment&lt;/a> that it belongs to.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Equipment level&lt;/td>
&lt;td>Associated level for the equipment. One of: &lt;code>Enterprise&lt;/code>, &lt;code>Site&lt;/code>, &lt;code>Area&lt;/code>, &lt;code>ProcessCell&lt;/code>, &lt;code>Unit&lt;/code>, &lt;code>ProductionLine&lt;/code>, &lt;code>WorkCell&lt;/code>, &lt;code>ProductionUnit&lt;/code>, &lt;code>Warehouse&lt;/code>, &lt;code>StorageZone&lt;/code>, &lt;code>StorageUnit&lt;/code>, &lt;code>WorkCenter&lt;/code>, &lt;code>WorkUnit&lt;/code>, &lt;code>EquipmentModule&lt;/code>, &lt;code>ControlModule&lt;/code>, &lt;code>Other&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Material Class&lt;span class="hx:absolute hx:-mt-20" id="material-class">&lt;/span>
&lt;a href="#material-class" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>material class&lt;/em> is a group of material with a shared purpose in the manufacturing process.&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
a
material-class object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Assembly type&lt;/td>
&lt;td>Can be one of: &lt;ul type="a">&lt;li>&lt;code>Logical&lt;/code>: the components of the material are not necessarily physically connected&lt;/li>&lt;li>&lt;code>Physical&lt;/code>: the components of the material are physically connected or in the same location&lt;/li>&lt;ul>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Relationship&lt;/td>
&lt;td>Can be one of: &lt;ul type="a">&lt;li>&lt;code>Permanent&lt;/code>, if a material that can&amp;rsquo;t be split from the production process&lt;/li>&lt;li> &lt;code>Transient&lt;/code>, for temporary material in assembly, such as a pallet&lt;/li>&lt;/ul>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Hierarchy scope&lt;/td>
&lt;td>The &lt;a href="#hierarchy-scope" >hierarchy scope&lt;/a> that material class belongs to&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Includes properties of&lt;/td>
&lt;td>One or more material classes that a version inherits properties from&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Is assembled from&lt;/td>
&lt;td>Material classes that make this material&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Material classes may have an indefinite number of properties with parameters for the following fields:&lt;/p>
&lt;ul>
&lt;li>Value&lt;/li>
&lt;li>&lt;a href="#uom" >Unit of measure&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3>Material definition&lt;span class="hx:absolute hx:-mt-20" id="material-definition">&lt;/span>
&lt;a href="#material-definition" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Materials&lt;/em> are everything required to produce a finished good.
They include raw materials, intermediate materials, and collections of parts.&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
a
material object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Material class&lt;/td>
&lt;td>One or more &lt;a href="#material-class" >material classes&lt;/a> that a version inherits properties from&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Materials may have an indefinite number of properties with parameters for the following fields:&lt;/p>
&lt;ul>
&lt;li>Value&lt;/li>
&lt;li>&lt;a href="#uom" >Unit of measure&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3>Personnel Class&lt;span class="hx:absolute hx:-mt-20" id="personnel-class">&lt;/span>
&lt;a href="#personnel-class" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>personnel class&lt;/em> is a grouping of persons whose work shares a definite purpose in the manufacturing process.
In a baking process, an example of a personnel class may be &lt;code>oven_operators&lt;/code>.&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
a
personnel-class object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Hierarchy scope&lt;/td>
&lt;td>The &lt;a href="#hierarchy-scope" >hierarchy scope&lt;/a> within which this personnel exchanges data&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Person&lt;span class="hx:absolute hx:-mt-20" id="person">&lt;/span>
&lt;a href="#person" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>person&lt;/em> is a unique member of &lt;a href="#personnel-class" >personnel class&lt;/a>.&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
a
person object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Name&lt;/td>
&lt;td>The name of the person&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Hierarchy scope&lt;/td>
&lt;td>The &lt;a href="#hierarchy-scope" >hierarchy scope&lt;/a> that the person belongs to&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Inherit personnel classes&lt;/td>
&lt;td>One or more personnel classes that a version inherits properties from&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Operational location&lt;/td>
&lt;td>The associated &lt;a href="#operational-location" >Operational location&lt;/a>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Physical asset class&lt;span class="hx:absolute hx:-mt-20" id="physical-asset-class">&lt;/span>
&lt;a href="#physical-asset-class" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>physical asset class&lt;/em> is a class of &lt;a href="#physical-assets" >physical assets&lt;/a>.&lt;/p>
&lt;p>The physical asset class has properties for:&lt;/p>
&lt;ul>
&lt;li>ClassType&lt;/li>
&lt;li>Value&lt;/li>
&lt;li>Unit of measure&lt;/li>
&lt;/ul>
&lt;h3>Physical Asset&lt;span class="hx:absolute hx:-mt-20" id="physical-asset">&lt;/span>
&lt;a href="#physical-asset" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>physical asset&lt;/em> is portable or swappable equipment.
In a baking process, a physical asset might be the laser jet printer which adds labels to the boxes (and could be used in many segments across the plant).&lt;/p>
&lt;p>In many cases, your process may need to model only &lt;a href="#equipment" >equipment&lt;/a>, not physical assets.&lt;/p>
&lt;h3>Operational Location Class&lt;span class="hx:absolute hx:-mt-20" id="operational-location-class">&lt;/span>
&lt;a href="#operational-location-class" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>An &lt;em>operational location&lt;/em> class is a grouping of &lt;a href="#operational-location" >operational locations&lt;/a> for a defined purpose.
For example, in a baking process, an operational location class may be &lt;code>Kitchens&lt;/code>&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
an
operational-location-class object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Hierarchy scope&lt;/td>
&lt;td>The &lt;a href="#hierarchy-scope" >hierarchy scope&lt;/a> within which this location exchanges data&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Inherit Operational location class&lt;/td>
&lt;td>One or more Operational location classes that a version inherits properties from&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Operational Location&lt;span class="hx:absolute hx:-mt-20" id="operational-location">&lt;/span>
&lt;a href="#operational-location" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>An &lt;em>operational location&lt;/em> is where resources are expected to be located in a plant.
For example, in a baking process, an operational location class may be &lt;code>northwing_kitchen_A&lt;/code>&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
an
operational-location object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Hierarchy scope&lt;/td>
&lt;td>The &lt;a href="#hierarchy-scope" >hierarchy scope&lt;/a> within which this location exchanges data&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Operational location classes&lt;/td>
&lt;td>Zero or more &lt;a href="#operational-location-class" >operational location classes&lt;/a> that a version inherits properties from&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Map view&lt;/td>
&lt;td>Where the location is on the map&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2>Operation models&lt;span class="hx:absolute hx:-mt-20" id="operation-models">&lt;/span>
&lt;a href="#operation-models" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;em>Operation models&lt;/em> are data objects that describe manufacturing processes from the perspective of the level-4 (ERP) systems.&lt;/p>
&lt;h3>Process segment&lt;span class="hx:absolute hx:-mt-20" id="process-segment">&lt;/span>
&lt;a href="#process-segment" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>process segment&lt;/em> is a step in a manufacturing activity that is visible to a business process, grouping the necessary personnel, material, equipment, and physical assets.
In a baking process, an example segment might be &lt;code>mixing&lt;/code>.&lt;/p>
&lt;p>You can associate specifications for:&lt;/p>
&lt;ul>
&lt;li>Equipment, Material, Personnel, and Physical Assets&lt;/li>
&lt;/ul>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
a
process-segment object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Operations type&lt;/td>
&lt;td>One of: &lt;code> Inventory&lt;/code>, &lt;code>maintenance&lt;/code>, &lt;code>mixed&lt;/code>, &lt;code>production&lt;/code>, &lt;code>quality&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Definition type&lt;/td>
&lt;td>One of: &lt;code>Instance&lt;/code>, &lt;code>Pattern&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Duration&lt;/td>
&lt;td>The expected duration&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Duration unit of measure&lt;/td>
&lt;td>The time &lt;a href="#uom" >unit of measure&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Hierarchy scope&lt;/td>
&lt;td>The &lt;a href="#hierarchy-scope" >hierarchy scope&lt;/a> within which data is exchanged for this process segment&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>You can add additional parameters for:&lt;/p>
&lt;ul>
&lt;li>Name&lt;/li>
&lt;li>Value&lt;/li>
&lt;li>Unit of measure&lt;/li>
&lt;/ul>
&lt;h3>Operations Definition&lt;span class="hx:absolute hx:-mt-20" id="operations-definition">&lt;/span>
&lt;a href="#operations-definition" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Operations Definitions&lt;/em> describe how resources come together to manufacture product from the perspective of
the level-4 (ERP) systems.&lt;/p>
&lt;p>The operation model carries enough detail to plan the work at resolutions of hours and days. For more granularity, refer to &lt;a href="#work-models" >work models&lt;/a>.&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
an
operations-definition object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Operation type&lt;/td>
&lt;td>One of: &lt;code> Inventory&lt;/code>, &lt;code>maintenance&lt;/code>, &lt;code>mixed&lt;/code>, &lt;code>production&lt;/code>, &lt;code>quality&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Hierarchy scope&lt;/td>
&lt;td>The &lt;a href="#hierarchy-scope" >hierarchy scope&lt;/a> within which data is exchanged for this operations definition&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Operations event class&lt;span class="hx:absolute hx:-mt-20" id="operations-event-class">&lt;/span>
&lt;a href="#operations-event-class" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>An &lt;em>operations event class&lt;/em> defines a class of operations events within some hierarchy.&lt;/p>
&lt;p>The class has the following properties:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Version&lt;/strong>&lt;/li>
&lt;li>&lt;strong>Operations event classes,&lt;/strong> defining one or more operations event classes that a version inherits properties from&lt;/li>
&lt;/ul>
&lt;h3>Operations event definition&lt;span class="hx:absolute hx:-mt-20" id="operations-event-definition">&lt;/span>
&lt;a href="#operations-event-definition" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>An &lt;em>operations event definition&lt;/em> defines the properties that pertain to an &lt;em>event&lt;/em> from the perspective of the level-4 (ERP) systems.
Along with the event itself, it may have associated resources, such as material lots or physical assets received.&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
an
operations-event-definition object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Field&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Category&lt;/td>
&lt;td>A string that can be used to group the event&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Source&lt;/td>
&lt;td>The activity, function, task or phase that generated the event.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Event type&lt;/td>
&lt;td>One of: &lt;ul type="A">&lt;li>&lt;code>Alert&lt;/code>, an potentially significant event, such as a workflow trigger, that does not require notification&lt;/li>&lt;li> &lt;code>Alarm&lt;/code>, an event that requires notification&lt;/li> &lt;li>&lt;code>Event&lt;/code>, any other event that is not at the level of alarm or alert&lt;/li>&lt;/ul>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Operations event classes&lt;/td>
&lt;td>One or more &lt;a href="#operations-event-class" >operations event classes&lt;/a> that a version definition inherits properties from.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2>Work models&lt;span class="hx:absolute hx:-mt-20" id="work-models">&lt;/span>
&lt;a href="#work-models" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;em>Work models&lt;/em> describe how the resources come together to manufacture product from the perspective of level-3 (MES) systems.
As with &lt;a href="#operations-models" >Operations models&lt;/a>,
the steps in the process are called &lt;em>segments&lt;/em>.&lt;/p>
&lt;p>The work model carries enough detail to plan the work at resolutions of hours and minutes. For less granularity, refer to &lt;a href="#operations-definitions" >operations definitions&lt;/a>.&lt;/p>
&lt;h3>Work Master&lt;span class="hx:absolute hx:-mt-20" id="work-master">&lt;/span>
&lt;a href="#work-master" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>work master&lt;/em> is a template for a job order from the perspective of the level-3 (MES/MOM) systems.
In a baking process, an example work master might be &lt;code>Brownie Recipe&lt;/code>.&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
a
work-master object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Workflow type&lt;/td>
&lt;td>One of: &lt;code> Inventory&lt;/code>, &lt;code>maintenance&lt;/code>, &lt;code>mixed&lt;/code>, &lt;code>production&lt;/code>, &lt;code>quality&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Workflow specification&lt;/td>
&lt;td>An associated BPMN workflow&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Work calendar&lt;span class="hx:absolute hx:-mt-20" id="work-calendar">&lt;/span>
&lt;a href="#work-calendar" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Work calendars&lt;/em> describe a set of rules for specific calendar entries, including duration, start and end dates, and times.&lt;/p>
&lt;p>The general fields for a calendar duration are as follows:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Description&lt;/td>
&lt;td>A description of the work calendar&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Hierarchy scope&lt;/td>
&lt;td>The &lt;a href="#hierarchy-scope" >hierarchy scope&lt;/a> that defines scope of data exchanged for the calendar entries&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>The work calendar can have properties with a &lt;code>description&lt;/code>, &lt;code>value&lt;/code>, and &lt;a href="#uom" >&lt;code>unit of measure&lt;/code>&lt;/a>.&lt;/p>
&lt;p>The work calendar object can have one or more &lt;em>entries&lt;/em>, which define the start, end, duration, and recurrence of a rule.
The duration and recurrence attributes for a time-based rule are represented by the &lt;a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank" rel="noopener">ISO 8601&lt;/a> standard.
The attributes for an entry are as follows:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Entry fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Description&lt;/td>
&lt;td>Freeform text that describes the entry&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Type&lt;/td>
&lt;td>One of: &lt;code>PlannedBusyTime&lt;/code>, &lt;code>PlannedDownTime&lt;/code>, and &lt;code>PlannedShutdown&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Start date and time&lt;/td>
&lt;td>When the entry starts&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>End date and time&lt;/td>
&lt;td>When the entry finishes&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Recurrence time interval&lt;/td>
&lt;td>How often the entry repeats according to the &lt;a href="https://en.wikipedia.org/wiki/ISO_8601#Repeating_intervals" target="_blank" rel="noopener">repeating interval representation&lt;/a> of IS0 8601&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Duration rule&lt;/td>
&lt;td>How long the work calendar lasts, according to the &lt;a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank" rel="noopener">Duration representation&lt;/a> of IS0 8601.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>Master definitions and fields</title><link>https://docs.rhize.com/versions/v3.1.0/how-to/model/master-definitions/</link><pubDate>Wed, 15 Nov 2023 16:29:21 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.1.0/how-to/model/master-definitions/</guid><description>
&lt;p>To make a production object visible to the Rhize data hub, you must define it as a data model.&lt;/p>
&lt;p>These sections document all the objects that you can add through the UI, and the fields and properties that you can associate with them.
All these models are based on the ISA-95 standard, mostly from &lt;a href="https://www.isa.org/products/ansi-isa-95-00-02-2018-enterprise-control-system-i" target="_blank" rel="noopener">Part 2&lt;/a>, which describes the role-based equipment hierarchy.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">&lt;ul>
&lt;li>For an introduction to the language of ISA-95, read &lt;a href="https://docs.rhize.com/isa-95/how-to-speak-isa-95/" >How to speak ISA-95&lt;/a>&lt;/li>
&lt;li>For visual examples of how some of these models relate,
look at our page of &lt;a href="https://docs.rhize.com/versions/v3.1.0/isa-95/isa-95-diagrams/" >ISA-95 Diagrams&lt;/a>.&lt;/li>
&lt;/ul>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Global object fields&lt;span class="hx:absolute hx:-mt-20" id="global-object-fields">&lt;/span>
&lt;a href="#global-object-fields" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>All objects that you define must have a unique name.
Additionally, most objects have the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Global field&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Version&lt;/td>
&lt;td>The version of the object (and each version has a &lt;a href="#version-states" >state&lt;/a>)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Description&lt;/td>
&lt;td>Freeform text to describe what the object does and help colleagues understand its role&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Version states&lt;span class="hx:absolute hx:-mt-20" id="version-states">&lt;/span>
&lt;a href="#version-states" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Each version of an object can have the following states:&lt;/p>
&lt;ul>
&lt;li>&lt;code>Draft&lt;/code>&lt;/li>
&lt;li>&lt;code>Active&lt;/code>&lt;/li>
&lt;li>&lt;code>For review&lt;/code>&lt;/li>
&lt;li>&lt;code>Deprecated&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">When recording actual execution, what matters is version of the object, not its general definition.
Thus, &lt;strong>to add a class to an object, you must give that object a version first.&lt;/strong>&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Common models&lt;span class="hx:absolute hx:-mt-20" id="common-models">&lt;/span>
&lt;a href="#common-models" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;em>Common models&lt;/em> are data objects that can apply to different resources in your manufacturing process&lt;/p>
&lt;h3>Units of Measure&lt;span class="hx:absolute hx:-mt-20" id="uom">&lt;/span>
&lt;a href="#uom" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>Unit of measure&lt;/em> is a defined unit to consistently compare values, duration or quantities.&lt;/p>
&lt;p>You can create units of measure in the UI and give them the following parameters:&lt;/p>
&lt;ul>
&lt;li>Name&lt;/li>
&lt;li>Data type&lt;/li>
&lt;/ul>
&lt;h3>Data Sources&lt;span class="hx:absolute hx:-mt-20" id="data-sources">&lt;/span>
&lt;a href="#data-sources" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>data source&lt;/em> is a source of real-time data that is collected by the Rhize agent.
For example, in a baking process, a data source might be an OPC UA server that sends readings from an oven thermometer.&lt;/p>
&lt;p>The general fields for a data source are as follows:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Connection string&lt;/td>
&lt;td>A string to specify information about the data source and the way to connect to it&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>The Data source protocol&lt;/td>
&lt;td>Either &lt;code>MQTT&lt;/code> or &lt;code>OPCUA&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>username&lt;/td>
&lt;td>If needed, username for &lt;a href="https://docs.rhize.com/versions/v3.1.0/reference/service-config/agent-configuration/" >Agent authentication&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>password&lt;/td>
&lt;td>If needed, password for &lt;a href="https://docs.rhize.com/versions/v3.1.0/reference/service-config/agent-configuration/" >Agent authentication&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>certificate&lt;/td>
&lt;td>If needed, certificate for &lt;a href="https://docs.rhize.com/versions/v3.1.0/reference/service-config/agent-configuration/" >Agent authentication&lt;/a>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Additionally, each data source can have &lt;em>topics&lt;/em> that Rhize should be able to subscribe to.
Each topic has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Topic field&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Data type&lt;/td>
&lt;td>The data type Rhize expects to find when it receives data from that topic&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Deduplication key&lt;/td>
&lt;td>The field that NATS uses to de-duplicate messages from multiple data sources.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Label&lt;/td>
&lt;td>The name of the topic on the side of the data source&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Description&lt;/td>
&lt;td>A freeform text field to add context&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Some data sources, such as OPC UA, have methods for RPC calls.&lt;/p>
&lt;h3>Hierarchy Scope&lt;span class="hx:absolute hx:-mt-20" id="hierarchy-scope">&lt;/span>
&lt;a href="#hierarchy-scope" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The &lt;em>hierarchy scope&lt;/em> represents the scope within which data information is exchanged.
It provides a flexible way to group entities and data outside of the scope defined by the role-based equipment hierarchy.&lt;/p>
&lt;h2>Resource models&lt;span class="hx:absolute hx:-mt-20" id="resource-models">&lt;/span>
&lt;a href="#resource-models" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;em>Resource models&lt;/em> are data objects that have a specific role in your role-based equipment hierarchy.&lt;/p>
&lt;h3>Equipment class&lt;span class="hx:absolute hx:-mt-20" id="equipment-class">&lt;/span>
&lt;a href="#equipment-class" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>An &lt;em>equipment class&lt;/em> is a grouping of &lt;a href="#equipment" >equipment&lt;/a> for a definite purpose.
For example, in a baking process, an equipment class might be the category of all ovens, with properties such as &lt;code>maximum temperature&lt;/code> and &lt;code>number of shelves&lt;/code>.&lt;/p>
&lt;!---
Equipment has **Rules**, which... -->
&lt;p>Along with the &lt;a href="#global-object-fields" >Global properties&lt;/a>, an equipment class can include an indefinite number of properties with the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Properties&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Name&lt;/td>
&lt;td>Name of the property&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Description&lt;/td>
&lt;td>A freeform text to describe the property&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Unit of measure&lt;/td>
&lt;td>The property &lt;a href="#uom" >unit of measure&lt;/a>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;!--
| Expression | | -->
&lt;h3>Equipment&lt;span class="hx:absolute hx:-mt-20" id="equipment">&lt;/span>
&lt;a href="#equipment" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A piece of &lt;em>equipment&lt;/em> is a tool with a defined role in a &lt;a href="#process-segment" >process segment&lt;/a>.
For example, in a baking process, equipment might be a specific brownie oven.&lt;/p>
&lt;p>Equipment also might be part of hierarchy of levels, starting with Enterprise and ending with granular levels such as &lt;code>WorkUnit&lt;/code>.&lt;/p>
&lt;p>Along with the following fields, you can also connect an equipment item to a &lt;a href="#data-source" >data source&lt;/a>, add additional properties, and toggle it to be active or inactive.&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
an
equipment object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General equipment fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Equipment class&lt;/td>
&lt;td>The &lt;a href="#equipment-class" >class of equipment&lt;/a> that it belongs to.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Equipment level&lt;/td>
&lt;td>Associated level for the equipment. One of: &lt;code>Enterprise&lt;/code>, &lt;code>Site&lt;/code>, &lt;code>Area&lt;/code>, &lt;code>ProcessCell&lt;/code>, &lt;code>Unit&lt;/code>, &lt;code>ProductionLine&lt;/code>, &lt;code>WorkCell&lt;/code>, &lt;code>ProductionUnit&lt;/code>, &lt;code>Warehouse&lt;/code>, &lt;code>StorageZone&lt;/code>, &lt;code>StorageUnit&lt;/code>, &lt;code>WorkCenter&lt;/code>, &lt;code>WorkUnit&lt;/code>, &lt;code>EquipmentModule&lt;/code>, &lt;code>ControlModule&lt;/code>, &lt;code>Other&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Material Class&lt;span class="hx:absolute hx:-mt-20" id="material-class">&lt;/span>
&lt;a href="#material-class" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>material class&lt;/em> is a group of material with a shared purpose in the manufacturing process.&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
a
material-class object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Assembly type&lt;/td>
&lt;td>Can be one of: &lt;ul type="a">&lt;li>&lt;code>Logical&lt;/code>: the components of the material are not necessarily physically connected&lt;/li>&lt;li>&lt;code>Physical&lt;/code>: the components of the material are physically connected or in the same location&lt;/li>&lt;ul>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Relationship&lt;/td>
&lt;td>Can be one of: &lt;ul type="a">&lt;li>&lt;code>Permanent&lt;/code>, if a material that can&amp;rsquo;t be split from the production process&lt;/li>&lt;li> &lt;code>Transient&lt;/code>, for temporary material in assembly, such as a pallet&lt;/li>&lt;/ul>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Hierarchy scope&lt;/td>
&lt;td>The &lt;a href="#hierarchy-scope" >hierarchy scope&lt;/a> that material class belongs to&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Includes properties of&lt;/td>
&lt;td>One or more material classes that a version inherits properties from&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Is assembled from&lt;/td>
&lt;td>Material classes that make this material&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Material classes may have an indefinite number of properties with parameters for the following fields:&lt;/p>
&lt;ul>
&lt;li>Value&lt;/li>
&lt;li>&lt;a href="#uom" >Unit of measure&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3>Material definition&lt;span class="hx:absolute hx:-mt-20" id="material-definition">&lt;/span>
&lt;a href="#material-definition" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Materials&lt;/em> are everything required to produce a finished good.
They include raw materials, intermediate materials, and collections of parts.&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
a
material object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Material class&lt;/td>
&lt;td>One or more &lt;a href="#material-class" >material classes&lt;/a> that a version inherits properties from&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Materials may have an indefinite number of properties with parameters for the following fields:&lt;/p>
&lt;ul>
&lt;li>Value&lt;/li>
&lt;li>&lt;a href="#uom" >Unit of measure&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3>Personnel Class&lt;span class="hx:absolute hx:-mt-20" id="personnel-class">&lt;/span>
&lt;a href="#personnel-class" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>personnel class&lt;/em> is a grouping of persons whose work shares a definite purpose in the manufacturing process.
In a baking process, an example of a personnel class may be &lt;code>oven_operators&lt;/code>.&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
a
personnel-class object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Hierarchy scope&lt;/td>
&lt;td>The &lt;a href="#hierarchy-scope" >hierarchy scope&lt;/a> within which this personnel exchanges data&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Person&lt;span class="hx:absolute hx:-mt-20" id="person">&lt;/span>
&lt;a href="#person" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>person&lt;/em> is a unique member of &lt;a href="#personnel-class" >personnel class&lt;/a>.&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
a
person object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Name&lt;/td>
&lt;td>The name of the person&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Hierarchy scope&lt;/td>
&lt;td>The &lt;a href="#hierarchy-scope" >hierarchy scope&lt;/a> that the person belongs to&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Inherit personnel classes&lt;/td>
&lt;td>One or more personnel classes that a version inherits properties from&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Operational location&lt;/td>
&lt;td>The associated &lt;a href="#operational-location" >Operational location&lt;/a>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Physical asset class&lt;span class="hx:absolute hx:-mt-20" id="physical-asset-class">&lt;/span>
&lt;a href="#physical-asset-class" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>physical asset class&lt;/em> is a class of &lt;a href="#physical-assets" >physical assets&lt;/a>.&lt;/p>
&lt;p>The physical asset class has properties for:&lt;/p>
&lt;ul>
&lt;li>ClassType&lt;/li>
&lt;li>Value&lt;/li>
&lt;li>Unit of measure&lt;/li>
&lt;/ul>
&lt;h3>Physical Asset&lt;span class="hx:absolute hx:-mt-20" id="physical-asset">&lt;/span>
&lt;a href="#physical-asset" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>physical asset&lt;/em> is portable or swappable equipment.
In a baking process, a physical asset might be the laser jet printer which adds labels to the boxes (and could be used in many segments across the plant).&lt;/p>
&lt;p>In many cases, your process may need to model only &lt;a href="#equipment" >equipment&lt;/a>, not physical assets.&lt;/p>
&lt;h3>Operational Location Class&lt;span class="hx:absolute hx:-mt-20" id="operational-location-class">&lt;/span>
&lt;a href="#operational-location-class" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>An &lt;em>operational location&lt;/em> class is a grouping of &lt;a href="#operational-location" >operational locations&lt;/a> for a defined purpose.
For example, in a baking process, an operational location class may be &lt;code>Kitchens&lt;/code>&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
an
operational-location-class object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Hierarchy scope&lt;/td>
&lt;td>The &lt;a href="#hierarchy-scope" >hierarchy scope&lt;/a> within which this location exchanges data&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Inherit Operational location class&lt;/td>
&lt;td>One or more Operational location classes that a version inherits properties from&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Operational Location&lt;span class="hx:absolute hx:-mt-20" id="operational-location">&lt;/span>
&lt;a href="#operational-location" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>An &lt;em>operational location&lt;/em> is where resources are expected to be located in a plant.
For example, in a baking process, an operational location class may be &lt;code>northwing_kitchen_A&lt;/code>&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
an
operational-location object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Hierarchy scope&lt;/td>
&lt;td>The &lt;a href="#hierarchy-scope" >hierarchy scope&lt;/a> within which this location exchanges data&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Operational location classes&lt;/td>
&lt;td>Zero or more &lt;a href="#operational-location-class" >operational location classes&lt;/a> that a version inherits properties from&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Map view&lt;/td>
&lt;td>Where the location is on the map&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2>Operation models&lt;span class="hx:absolute hx:-mt-20" id="operation-models">&lt;/span>
&lt;a href="#operation-models" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;em>Operation models&lt;/em> are data objects that describe manufacturing processes from the perspective of the level-4 (ERP) systems.&lt;/p>
&lt;h3>Process segment&lt;span class="hx:absolute hx:-mt-20" id="process-segment">&lt;/span>
&lt;a href="#process-segment" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>process segment&lt;/em> is a step in a manufacturing activity that is visible to a business process, grouping the necessary personnel, material, equipment, and physical assets.
In a baking process, an example segment might be &lt;code>mixing&lt;/code>.&lt;/p>
&lt;p>You can associate specifications for:&lt;/p>
&lt;ul>
&lt;li>Equipment, Material, Personnel, and Physical Assets&lt;/li>
&lt;/ul>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
a
process-segment object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Operations type&lt;/td>
&lt;td>One of: &lt;code> Inventory&lt;/code>, &lt;code>maintenance&lt;/code>, &lt;code>mixed&lt;/code>, &lt;code>production&lt;/code>, &lt;code>quality&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Definition type&lt;/td>
&lt;td>One of: &lt;code>Instance&lt;/code>, &lt;code>Pattern&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Duration&lt;/td>
&lt;td>The expected duration&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Duration unit of measure&lt;/td>
&lt;td>The time &lt;a href="#uom" >unit of measure&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Hierarchy scope&lt;/td>
&lt;td>The &lt;a href="#hierarchy-scope" >hierarchy scope&lt;/a> within which data is exchanged for this process segment&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>You can add additional parameters for:&lt;/p>
&lt;ul>
&lt;li>Name&lt;/li>
&lt;li>Value&lt;/li>
&lt;li>Unit of measure&lt;/li>
&lt;/ul>
&lt;h3>Operations Definition&lt;span class="hx:absolute hx:-mt-20" id="operations-definition">&lt;/span>
&lt;a href="#operations-definition" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Operations Definitions&lt;/em> describe how resources come together to manufacture product from the perspective of
the level-4 (ERP) systems.&lt;/p>
&lt;p>The operation model carries enough detail to plan the work at resolutions of hours and days. For more granularity, refer to &lt;a href="#work-models" >work models&lt;/a>.&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
an
operations-definition object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Operation type&lt;/td>
&lt;td>One of: &lt;code> Inventory&lt;/code>, &lt;code>maintenance&lt;/code>, &lt;code>mixed&lt;/code>, &lt;code>production&lt;/code>, &lt;code>quality&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Hierarchy scope&lt;/td>
&lt;td>The &lt;a href="#hierarchy-scope" >hierarchy scope&lt;/a> within which data is exchanged for this operations definition&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Operations event class&lt;span class="hx:absolute hx:-mt-20" id="operations-event-class">&lt;/span>
&lt;a href="#operations-event-class" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>An &lt;em>operations event class&lt;/em> defines a class of operations events within some hierarchy.&lt;/p>
&lt;p>The class has the following properties:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Version&lt;/strong>&lt;/li>
&lt;li>&lt;strong>Operations event classes,&lt;/strong> defining one or more operations event classes that a version inherits properties from&lt;/li>
&lt;/ul>
&lt;h3>Operations event definition&lt;span class="hx:absolute hx:-mt-20" id="operations-event-definition">&lt;/span>
&lt;a href="#operations-event-definition" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>An &lt;em>operations event definition&lt;/em> defines the properties that pertain to an &lt;em>event&lt;/em> from the perspective of the level-4 (ERP) systems.
Along with the event itself, it may have associated resources, such as material lots or physical assets received.&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
an
operations-event-definition object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Field&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Category&lt;/td>
&lt;td>A string that can be used to group the event&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Source&lt;/td>
&lt;td>The activity, function, task or phase that generated the event.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Event type&lt;/td>
&lt;td>One of: &lt;ul type="A">&lt;li>&lt;code>Alert&lt;/code>, an potentially significant event, such as a workflow trigger, that does not require notification&lt;/li>&lt;li> &lt;code>Alarm&lt;/code>, an event that requires notification&lt;/li> &lt;li>&lt;code>Event&lt;/code>, any other event that is not at the level of alarm or alert&lt;/li>&lt;/ul>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Operations event classes&lt;/td>
&lt;td>One or more &lt;a href="#operations-event-class" >operations event classes&lt;/a> that a version definition inherits properties from.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2>Work models&lt;span class="hx:absolute hx:-mt-20" id="work-models">&lt;/span>
&lt;a href="#work-models" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;em>Work models&lt;/em> describe how the resources come together to manufacture product from the perspective of level-3 (MES) systems.
As with &lt;a href="#operations-models" >Operations models&lt;/a>,
the steps in the process are called &lt;em>segments&lt;/em>.&lt;/p>
&lt;p>The work model carries enough detail to plan the work at resolutions of hours and minutes. For less granularity, refer to &lt;a href="#operations-definitions" >operations definitions&lt;/a>.&lt;/p>
&lt;h3>Work Master&lt;span class="hx:absolute hx:-mt-20" id="work-master">&lt;/span>
&lt;a href="#work-master" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>work master&lt;/em> is a template for a job order from the perspective of the level-3 (MES/MOM) systems.
In a baking process, an example work master might be &lt;code>Brownie Recipe&lt;/code>.&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
a
work-master object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Workflow type&lt;/td>
&lt;td>One of: &lt;code> Inventory&lt;/code>, &lt;code>maintenance&lt;/code>, &lt;code>mixed&lt;/code>, &lt;code>production&lt;/code>, &lt;code>quality&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Workflow specification&lt;/td>
&lt;td>An associated BPMN workflow&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Work calendar&lt;span class="hx:absolute hx:-mt-20" id="work-calendar">&lt;/span>
&lt;a href="#work-calendar" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Work calendars&lt;/em> describe a set of rules for specific calendar entries, including duration, start and end dates, and times.&lt;/p>
&lt;p>The general fields for a calendar duration are as follows:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Description&lt;/td>
&lt;td>A description of the work calendar&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Hierarchy scope&lt;/td>
&lt;td>The &lt;a href="#hierarchy-scope" >hierarchy scope&lt;/a> that defines scope of data exchanged for the calendar entries&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>The work calendar can have properties with a &lt;code>description&lt;/code>, &lt;code>value&lt;/code>, and &lt;a href="#uom" >&lt;code>unit of measure&lt;/code>&lt;/a>.&lt;/p>
&lt;p>The work calendar object can have one or more &lt;em>entries&lt;/em>, which define the start, end, duration, and recurrence of a rule.
The duration and recurrence attributes for a time-based rule are represented by the &lt;a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank" rel="noopener">ISO 8601&lt;/a> standard.
The attributes for an entry are as follows:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Entry fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Description&lt;/td>
&lt;td>Freeform text that describes the entry&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Type&lt;/td>
&lt;td>One of: &lt;code>PlannedBusyTime&lt;/code>, &lt;code>PlannedDownTime&lt;/code>, and &lt;code>PlannedShutdown&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Start date and time&lt;/td>
&lt;td>When the entry starts&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>End date and time&lt;/td>
&lt;td>When the entry finishes&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Recurrence time interval&lt;/td>
&lt;td>How often the entry repeats according to the &lt;a href="https://en.wikipedia.org/wiki/ISO_8601#Repeating_intervals" target="_blank" rel="noopener">repeating interval representation&lt;/a> of IS0 8601&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Duration rule&lt;/td>
&lt;td>How long the work calendar lasts, according to the &lt;a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank" rel="noopener">Duration representation&lt;/a> of IS0 8601.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>Master definitions and fields</title><link>https://docs.rhize.com/versions/v3.2.0/how-to/model/master-definitions/</link><pubDate>Wed, 15 Nov 2023 16:29:21 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.2.0/how-to/model/master-definitions/</guid><description>
&lt;p>To make a production object visible to the Rhize data hub, you must define it as a data model.&lt;/p>
&lt;p>These sections document all the objects that you can add through the UI, and the fields and properties that you can associate with them.
All these models are based on the ISA-95 standard, mostly from &lt;a href="https://www.isa.org/products/ansi-isa-95-00-02-2018-enterprise-control-system-i" target="_blank" rel="noopener">Part 2&lt;/a>, which describes the role-based equipment hierarchy.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">&lt;ul>
&lt;li>For an introduction to the language of ISA-95, read &lt;a href="https://docs.rhize.com/isa-95/how-to-speak-isa-95/" >How to speak ISA-95&lt;/a>&lt;/li>
&lt;li>For visual examples of how some of these models relate,
look at our page of &lt;a href="https://docs.rhize.com/versions/v3.2.0/isa-95/isa-95-diagrams/" >ISA-95 Diagrams&lt;/a>.&lt;/li>
&lt;/ul>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Global object fields&lt;span class="hx:absolute hx:-mt-20" id="global-object-fields">&lt;/span>
&lt;a href="#global-object-fields" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>All objects that you define must have a unique name.
Additionally, most objects have the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Global field&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Version&lt;/td>
&lt;td>The version of the object (and each version has a &lt;a href="#version-states" >state&lt;/a>)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Description&lt;/td>
&lt;td>Freeform text to describe what the object does and help colleagues understand its role&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Version states&lt;span class="hx:absolute hx:-mt-20" id="version-states">&lt;/span>
&lt;a href="#version-states" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Each version of an object can have the following states:&lt;/p>
&lt;ul>
&lt;li>&lt;code>Draft&lt;/code>&lt;/li>
&lt;li>&lt;code>Active&lt;/code>&lt;/li>
&lt;li>&lt;code>For review&lt;/code>&lt;/li>
&lt;li>&lt;code>Deprecated&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">When recording actual execution, what matters is version of the object, not its general definition.
Thus, &lt;strong>to add a class to an object, you must give that object a version first.&lt;/strong>&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Common models&lt;span class="hx:absolute hx:-mt-20" id="common-models">&lt;/span>
&lt;a href="#common-models" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;em>Common models&lt;/em> are data objects that can apply to different resources in your manufacturing process&lt;/p>
&lt;h3>Units of Measure&lt;span class="hx:absolute hx:-mt-20" id="uom">&lt;/span>
&lt;a href="#uom" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>Unit of measure&lt;/em> is a defined unit to consistently compare values, duration or quantities.&lt;/p>
&lt;p>You can create units of measure in the UI and give them the following parameters:&lt;/p>
&lt;ul>
&lt;li>Name&lt;/li>
&lt;li>Data type&lt;/li>
&lt;/ul>
&lt;h3>Data Sources&lt;span class="hx:absolute hx:-mt-20" id="data-sources">&lt;/span>
&lt;a href="#data-sources" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>data source&lt;/em> is a source of real-time data that is collected by the Rhize agent.
For example, in a baking process, a data source might be an OPC UA server that sends readings from an oven thermometer.&lt;/p>
&lt;p>The general fields for a data source are as follows:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Connection string&lt;/td>
&lt;td>A string to specify information about the data source and the way to connect to it&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>The Data source protocol&lt;/td>
&lt;td>Either &lt;code>MQTT&lt;/code> or &lt;code>OPCUA&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>username&lt;/td>
&lt;td>If needed, username for &lt;a href="https://docs.rhize.com/versions/v3.2.0/reference/service-config/agent-configuration/" >Agent authentication&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>password&lt;/td>
&lt;td>If needed, password for &lt;a href="https://docs.rhize.com/versions/v3.2.0/reference/service-config/agent-configuration/" >Agent authentication&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>certificate&lt;/td>
&lt;td>If needed, certificate for &lt;a href="https://docs.rhize.com/versions/v3.2.0/reference/service-config/agent-configuration/" >Agent authentication&lt;/a>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Additionally, each data source can have &lt;em>topics&lt;/em> that Rhize should be able to subscribe to.
Each topic has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Topic field&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Data type&lt;/td>
&lt;td>The data type Rhize expects to find when it receives data from that topic&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Deduplication key&lt;/td>
&lt;td>The field that NATS uses to de-duplicate messages from multiple data sources.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Label&lt;/td>
&lt;td>The name of the topic on the side of the data source&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Description&lt;/td>
&lt;td>A freeform text field to add context&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Some data sources, such as OPC UA, have methods for RPC calls.&lt;/p>
&lt;h3>Hierarchy Scope&lt;span class="hx:absolute hx:-mt-20" id="hierarchy-scope">&lt;/span>
&lt;a href="#hierarchy-scope" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The &lt;em>hierarchy scope&lt;/em> represents the scope within which data information is exchanged.
It provides a flexible way to group entities and data outside of the scope defined by the role-based equipment hierarchy.&lt;/p>
&lt;h2>Resource models&lt;span class="hx:absolute hx:-mt-20" id="resource-models">&lt;/span>
&lt;a href="#resource-models" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;em>Resource models&lt;/em> are data objects that have a specific role in your role-based equipment hierarchy.&lt;/p>
&lt;h3>Equipment class&lt;span class="hx:absolute hx:-mt-20" id="equipment-class">&lt;/span>
&lt;a href="#equipment-class" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>An &lt;em>equipment class&lt;/em> is a grouping of &lt;a href="#equipment" >equipment&lt;/a> for a definite purpose.
For example, in a baking process, an equipment class might be the category of all ovens, with properties such as &lt;code>maximum temperature&lt;/code> and &lt;code>number of shelves&lt;/code>.&lt;/p>
&lt;!---
Equipment has **Rules**, which... -->
&lt;p>Along with the &lt;a href="#global-object-fields" >Global properties&lt;/a>, an equipment class can include an indefinite number of properties with the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Properties&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Name&lt;/td>
&lt;td>Name of the property&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Description&lt;/td>
&lt;td>A freeform text to describe the property&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Unit of measure&lt;/td>
&lt;td>The property &lt;a href="#uom" >unit of measure&lt;/a>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;!--
| Expression | | -->
&lt;h3>Equipment&lt;span class="hx:absolute hx:-mt-20" id="equipment">&lt;/span>
&lt;a href="#equipment" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A piece of &lt;em>equipment&lt;/em> is a tool with a defined role in a &lt;a href="#process-segment" >process segment&lt;/a>.
For example, in a baking process, equipment might be a specific brownie oven.&lt;/p>
&lt;p>Equipment also might be part of hierarchy of levels, starting with Enterprise and ending with granular levels such as &lt;code>WorkUnit&lt;/code>.&lt;/p>
&lt;p>Along with the following fields, you can also connect an equipment item to a &lt;a href="#data-source" >data source&lt;/a>, add additional properties, and toggle it to be active or inactive.&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
an
equipment object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General equipment fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Equipment class&lt;/td>
&lt;td>The &lt;a href="#equipment-class" >class of equipment&lt;/a> that it belongs to.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Equipment level&lt;/td>
&lt;td>Associated level for the equipment. One of: &lt;code>Enterprise&lt;/code>, &lt;code>Site&lt;/code>, &lt;code>Area&lt;/code>, &lt;code>ProcessCell&lt;/code>, &lt;code>Unit&lt;/code>, &lt;code>ProductionLine&lt;/code>, &lt;code>WorkCell&lt;/code>, &lt;code>ProductionUnit&lt;/code>, &lt;code>Warehouse&lt;/code>, &lt;code>StorageZone&lt;/code>, &lt;code>StorageUnit&lt;/code>, &lt;code>WorkCenter&lt;/code>, &lt;code>WorkUnit&lt;/code>, &lt;code>EquipmentModule&lt;/code>, &lt;code>ControlModule&lt;/code>, &lt;code>Other&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Material Class&lt;span class="hx:absolute hx:-mt-20" id="material-class">&lt;/span>
&lt;a href="#material-class" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>material class&lt;/em> is a group of material with a shared purpose in the manufacturing process.&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
a
material-class object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Assembly type&lt;/td>
&lt;td>Can be one of: &lt;ul type="a">&lt;li>&lt;code>Logical&lt;/code>: the components of the material are not necessarily physically connected&lt;/li>&lt;li>&lt;code>Physical&lt;/code>: the components of the material are physically connected or in the same location&lt;/li>&lt;ul>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Relationship&lt;/td>
&lt;td>Can be one of: &lt;ul type="a">&lt;li>&lt;code>Permanent&lt;/code>, if a material that can&amp;rsquo;t be split from the production process&lt;/li>&lt;li> &lt;code>Transient&lt;/code>, for temporary material in assembly, such as a pallet&lt;/li>&lt;/ul>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Hierarchy scope&lt;/td>
&lt;td>The &lt;a href="#hierarchy-scope" >hierarchy scope&lt;/a> that material class belongs to&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Includes properties of&lt;/td>
&lt;td>One or more material classes that a version inherits properties from&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Is assembled from&lt;/td>
&lt;td>Material classes that make this material&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Material classes may have an indefinite number of properties with parameters for the following fields:&lt;/p>
&lt;ul>
&lt;li>Value&lt;/li>
&lt;li>&lt;a href="#uom" >Unit of measure&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3>Material definition&lt;span class="hx:absolute hx:-mt-20" id="material-definition">&lt;/span>
&lt;a href="#material-definition" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Materials&lt;/em> are everything required to produce a finished good.
They include raw materials, intermediate materials, and collections of parts.&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
a
material object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Material class&lt;/td>
&lt;td>One or more &lt;a href="#material-class" >material classes&lt;/a> that a version inherits properties from&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Materials may have an indefinite number of properties with parameters for the following fields:&lt;/p>
&lt;ul>
&lt;li>Value&lt;/li>
&lt;li>&lt;a href="#uom" >Unit of measure&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3>Personnel Class&lt;span class="hx:absolute hx:-mt-20" id="personnel-class">&lt;/span>
&lt;a href="#personnel-class" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>personnel class&lt;/em> is a grouping of persons whose work shares a definite purpose in the manufacturing process.
In a baking process, an example of a personnel class may be &lt;code>oven_operators&lt;/code>.&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
a
personnel-class object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Hierarchy scope&lt;/td>
&lt;td>The &lt;a href="#hierarchy-scope" >hierarchy scope&lt;/a> within which this personnel exchanges data&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Person&lt;span class="hx:absolute hx:-mt-20" id="person">&lt;/span>
&lt;a href="#person" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>person&lt;/em> is a unique member of &lt;a href="#personnel-class" >personnel class&lt;/a>.&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
a
person object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Name&lt;/td>
&lt;td>The name of the person&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Hierarchy scope&lt;/td>
&lt;td>The &lt;a href="#hierarchy-scope" >hierarchy scope&lt;/a> that the person belongs to&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Inherit personnel classes&lt;/td>
&lt;td>One or more personnel classes that a version inherits properties from&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Operational location&lt;/td>
&lt;td>The associated &lt;a href="#operational-location" >Operational location&lt;/a>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Physical asset class&lt;span class="hx:absolute hx:-mt-20" id="physical-asset-class">&lt;/span>
&lt;a href="#physical-asset-class" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>physical asset class&lt;/em> is a class of &lt;a href="#physical-assets" >physical assets&lt;/a>.&lt;/p>
&lt;p>The physical asset class has properties for:&lt;/p>
&lt;ul>
&lt;li>ClassType&lt;/li>
&lt;li>Value&lt;/li>
&lt;li>Unit of measure&lt;/li>
&lt;/ul>
&lt;h3>Physical Asset&lt;span class="hx:absolute hx:-mt-20" id="physical-asset">&lt;/span>
&lt;a href="#physical-asset" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>physical asset&lt;/em> is portable or swappable equipment.
In a baking process, a physical asset might be the laser jet printer which adds labels to the boxes (and could be used in many segments across the plant).&lt;/p>
&lt;p>In many cases, your process may need to model only &lt;a href="#equipment" >equipment&lt;/a>, not physical assets.&lt;/p>
&lt;h3>Operational Location Class&lt;span class="hx:absolute hx:-mt-20" id="operational-location-class">&lt;/span>
&lt;a href="#operational-location-class" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>An &lt;em>operational location&lt;/em> class is a grouping of &lt;a href="#operational-location" >operational locations&lt;/a> for a defined purpose.
For example, in a baking process, an operational location class may be &lt;code>Kitchens&lt;/code>&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
an
operational-location-class object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Hierarchy scope&lt;/td>
&lt;td>The &lt;a href="#hierarchy-scope" >hierarchy scope&lt;/a> within which this location exchanges data&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Inherit Operational location class&lt;/td>
&lt;td>One or more Operational location classes that a version inherits properties from&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Operational Location&lt;span class="hx:absolute hx:-mt-20" id="operational-location">&lt;/span>
&lt;a href="#operational-location" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>An &lt;em>operational location&lt;/em> is where resources are expected to be located in a plant.
For example, in a baking process, an operational location class may be &lt;code>northwing_kitchen_A&lt;/code>&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
an
operational-location object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Hierarchy scope&lt;/td>
&lt;td>The &lt;a href="#hierarchy-scope" >hierarchy scope&lt;/a> within which this location exchanges data&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Operational location classes&lt;/td>
&lt;td>Zero or more &lt;a href="#operational-location-class" >operational location classes&lt;/a> that a version inherits properties from&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Map view&lt;/td>
&lt;td>Where the location is on the map&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2>Operation models&lt;span class="hx:absolute hx:-mt-20" id="operation-models">&lt;/span>
&lt;a href="#operation-models" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;em>Operation models&lt;/em> are data objects that describe manufacturing processes from the perspective of the level-4 (ERP) systems.&lt;/p>
&lt;h3>Process segment&lt;span class="hx:absolute hx:-mt-20" id="process-segment">&lt;/span>
&lt;a href="#process-segment" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>process segment&lt;/em> is a step in a manufacturing activity that is visible to a business process, grouping the necessary personnel, material, equipment, and physical assets.
In a baking process, an example segment might be &lt;code>mixing&lt;/code>.&lt;/p>
&lt;p>You can associate specifications for:&lt;/p>
&lt;ul>
&lt;li>Equipment, Material, Personnel, and Physical Assets&lt;/li>
&lt;/ul>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
a
process-segment object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Operations type&lt;/td>
&lt;td>One of: &lt;code> Inventory&lt;/code>, &lt;code>maintenance&lt;/code>, &lt;code>mixed&lt;/code>, &lt;code>production&lt;/code>, &lt;code>quality&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Definition type&lt;/td>
&lt;td>One of: &lt;code>Instance&lt;/code>, &lt;code>Pattern&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Duration&lt;/td>
&lt;td>The expected duration&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Duration unit of measure&lt;/td>
&lt;td>The time &lt;a href="#uom" >unit of measure&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Hierarchy scope&lt;/td>
&lt;td>The &lt;a href="#hierarchy-scope" >hierarchy scope&lt;/a> within which data is exchanged for this process segment&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>You can add additional parameters for:&lt;/p>
&lt;ul>
&lt;li>Name&lt;/li>
&lt;li>Value&lt;/li>
&lt;li>Unit of measure&lt;/li>
&lt;/ul>
&lt;h3>Operations Definition&lt;span class="hx:absolute hx:-mt-20" id="operations-definition">&lt;/span>
&lt;a href="#operations-definition" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Operations Definitions&lt;/em> describe how resources come together to manufacture product from the perspective of
the level-4 (ERP) systems.&lt;/p>
&lt;p>The operation model carries enough detail to plan the work at resolutions of hours and days. For more granularity, refer to &lt;a href="#work-models" >work models&lt;/a>.&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
an
operations-definition object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Operation type&lt;/td>
&lt;td>One of: &lt;code> Inventory&lt;/code>, &lt;code>maintenance&lt;/code>, &lt;code>mixed&lt;/code>, &lt;code>production&lt;/code>, &lt;code>quality&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Hierarchy scope&lt;/td>
&lt;td>The &lt;a href="#hierarchy-scope" >hierarchy scope&lt;/a> within which data is exchanged for this operations definition&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Operations event class&lt;span class="hx:absolute hx:-mt-20" id="operations-event-class">&lt;/span>
&lt;a href="#operations-event-class" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>An &lt;em>operations event class&lt;/em> defines a class of operations events within some hierarchy.&lt;/p>
&lt;p>The class has the following properties:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Version&lt;/strong>&lt;/li>
&lt;li>&lt;strong>Operations event classes,&lt;/strong> defining one or more operations event classes that a version inherits properties from&lt;/li>
&lt;/ul>
&lt;h3>Operations event definition&lt;span class="hx:absolute hx:-mt-20" id="operations-event-definition">&lt;/span>
&lt;a href="#operations-event-definition" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>An &lt;em>operations event definition&lt;/em> defines the properties that pertain to an &lt;em>event&lt;/em> from the perspective of the level-4 (ERP) systems.
Along with the event itself, it may have associated resources, such as material lots or physical assets received.&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
an
operations-event-definition object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Field&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Category&lt;/td>
&lt;td>A string that can be used to group the event&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Source&lt;/td>
&lt;td>The activity, function, task or phase that generated the event.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Event type&lt;/td>
&lt;td>One of: &lt;ul type="A">&lt;li>&lt;code>Alert&lt;/code>, an potentially significant event, such as a workflow trigger, that does not require notification&lt;/li>&lt;li> &lt;code>Alarm&lt;/code>, an event that requires notification&lt;/li> &lt;li>&lt;code>Event&lt;/code>, any other event that is not at the level of alarm or alert&lt;/li>&lt;/ul>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Operations event classes&lt;/td>
&lt;td>One or more &lt;a href="#operations-event-class" >operations event classes&lt;/a> that a version definition inherits properties from.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2>Work models&lt;span class="hx:absolute hx:-mt-20" id="work-models">&lt;/span>
&lt;a href="#work-models" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;em>Work models&lt;/em> describe how the resources come together to manufacture product from the perspective of level-3 (MES) systems.
As with &lt;a href="#operations-models" >Operations models&lt;/a>,
the steps in the process are called &lt;em>segments&lt;/em>.&lt;/p>
&lt;p>The work model carries enough detail to plan the work at resolutions of hours and minutes. For less granularity, refer to &lt;a href="#operations-definitions" >operations definitions&lt;/a>.&lt;/p>
&lt;h3>Work Master&lt;span class="hx:absolute hx:-mt-20" id="work-master">&lt;/span>
&lt;a href="#work-master" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A &lt;em>work master&lt;/em> is a template for a job order from the perspective of the level-3 (MES/MOM) systems.
In a baking process, an example work master might be &lt;code>Brownie Recipe&lt;/code>.&lt;/p>
&lt;p>Along with the &lt;a href="#global-object-fields" >global object fields&lt;/a>,
a
work-master object has the following fields:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Workflow type&lt;/td>
&lt;td>One of: &lt;code> Inventory&lt;/code>, &lt;code>maintenance&lt;/code>, &lt;code>mixed&lt;/code>, &lt;code>production&lt;/code>, &lt;code>quality&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Workflow specification&lt;/td>
&lt;td>An associated BPMN workflow&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Work calendar&lt;span class="hx:absolute hx:-mt-20" id="work-calendar">&lt;/span>
&lt;a href="#work-calendar" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;em>Work calendars&lt;/em> describe a set of rules for specific calendar entries, including duration, start and end dates, and times.&lt;/p>
&lt;p>The general fields for a calendar duration are as follows:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>General fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Description&lt;/td>
&lt;td>A description of the work calendar&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Hierarchy scope&lt;/td>
&lt;td>The &lt;a href="#hierarchy-scope" >hierarchy scope&lt;/a> that defines scope of data exchanged for the calendar entries&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>The work calendar can have properties with a &lt;code>description&lt;/code>, &lt;code>value&lt;/code>, and &lt;a href="#uom" >&lt;code>unit of measure&lt;/code>&lt;/a>.&lt;/p>
&lt;p>The work calendar object can have one or more &lt;em>entries&lt;/em>, which define the start, end, duration, and recurrence of a rule.
The duration and recurrence attributes for a time-based rule are represented by the &lt;a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank" rel="noopener">ISO 8601&lt;/a> standard.
The attributes for an entry are as follows:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Entry fields&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Description&lt;/td>
&lt;td>Freeform text that describes the entry&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Type&lt;/td>
&lt;td>One of: &lt;code>PlannedBusyTime&lt;/code>, &lt;code>PlannedDownTime&lt;/code>, and &lt;code>PlannedShutdown&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Start date and time&lt;/td>
&lt;td>When the entry starts&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>End date and time&lt;/td>
&lt;td>When the entry finishes&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Recurrence time interval&lt;/td>
&lt;td>How often the entry repeats according to the &lt;a href="https://en.wikipedia.org/wiki/ISO_8601#Repeating_intervals" target="_blank" rel="noopener">repeating interval representation&lt;/a> of IS0 8601&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Duration rule&lt;/td>
&lt;td>How long the work calendar lasts, according to the &lt;a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank" rel="noopener">Duration representation&lt;/a> of IS0 8601.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>Back up the Graph DB</title><link>https://docs.rhize.com/versions/v3.0.3/deploy/backup/graphdb/</link><pubDate>Wed, 18 Oct 2023 11:01:46 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.0.3/deploy/backup/graphdb/</guid><description>
&lt;p>This guide shows you how to back up the Rhize Graph database.
You can also use it to model an automation workflow.&lt;/p>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prerequisites">&lt;/span>
&lt;a href="#prerequisites" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Before you start, ensure you have the following:&lt;/p>
&lt;ul>
&lt;li>A designated backup location, for example &lt;code>~/rhize-backups/database&lt;/code>.&lt;/li>
&lt;li>Access to your &lt;a href="https://docs.rhize.com/versions/v3.0.3/deploy/install/" >Rhize Kubernetes Environment&lt;/a>&lt;/li>
&lt;li>Optional: &lt;a href="https://github.com/ahmetb/kubectx" target="_blank" rel="noopener">kubectx&lt;/a> utilities
&lt;ul>
&lt;li>&lt;code>kubectx&lt;/code> to manage multiple clusters&lt;/li>
&lt;li>&lt;code>kubens&lt;/code> to switch between and configure namespaces easily&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Optional: the &lt;a href="https://k8slens.dev" target="_blank" rel="noopener">k8 Lens IDE&lt;/a>, if you prefer to use Kubernetes graphically.&lt;/li>
&lt;/ul>
&lt;p>Before you start, confirm you are in the right context and namespace:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## context&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl config current-context
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## namespace&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl get namespace&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>To change the namespace for all subsequent &lt;code>kubectl&lt;/code> commands to &lt;code>libre&lt;/code>, run this command:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl config set-context --current --namespace&lt;span class="o">=&lt;/span>libre&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>For a reference of useful &lt;code>kubectl&lt;/code> commands, refer to the official &lt;a href="https://kubernetes.io/docs/reference/kubectl/cheatsheet/" target="_blank" rel="noopener">kubectl Cheat Sheet&lt;/a>.&lt;/p>
&lt;h2>Steps&lt;span class="hx:absolute hx:-mt-20" id="steps">&lt;/span>
&lt;a href="#steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>To back up the database, follow these steps:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Check the logs for the alpha and zero pods, either in Lens or with &lt;a href="https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#logs" target="_blank" rel="noopener">&lt;code>kubectl logs&lt;/code>&lt;/a>.
Ensure there are no errors.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl logs libre-baas-baas-alpha-0 --tail&lt;span class="o">=&lt;/span>&lt;span class="m">80&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Open a pod shell for one of the alpha pods. If you are using the terminal, run this command:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl &lt;span class="nb">exec&lt;/span> --stdin --tty libre-baas-baas-alpha-0 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>-n libre -- /bin/bash&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>For details, read the Kubernetes topic &lt;a href="https://kubernetes.io/docs/tasks/debug/debug-application/get-shell-running-container/" target="_blank" rel="noopener">Get Shell to a Running Container&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Make a POST request to your Keycloak &lt;code>/token&lt;/code> endpoint to get an &lt;code>access_token&lt;/code> value.
For example, with &lt;code>curl&lt;/code> and &lt;code>jq&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## replace USERNAME and PASSWORD with your credentials&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">USERNAME&lt;/span>&lt;span class="o">=&lt;/span>backups@libremfg.com &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nv">PASSWORD&lt;/span>&lt;span class="o">=&lt;/span>password &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span> curl --location &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --request POST &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">BAAS_OIDC_URL&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">/realms/libre/protocol/openid-connect/token&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --header &lt;span class="s1">&amp;#39;Content-Type\ application/x-www-form-urlencoded&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s1">&amp;#39;grant_type=password&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s2">&amp;#34;username=&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">USERNAME&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s2">&amp;#34;password=&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">PASSWORD&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s2">&amp;#34;client_id=&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">BAAS_OIDC_CLIENT_ID&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s2">&amp;#34;client_secret=&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">OIDC_SECRET&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> jq .access_token&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Using the token from the previous step, send a POST to &lt;code>localhost:8080/admin&lt;/code> to create a backup of the node.
For example, with &lt;code>curl&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">curl --location --request POST &lt;span class="s1">&amp;#39;http://localhost:8080/admin&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--header &lt;span class="s1">&amp;#39;Authorization: Bearer &amp;lt;TOKEN&amp;gt;&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--header &lt;span class="s1">&amp;#39;Content-Type: application/json&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--data-raw &lt;span class="s1">&amp;#39;{&amp;#34;query&amp;#34;:&amp;#34;mutation {\r\n export(input: {format: \&amp;#34;json\&amp;#34;, destination: \&amp;#34;/dgraph/backups/&amp;#39;&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>date +&lt;span class="s2">&amp;#34;%Y-%m-%dT%H.%M.%SZ&amp;#34;&lt;/span>&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="s1">&amp;#39;\&amp;#34;}) {\r\n response {\r\n message\r\n code\r\n }\r\n}\r\n}&amp;#34;,&amp;#34;variables&amp;#34;:{}}&amp;#39;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Change to the backup directory (the &lt;code>destination&lt;/code> parameter in the preceding &lt;code>curl&lt;/code> command). For example:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /dgraph/backups&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Check for the latest directory. Its name should be the timestamp of when you sent the preceding &lt;code>curl&lt;/code> request. For example:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ls -lt&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>With these flags, the first listed directory should be the latest backup, named something like &lt;code>2023-10-31T16.55.56Z&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Create a file that holds the sha256 checksums of the latest backup files. You&amp;rsquo;ll use this file to confirm the copy is identical.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sha256sum &amp;lt;LATEST_BACKUP_DIR&amp;gt;/dgraph.&amp;lt;PODNAME&amp;gt;/*.gz &amp;gt; &amp;lt;LATEST_BACKUP_DIR&amp;gt;/backup.sums&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Exit the container shell, then copy files out of the container to your backup location:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## exit shell&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">exit&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## copy container files to backup&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl cp --retries&lt;span class="o">=&lt;/span>&lt;span class="m">10&lt;/span> &amp;lt;NAMESPACE&amp;gt;/&amp;lt;PODNAME&amp;gt;:backups/&amp;lt;CONTAINER_BACKUP&amp;gt; &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>./&amp;lt;BACKUP&amp;gt;/&amp;lt;ON_YOUR_DEVICE&amp;gt;&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Use the checksum to confirm that the pod files and the local files are the same.
If you are using Windows, you can run an equivalent check with the &lt;a href="https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/certutil" target="_blank" rel="noopener">&lt;code>CertUtil&lt;/code>&lt;/a> utility:&lt;/p>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">bash&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">cmd&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## Change to the directory&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> ./&amp;lt;BACKUP&amp;gt;/&amp;lt;ON_YOUR_DEVICE&amp;gt;/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## Check sums&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sha256sum -c backup.sums *.gz&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-1"
role="tabpanel">&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cmd" data-lang="cmd">&lt;span class="line">&lt;span class="cl">CertUtil -hashfile C:\&lt;span class="p">&amp;lt;&lt;/span>BACKUP&lt;span class="p">&amp;gt;&lt;/span>\&lt;span class="p">&amp;lt;&lt;/span>ON_YOUR_DEVICE&lt;span class="p">&amp;gt;&lt;/span>\backup.sums sha256&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;h2>Confirm success&lt;span class="hx:absolute hx:-mt-20" id="confirm-success">&lt;/span>
&lt;a href="#confirm-success" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>On success, the backup creates three zipped files:&lt;/p>
&lt;ul>
&lt;li>The GraphQL schema&lt;/li>
&lt;li>The DB schema&lt;/li>
&lt;li>A JSON file with the real database data.&lt;/li>
&lt;/ul>
&lt;p>To check that the backup succeeded, unzip the files and inspect the data.&lt;/p>
&lt;h2>Next Steps&lt;span class="hx:absolute hx:-mt-20" id="next-steps">&lt;/span>
&lt;a href="#next-steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Test the &lt;a href="https://docs.rhize.com/versions/v3.0.3/deploy/restore/graphdb/" >Restore Graph Database&lt;/a> procedure to ensure you can recover data in case of an emergency.&lt;/li>
&lt;li>To back up other Rhize services, read how to backup &lt;a href="https://docs.rhize.com/versions/v3.0.3/deploy/backup/grafana/" >Grafana&lt;/a>.&lt;/li>
&lt;/ul></description></item><item><title>Back up the Graph DB</title><link>https://docs.rhize.com/versions/v3.1.0/deploy/backup/graphdb/</link><pubDate>Wed, 18 Oct 2023 11:01:46 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.1.0/deploy/backup/graphdb/</guid><description>
&lt;p>This guide shows you how to back up the Rhize Graph database.
You can also use it to model an automation workflow.&lt;/p>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prerequisites">&lt;/span>
&lt;a href="#prerequisites" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Before you start, ensure you have the following:&lt;/p>
&lt;ul>
&lt;li>A designated backup location, for example &lt;code>~/rhize-backups/database&lt;/code>.&lt;/li>
&lt;li>Access to your &lt;a href="https://docs.rhize.com/versions/v3.1.0/deploy/install/" >Rhize Kubernetes Environment&lt;/a>&lt;/li>
&lt;li>Optional: &lt;a href="https://github.com/ahmetb/kubectx" target="_blank" rel="noopener">kubectx&lt;/a> utilities
&lt;ul>
&lt;li>&lt;code>kubectx&lt;/code> to manage multiple clusters&lt;/li>
&lt;li>&lt;code>kubens&lt;/code> to switch between and configure namespaces easily&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Optional: the &lt;a href="https://k8slens.dev" target="_blank" rel="noopener">k8 Lens IDE&lt;/a>, if you prefer to use Kubernetes graphically.&lt;/li>
&lt;/ul>
&lt;p>Before you start, confirm you are in the right context and namespace:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## context&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl config current-context
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## namespace&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl get namespace&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>To change the namespace for all subsequent &lt;a href="https://kubernetes.io/docs/reference/kubectl/cheatsheet/" target="_blank" rel="noopener">&lt;code>kubectl&lt;/code> commands&lt;/a> to &lt;code>libre&lt;/code>, run this command:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl config set-context --current --namespace&lt;span class="o">=&lt;/span>libre&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>Steps&lt;span class="hx:absolute hx:-mt-20" id="steps">&lt;/span>
&lt;a href="#steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>To back up the database, follow these steps:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Check the logs for the alpha and zero pods, either in Lens or with &lt;a href="https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#logs" target="_blank" rel="noopener">&lt;code>kubectl logs&lt;/code>&lt;/a>.
Ensure there are no errors.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl logs libre-baas-baas-alpha-0 --tail&lt;span class="o">=&lt;/span>&lt;span class="m">80&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Open a pod shell for one of the alpha pods. If you are using the terminal, run this command:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl &lt;span class="nb">exec&lt;/span> --stdin --tty libre-baas-baas-alpha-0 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>-n libre -- /bin/bash&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>For details, read the Kubernetes topic &lt;a href="https://kubernetes.io/docs/tasks/debug/debug-application/get-shell-running-container/" target="_blank" rel="noopener">Get Shell to a Running Container&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Make a POST request to your Keycloak &lt;code>/token&lt;/code> endpoint to get an &lt;code>access_token&lt;/code> value.
For example, with &lt;code>curl&lt;/code> and &lt;code>jq&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## replace USERNAME and PASSWORD with your credentials&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">USERNAME&lt;/span>&lt;span class="o">=&lt;/span>backups@libremfg.com &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nv">PASSWORD&lt;/span>&lt;span class="o">=&lt;/span>password &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span> curl --location &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --request POST &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">BAAS_OIDC_URL&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">/realms/libre/protocol/openid-connect/token&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --header &lt;span class="s1">&amp;#39;Content-Type\ application/x-www-form-urlencoded&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s1">&amp;#39;grant_type=password&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s2">&amp;#34;username=&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">USERNAME&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s2">&amp;#34;password=&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">PASSWORD&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s2">&amp;#34;client_id=&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">BAAS_OIDC_CLIENT_ID&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s2">&amp;#34;client_secret=&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">OIDC_SECRET&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> jq .access_token&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Using the token from the previous step, send a POST to &lt;code>localhost:8080/admin&lt;/code> to create a backup of the node.
For example, with &lt;code>curl&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">curl --location --request POST &lt;span class="s1">&amp;#39;http://localhost:8080/admin&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--header &lt;span class="s1">&amp;#39;Authorization: Bearer &amp;lt;TOKEN&amp;gt;&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--header &lt;span class="s1">&amp;#39;Content-Type: application/json&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--data-raw &lt;span class="s1">&amp;#39;{&amp;#34;query&amp;#34;:&amp;#34;mutation {\r\n export(input: {format: \&amp;#34;json\&amp;#34;, destination: \&amp;#34;/dgraph/backups/&amp;#39;&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>date +&lt;span class="s2">&amp;#34;%Y-%m-%dT%H.%M.%SZ&amp;#34;&lt;/span>&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="s1">&amp;#39;\&amp;#34;}) {\r\n response {\r\n message\r\n code\r\n }\r\n}\r\n}&amp;#34;,&amp;#34;variables&amp;#34;:{}}&amp;#39;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Change to the backup directory (the &lt;code>destination&lt;/code> parameter in the preceding &lt;code>curl&lt;/code> command). For example:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /dgraph/backups&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Check for the latest directory. Its name should be the timestamp of when you sent the preceding &lt;code>curl&lt;/code> request. For example:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ls -lt&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>With these flags, the first listed directory should be the latest backup, named something like &lt;code>2023-10-31T16.55.56Z&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Create a file that holds the sha256 checksums of the latest backup files. You&amp;rsquo;ll use this file to confirm the copy is identical.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sha256sum &amp;lt;LATEST_BACKUP_DIR&amp;gt;/dgraph.&amp;lt;PODNAME&amp;gt;/*.gz &amp;gt; &amp;lt;LATEST_BACKUP_DIR&amp;gt;/backup.sums&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Exit the container shell, then copy files out of the container to your backup location:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## exit shell&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">exit&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## copy container files to backup&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl cp --retries&lt;span class="o">=&lt;/span>&lt;span class="m">10&lt;/span> &amp;lt;NAMESPACE&amp;gt;/&amp;lt;PODNAME&amp;gt;:backups/&amp;lt;CONTAINER_BACKUP&amp;gt; &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>./&amp;lt;BACKUP&amp;gt;/&amp;lt;ON_YOUR_DEVICE&amp;gt;&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Use the checksum to confirm that the pod files and the local files are the same.
If you are using Windows, you can run an equivalent check with the &lt;a href="https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/certutil" target="_blank" rel="noopener">&lt;code>CertUtil&lt;/code>&lt;/a> utility:&lt;/p>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">bash&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">cmd&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## Change to the directory&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> ./&amp;lt;BACKUP&amp;gt;/&amp;lt;ON_YOUR_DEVICE&amp;gt;/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## Check sums&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sha256sum -c backup.sums *.gz&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-1"
role="tabpanel">&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cmd" data-lang="cmd">&lt;span class="line">&lt;span class="cl">CertUtil -hashfile C:\&lt;span class="p">&amp;lt;&lt;/span>BACKUP&lt;span class="p">&amp;gt;&lt;/span>\&lt;span class="p">&amp;lt;&lt;/span>ON_YOUR_DEVICE&lt;span class="p">&amp;gt;&lt;/span>\backup.sums sha256&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;h2>Confirm success&lt;span class="hx:absolute hx:-mt-20" id="confirm-success">&lt;/span>
&lt;a href="#confirm-success" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>On success, the backup creates three zipped files:&lt;/p>
&lt;ul>
&lt;li>The GraphQL schema&lt;/li>
&lt;li>The DB schema&lt;/li>
&lt;li>A JSON file with the real database data.&lt;/li>
&lt;/ul>
&lt;p>To check that the backup succeeded, unzip the files and inspect the data.&lt;/p>
&lt;h2>Next Steps&lt;span class="hx:absolute hx:-mt-20" id="next-steps">&lt;/span>
&lt;a href="#next-steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Test the &lt;a href="https://docs.rhize.com/versions/v3.1.0/deploy/restore/graphdb/" >Restore Graph Database&lt;/a> procedure to ensure you can recover data in case of an emergency.&lt;/li>
&lt;li>To back up other Rhize services, read how to backup &lt;a href="https://docs.rhize.com/versions/v3.1.0/deploy/backup/grafana/" >Grafana&lt;/a>.&lt;/li>
&lt;/ul></description></item><item><title>Back up the Graph DB</title><link>https://docs.rhize.com/versions/v3.2.0/deploy/backup/graphdb/</link><pubDate>Wed, 18 Oct 2023 11:01:46 -0300</pubDate><guid>https://docs.rhize.com/versions/v3.2.0/deploy/backup/graphdb/</guid><description>
&lt;p>This guide shows you how to back up the Rhize Graph database.
You can also use it to model an automation workflow.&lt;/p>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prerequisites">&lt;/span>
&lt;a href="#prerequisites" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Before you start, ensure you have the following:&lt;/p>
&lt;ul>
&lt;li>A designated backup location, for example &lt;code>~/rhize-backups/database&lt;/code>.&lt;/li>
&lt;li>Access to your &lt;a href="https://docs.rhize.com/versions/v3.2.0/deploy/install/" >Rhize Kubernetes Environment&lt;/a>&lt;/li>
&lt;li>Optional: &lt;a href="https://github.com/ahmetb/kubectx" target="_blank" rel="noopener">kubectx&lt;/a> utilities
&lt;ul>
&lt;li>&lt;code>kubectx&lt;/code> to manage multiple clusters&lt;/li>
&lt;li>&lt;code>kubens&lt;/code> to switch between and configure namespaces easily&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Optional: the &lt;a href="https://k8slens.dev" target="_blank" rel="noopener">k8 Lens IDE&lt;/a>, if you prefer to use Kubernetes graphically.&lt;/li>
&lt;/ul>
&lt;p>Before you start, confirm you are in the right context and namespace:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## context&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl config current-context
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## namespace&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl get namespace&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>To change the namespace for all subsequent &lt;a href="https://kubernetes.io/docs/reference/kubectl/cheatsheet/" target="_blank" rel="noopener">&lt;code>kubectl&lt;/code> commands&lt;/a> to &lt;code>libre&lt;/code>, run this command:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl config set-context --current --namespace&lt;span class="o">=&lt;/span>libre&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>Steps&lt;span class="hx:absolute hx:-mt-20" id="steps">&lt;/span>
&lt;a href="#steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>To back up the database, follow these steps:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Check the logs for the alpha and zero pods, either in Lens or with &lt;a href="https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#logs" target="_blank" rel="noopener">&lt;code>kubectl logs&lt;/code>&lt;/a>.
Ensure there are no errors.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl logs libre-baas-baas-alpha-0 --tail&lt;span class="o">=&lt;/span>&lt;span class="m">80&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Open a pod shell for one of the alpha pods. If you are using the terminal, run this command:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl &lt;span class="nb">exec&lt;/span> --stdin --tty libre-baas-baas-alpha-0 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>-n libre -- /bin/bash&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>For details, read the Kubernetes topic &lt;a href="https://kubernetes.io/docs/tasks/debug/debug-application/get-shell-running-container/" target="_blank" rel="noopener">Get Shell to a Running Container&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Make a POST request to your Keycloak &lt;code>/token&lt;/code> endpoint to get an &lt;code>access_token&lt;/code> value.
For example, with &lt;code>curl&lt;/code> and &lt;code>jq&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## replace USERNAME and PASSWORD with your credentials&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">USERNAME&lt;/span>&lt;span class="o">=&lt;/span>backups@libremfg.com &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nv">PASSWORD&lt;/span>&lt;span class="o">=&lt;/span>password &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span> curl --location &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --request POST &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">BAAS_OIDC_URL&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">/realms/libre/protocol/openid-connect/token&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --header &lt;span class="s1">&amp;#39;Content-Type\ application/x-www-form-urlencoded&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s1">&amp;#39;grant_type=password&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s2">&amp;#34;username=&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">USERNAME&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s2">&amp;#34;password=&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">PASSWORD&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s2">&amp;#34;client_id=&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">BAAS_OIDC_CLIENT_ID&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-urlencode &lt;span class="s2">&amp;#34;client_secret=&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">OIDC_SECRET&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> jq .access_token&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Using the token from the previous step, send a POST to &lt;code>localhost:8080/admin&lt;/code> to create a backup of the node.
For example, with &lt;code>curl&lt;/code>:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">curl --location --request POST &lt;span class="s1">&amp;#39;http://localhost:8080/admin&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--header &lt;span class="s1">&amp;#39;Authorization: Bearer &amp;lt;TOKEN&amp;gt;&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--header &lt;span class="s1">&amp;#39;Content-Type: application/json&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--data-raw &lt;span class="s1">&amp;#39;{&amp;#34;query&amp;#34;:&amp;#34;mutation {\r\n export(input: {format: \&amp;#34;json\&amp;#34;, destination: \&amp;#34;/dgraph/backups/&amp;#39;&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>date +&lt;span class="s2">&amp;#34;%Y-%m-%dT%H.%M.%SZ&amp;#34;&lt;/span>&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="s1">&amp;#39;\&amp;#34;}) {\r\n response {\r\n message\r\n code\r\n }\r\n}\r\n}&amp;#34;,&amp;#34;variables&amp;#34;:{}}&amp;#39;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Change to the backup directory (the &lt;code>destination&lt;/code> parameter in the preceding &lt;code>curl&lt;/code> command). For example:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /dgraph/backups&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Check for the latest directory. Its name should be the timestamp of when you sent the preceding &lt;code>curl&lt;/code> request. For example:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ls -lt&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>With these flags, the first listed directory should be the latest backup, named something like &lt;code>2023-10-31T16.55.56Z&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Create a file that holds the sha256 checksums of the latest backup files. You&amp;rsquo;ll use this file to confirm the copy is identical.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sha256sum &amp;lt;LATEST_BACKUP_DIR&amp;gt;/dgraph.&amp;lt;PODNAME&amp;gt;/*.gz &amp;gt; &amp;lt;LATEST_BACKUP_DIR&amp;gt;/backup.sums&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Exit the container shell, then copy files out of the container to your backup location:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## exit shell&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">exit&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## copy container files to backup&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl cp --retries&lt;span class="o">=&lt;/span>&lt;span class="m">10&lt;/span> &amp;lt;NAMESPACE&amp;gt;/&amp;lt;PODNAME&amp;gt;:backups/&amp;lt;CONTAINER_BACKUP&amp;gt; &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>./&amp;lt;BACKUP&amp;gt;/&amp;lt;ON_YOUR_DEVICE&amp;gt;&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>Use the checksum to confirm that the pod files and the local files are the same.
If you are using Windows, you can run an equivalent check with the &lt;a href="https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/certutil" target="_blank" rel="noopener">&lt;code>CertUtil&lt;/code>&lt;/a> utility:&lt;/p>
&lt;div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain">
&lt;div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800">&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-0" aria-selected="true" tabindex="0" data-state="selected">bash&lt;/button>&lt;button
class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white"
role="tab"
type="button"
aria-controls="tabs-panel-1">cmd&lt;/button>&lt;/div>
&lt;/div>
&lt;div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-0"
role="tabpanel" tabindex="0" data-state="selected" >&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## Change to the directory&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> ./&amp;lt;BACKUP&amp;gt;/&amp;lt;ON_YOUR_DEVICE&amp;gt;/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## Check sums&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sha256sum -c backup.sums *.gz&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div
class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block"
id="tabs-panel-1"
role="tabpanel">&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cmd" data-lang="cmd">&lt;span class="line">&lt;span class="cl">CertUtil -hashfile C:\&lt;span class="p">&amp;lt;&lt;/span>BACKUP&lt;span class="p">&amp;gt;&lt;/span>\&lt;span class="p">&amp;lt;&lt;/span>ON_YOUR_DEVICE&lt;span class="p">&amp;gt;&lt;/span>\backup.sums sha256&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;h2>Confirm success&lt;span class="hx:absolute hx:-mt-20" id="confirm-success">&lt;/span>
&lt;a href="#confirm-success" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>On success, the backup creates three zipped files:&lt;/p>
&lt;ul>
&lt;li>The GraphQL schema&lt;/li>
&lt;li>The DB schema&lt;/li>
&lt;li>A JSON file with the real database data.&lt;/li>
&lt;/ul>
&lt;p>To check that the backup succeeded, unzip the files and inspect the data.&lt;/p>
&lt;h2>Next Steps&lt;span class="hx:absolute hx:-mt-20" id="next-steps">&lt;/span>
&lt;a href="#next-steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Test the &lt;a href="https://docs.rhize.com/versions/v3.2.0/deploy/restore/graphdb/" >Restore Graph Database&lt;/a> procedure to ensure you can recover data in case of an emergency.&lt;/li>
&lt;li>To back up other Rhize services, read how to backup &lt;a href="https://docs.rhize.com/versions/v3.2.0/deploy/backup/grafana/" >Grafana&lt;/a>.&lt;/li>
&lt;/ul></description></item><item><title>Configure Keycloak</title><link>https://docs.rhize.com/versions/v3.0.3/deploy/install/keycloak/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.rhize.com/versions/v3.0.3/deploy/install/keycloak/</guid><description>
&lt;p>Rhize uses &lt;a href="https://keycloak.org" target="_blank" rel="noopener">Keycloak&lt;/a> as an OpenID provider.
In your cluster, the Keycloak server to authenticate users, services, and manage Role-based access controls.&lt;/p>
&lt;p>This topic describes how to set up Keycloak in your Rhize cluster.
For a conceptual overview of the authentication flow,
read &lt;a href="https://docs.rhize.com/explanations/about-openidconnect/" >About OpenID Connect&lt;/a>&lt;/p>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prerequisites">&lt;/span>
&lt;a href="#prerequisites" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>First, ensure that you have followed the instructions from &lt;a href="https://docs.rhize.com/deploy/install/setup-kubernetes/" >Set up Kubernetes&lt;/a>.
All prerequisites for that step apply here.&lt;/p>
&lt;h2>Steps&lt;span class="hx:absolute hx:-mt-20" id="steps">&lt;/span>
&lt;a href="#steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Follow these steps to configure a Keycloak realm and associate Rhize services to Keycloak clients, groups, roles, and policies.&lt;/p>
&lt;div class="hextra-steps hx:ml-4 hx:mb-12 hx:ltr:border-l hx:rtl:border-r hx:border-gray-200 hx:ltr:pl-6 hx:rtl:pr-6 hx:dark:border-neutral-800 [counter-reset:step]">
&lt;h3>Log in&lt;span class="hx:absolute hx:-mt-20" id="log-in">&lt;/span>
&lt;a href="#log-in" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ol>
&lt;li>
&lt;p>Go to &lt;code>localhost&lt;/code> on the port where you forwarded the URL. If you used the example values from the last step, that&amp;rsquo;s &lt;code>localhost:5101&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Use the container credentials to log in.&lt;/p>
&lt;p>To find this, look in the &lt;code>keycloak.yaml&lt;/code> file.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3>Create a realm&lt;span class="hx:absolute hx:-mt-20" id="create-a-realm">&lt;/span>
&lt;a href="#create-a-realm" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A Keycloak &lt;em>realm&lt;/em> is like a tenant that contains all configuration.&lt;/p>
&lt;p>To create your Rhize realm, follow these steps.&lt;/p>
&lt;ol>
&lt;li>In the side menu, select &lt;strong>Master&lt;/strong> then &lt;strong>Create Realm&lt;/strong>.&lt;/li>
&lt;li>For the &lt;strong>Realm Name&lt;/strong>, enter &lt;code>libre&lt;/code>. &lt;strong>Create.&lt;/strong>&lt;/li>
&lt;li>In the side menu, select &lt;strong>Realm Settings&lt;/strong>.&lt;/li>
&lt;li>Enter the following values:
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Field&lt;/th>
&lt;th>value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Frontend URL&lt;/td>
&lt;td>Keycloak frontend URL&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Require SSL&lt;/td>
&lt;td>External requests&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/li>
&lt;/ol>
&lt;p>After you&amp;rsquo;ve created the realm, you can create clients.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">If created with the Libre Theme &lt;code>init&lt;/code> container, configure the &lt;strong>Login Theme&lt;/strong> in &lt;strong>Realm settings&lt;/strong> for &lt;code>libre&lt;/code>.&lt;/div>
&lt;/div>
&lt;/div>
&lt;h3>Create clients&lt;span class="hx:absolute hx:-mt-20" id="create-clients">&lt;/span>
&lt;a href="#create-clients" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>In Keycloak, &lt;em>clients&lt;/em> are entities that request Keycloak to authenticate a user.
You need to create a client for each service.&lt;/p>
&lt;p>The DB client requires additional configuration of flows and grants.
Other clients, such as the UI and Dashboard, use the standard flow to coordinate authorization between the browser and Keycloak to simplify security and improve user convenience.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">Each standard-flow client has its own subdomain.
Refer to &lt;a href="https://docs.rhize.com/versions/v3.0.3/reference/default-ports/" >Default URLs and Ports&lt;/a> for our recommended conventions.&lt;/div>
&lt;/div>
&lt;/div>
&lt;h4>Create DB client&lt;span class="hx:absolute hx:-mt-20" id="create-db-client">&lt;/span>
&lt;a href="#create-db-client" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Create a client for the DB as follows:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>In the side menu, select &lt;strong>Clients &amp;gt; create client&lt;/strong>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Configure the &lt;strong>General Settings&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Client Type&lt;/strong>: &lt;code>OpenID Connect&lt;/code>&lt;/li>
&lt;li>&lt;strong>Client ID&lt;/strong>: &lt;code>libreBaas&lt;/code>&lt;/li>
&lt;li>&lt;strong>Name&lt;/strong>: &lt;code>Libre Backend as a Service&lt;/code>&lt;/li>
&lt;li>&lt;strong>Description&lt;/strong>: &lt;code>Libre Backend as a Service&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>When finished, select &lt;strong>Next.&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Configure the &lt;strong>Capability config&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Client Authentication&lt;/strong>: On&lt;/li>
&lt;li>&lt;strong>Authorization&lt;/strong>: On&lt;/li>
&lt;li>For &lt;strong>Authentication flow&lt;/strong>, enable:
&lt;ul>
&lt;li>🗸 Standard flow&lt;/li>
&lt;li>🗸 Direct access grants&lt;/li>
&lt;li>🗸 Implicit flow&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Select &lt;strong>Next&lt;/strong>, then &lt;strong>Save&lt;/strong>.&lt;/p>
&lt;p>On success, this opens the &lt;strong>Client details&lt;/strong> page for the newly created client.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Select the &lt;strong>Service accounts roles&lt;/strong> tab and assign the following roles to the &lt;code>libreBaas&lt;/code> service account. To locate roles, change the filter to &lt;strong>Filter by clients&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;code>manage-clients&lt;/code>&lt;/li>
&lt;li>&lt;code>manage-account&lt;/code>&lt;/li>
&lt;li>&lt;code>manage-users&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4>Create UI client&lt;span class="hx:absolute hx:-mt-20" id="create-ui-client">&lt;/span>
&lt;a href="#create-ui-client" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Create a client for the UI as follows:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>In the side menu, select &lt;strong>Clients &amp;gt; create client&lt;/strong>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Configure the &lt;strong>General Settings&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Client Type&lt;/strong>: &lt;code>OpenID Connect&lt;/code>&lt;/li>
&lt;li>&lt;strong>Client ID&lt;/strong>: &lt;code>libreUI&lt;/code>&lt;/li>
&lt;li>&lt;strong>Name&lt;/strong>: &lt;code>Libre User Interface&lt;/code>&lt;/li>
&lt;li>&lt;strong>Description&lt;/strong>: &lt;code>Libre User Interface&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>When finished, select &lt;strong>Next.&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Configure the &lt;strong>Capability config&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Client Authentication&lt;/strong>: On&lt;/li>
&lt;li>&lt;strong>Authorization&lt;/strong>: On&lt;/li>
&lt;li>For &lt;strong>Authentication flow&lt;/strong>, enable:
&lt;ul>
&lt;li>🗸 Standard flow&lt;/li>
&lt;li>🗸 Direct access grants&lt;/li>
&lt;li>🗸 Implicit flow&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Configure the &lt;strong>Access Settings&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Root URL&lt;/strong>: &lt;code>&amp;lt;UI_SUBDOMAIN&amp;gt;.&amp;lt;YOUR_DOMAIN&amp;gt;&lt;/code> without trailing slashes&lt;/li>
&lt;li>&lt;strong>Home URL&lt;/strong>: &lt;code>&amp;lt;UI_SUBDOMAIN&amp;gt;.&amp;lt;YOUR_DOMAIN&amp;gt;&lt;/code> without trailing slashes&lt;/li>
&lt;li>&lt;strong>Web Origins&lt;/strong>: &lt;code>&amp;lt;UI_SUBDOMAIN&amp;gt;.&amp;lt;YOUR_DOMAIN&amp;gt;&lt;/code> without trailing slashes&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Select &lt;strong>Next&lt;/strong>, then &lt;strong>Save&lt;/strong>.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h4>Create dashboard client&lt;span class="hx:absolute hx:-mt-20" id="create-dashboard-client">&lt;/span>
&lt;a href="#create-dashboard-client" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>
&lt;p>In the side menu, select &lt;strong>Clients &amp;gt; create client&lt;/strong>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Configure the &lt;strong>General Settings&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Client Type&lt;/strong>: &lt;code>OpenID Connect&lt;/code>&lt;/li>
&lt;li>&lt;strong>Client ID&lt;/strong>: &lt;code>dashboard&lt;/code>&lt;/li>
&lt;li>&lt;strong>Name&lt;/strong>: &lt;code>Libre Dashboard&lt;/code>&lt;/li>
&lt;li>&lt;strong>Description&lt;/strong>: &lt;code>Libre Dashboard&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Configure the &lt;strong>Capability config&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Client Authentication&lt;/strong>: On&lt;/li>
&lt;li>&lt;strong>Authorization&lt;/strong>: On&lt;/li>
&lt;li>For &lt;strong>Authentication flow&lt;/strong>, enable:
&lt;ul>
&lt;li>🗸 Standard flow&lt;/li>
&lt;li>🗸 Direct access grants&lt;/li>
&lt;li>🗸 Implicit flow&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Configure the &lt;strong>Access Settings&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Root URL&lt;/strong>: &lt;code>&amp;lt;DASHBOARD_SUBDOMAIN&amp;gt;.&amp;lt;YOUR_DOMAIN&amp;gt;&lt;/code> without trailing slashes&lt;/li>
&lt;li>&lt;strong>Home URL&lt;/strong>: &lt;code>&amp;lt;DASHBOARD_SUBDOMAIN&amp;gt;.&amp;lt;YOUR_DOMAIN&amp;gt;&lt;/code> without trailing slashes&lt;/li>
&lt;li>&lt;strong>Valid redirect URIs&lt;/strong>: &lt;code>&amp;lt;DASHBOARD_URL&amp;gt;/login/generic_oauth&lt;/code> without trailing slashes&lt;/li>
&lt;li>&lt;strong>Valid post logout redirect URIs&lt;/strong>: &lt;code>+&lt;/code> without trailing slashes&lt;/li>
&lt;li>&lt;strong>Home URL&lt;/strong>: &lt;code>&amp;lt;DASHBOARD_SUBDOMAIN&amp;gt;.&amp;lt;YOUR_DOMAIN&amp;gt;&lt;/code> without trailing slashes&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Select &lt;strong>Next&lt;/strong>, then &lt;strong>Save&lt;/strong>.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h4>Create other service clients&lt;span class="hx:absolute hx:-mt-20" id="create-other-service-clients">&lt;/span>
&lt;a href="#create-other-service-clients" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>The other services do not need authorization but do need client authentication.
By default you need to add only the client ID.&lt;/p>
&lt;p>For example, to create the BPMN engine client:&lt;/p>
&lt;ol>
&lt;li>In the side menu, select &lt;strong>Clients &amp;gt; create client&lt;/strong>.&lt;/li>
&lt;li>For &lt;strong>Client ID&lt;/strong>, enter &lt;code>libreBpmn&lt;/code>&lt;/li>
&lt;li>Configure the &lt;strong>Capability config&lt;/strong>:
&lt;ul>
&lt;li>&lt;strong>Client Authentication&lt;/strong>: On&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Select &lt;strong>Next&lt;/strong>, then &lt;strong>Save&lt;/strong>.&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>Repeat this process for each of the following services:&lt;/strong>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Client ID&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>libreAudit&lt;/code>&lt;/td>
&lt;td>The audit log service&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>libreCore&lt;/code>&lt;/td>
&lt;td>The edge agent&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>libreRouter&lt;/code>&lt;/td>
&lt;td>API router&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Based on your architecture, repeat for any Libre Edge Agents, &lt;code>libreAgent&lt;/code>.&lt;/p>
&lt;h3>Scope services&lt;span class="hx:absolute hx:-mt-20" id="scope-services">&lt;/span>
&lt;a href="#scope-services" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>In Keycloak, a &lt;em>scope&lt;/em> bounds the access a service has.
Rhize creates a default client scope, then binds services to that scope.&lt;/p>
&lt;h4>Create a client scope&lt;span class="hx:absolute hx:-mt-20" id="create-a-client-scope">&lt;/span>
&lt;a href="#create-a-client-scope" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>To create a scope for your Rhize services, follow these steps:&lt;/p>
&lt;ol>
&lt;li>Select &lt;strong>Client Scopes &amp;gt; Create client scope&lt;/strong>.&lt;/li>
&lt;li>Fill in the following values:
&lt;ul>
&lt;li>&lt;strong>Name&lt;/strong>: &lt;code>libreClientScope&lt;/code>&lt;/li>
&lt;li>&lt;strong>Description&lt;/strong>: &lt;code>Libre Client Scope&lt;/code>&lt;/li>
&lt;li>&lt;strong>Type&lt;/strong>: &lt;code>None&lt;/code>&lt;/li>
&lt;li>&lt;strong>Display on consent screen&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;li>&lt;strong>Include in token scope&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Create&lt;/strong>.&lt;/li>
&lt;li>Select the &lt;strong>Mappers&lt;/strong> tab, then &lt;strong>Configure new mapper&lt;/strong>. Add an audience mapper for the DB client:
&lt;ul>
&lt;li>&lt;strong>Mapper Type&lt;/strong>: &lt;code>Audience&lt;/code>&lt;/li>
&lt;li>&lt;strong>Name&lt;/strong>: &lt;code>libreBaasAudienceMapper&lt;/code>&lt;/li>
&lt;li>&lt;strong>Include Client Audience&lt;/strong>: &lt;code>libreBaas&lt;/code>&lt;/li>
&lt;li>&lt;strong>Add to ID Token&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;li>&lt;strong>Add to access token&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Repeat the preceding step for a mapper for the UI client:
&lt;ul>
&lt;li>&lt;strong>Mapper Type&lt;/strong>: &lt;code>Audience&lt;/code>&lt;/li>
&lt;li>&lt;strong>Name&lt;/strong>: &lt;code>libreUIAudienceMapper&lt;/code>&lt;/li>
&lt;li>&lt;strong>Include Client Audience&lt;/strong>: &lt;code>libreUI&lt;/code>&lt;/li>
&lt;li>&lt;strong>Add to ID Token&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;li>&lt;strong>Add to access token&lt;/strong>: &lt;code>Off&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Repeat the preceding step for a mapper for the BPMN client:
&lt;ul>
&lt;li>&lt;strong>Mapper Type&lt;/strong>: &lt;code>Audience&lt;/code>&lt;/li>
&lt;li>&lt;strong>Name&lt;/strong>: &lt;code>libreBPMNAudienceMapper&lt;/code>&lt;/li>
&lt;li>&lt;strong>Include Client Audience&lt;/strong>: &lt;code>libreBpmn&lt;/code>&lt;/li>
&lt;li>&lt;strong>Add to ID Token&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;li>&lt;strong>Add to access token&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>If using the Rhize Audit microservice, repeat the preceding step for an Audit scope and audience mapper:
&lt;ul>
&lt;li>&lt;strong>Mapper Type&lt;/strong>: &lt;code>Audience&lt;/code>&lt;/li>
&lt;li>&lt;strong>Name&lt;/strong>: &lt;code>libreAuditAudienceMapper&lt;/code>&lt;/li>
&lt;li>&lt;strong>Include Client Audience&lt;/strong>:&lt;/li>
&lt;li>&lt;strong>Included Custom Audience&lt;/strong>: &lt;code>audit&lt;/code>&lt;/li>
&lt;li>&lt;strong>Add to ID Token&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;li>&lt;strong>Add to access token&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4>Add services to the scope&lt;span class="hx:absolute hx:-mt-20" id="add-services-to-the-scope">&lt;/span>
&lt;a href="#add-services-to-the-scope" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>Go to &lt;strong>Clients&lt;/strong>. Select &lt;code>libreBaas&lt;/code>.&lt;/li>
&lt;li>Select the &lt;strong>Client Scopes&lt;/strong> tab.&lt;/li>
&lt;li>Select &lt;strong>Add Client scope&lt;/strong>&lt;/li>
&lt;li>Select &lt;code>libreClientScope&lt;/code> from the list.&lt;/li>
&lt;li>&lt;strong>Add &amp;gt; Default&lt;/strong>.&lt;/li>
&lt;/ol>
&lt;p>Repeat this process for the &lt;code>dashboard&lt;/code>, &lt;code>libreUI&lt;/code>, &lt;code>libreBpmn&lt;/code>, &lt;code>libreCore&lt;/code>, &lt;code>libreRouter&lt;/code>, &lt;code>libreAudit&lt;/code> (if applicable). Based on your architecture repeat for any Libre Edge Agent clients.&lt;/p>
&lt;h3>Create roles and groups&lt;span class="hx:absolute hx:-mt-20" id="create-roles-and-groups">&lt;/span>
&lt;a href="#create-roles-and-groups" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>In Keycloak, &lt;em>roles&lt;/em> identify a category or type of user.
&lt;em>Groups&lt;/em> are a common set of attributes for a set of users.&lt;/p>
&lt;p>Rhize creates an &lt;code>ADMIN&lt;/code> role and group.&lt;/p>
&lt;h4>Add the admin realm role&lt;span class="hx:absolute hx:-mt-20" id="add-the-admin-realm-role">&lt;/span>
&lt;a href="#add-the-admin-realm-role" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>Select &lt;strong>Realm Roles&lt;/strong>. Then &lt;strong>Create role&lt;/strong>.&lt;/li>
&lt;li>Enter the following values:
&lt;ul>
&lt;li>Role name: &lt;code>ADMIN&lt;/code>&lt;/li>
&lt;li>Description: &lt;code>ADMIN&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Save&lt;/strong>.&lt;/li>
&lt;/ol>
&lt;h4>Add the Admin Group&lt;span class="hx:absolute hx:-mt-20" id="add-the-admin-group">&lt;/span>
&lt;a href="#add-the-admin-group" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>In the left hand menu, select &lt;strong>Groups &amp;gt; Create group&lt;/strong>.&lt;/li>
&lt;li>Give the group a name like &lt;code>libreAdminGroup&lt;/code>.&lt;/li>
&lt;li>&lt;strong>Create&lt;/strong>.&lt;/li>
&lt;/ol>
&lt;p>Now map a role.&lt;/p>
&lt;ol>
&lt;li>From the group list, select the group you just created.&lt;/li>
&lt;li>Select the &lt;strong>Role mapping&lt;/strong> tab.&lt;/li>
&lt;li>Select &lt;strong>Assign Role&lt;/strong>&lt;/li>
&lt;li>Select &lt;code>ADMIN&lt;/code>.&lt;/li>
&lt;li>&lt;strong>Assign.&lt;/strong>&lt;/li>
&lt;/ol>
&lt;h4>Add the dashboard realm roles&lt;span class="hx:absolute hx:-mt-20" id="add-the-dashboard-realm-roles">&lt;/span>
&lt;a href="#add-the-dashboard-realm-roles" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>Select &lt;strong>Realm Roles&lt;/strong>, and then &lt;strong>Create role&lt;/strong>.&lt;/li>
&lt;li>Name the role &lt;code>dashboard-admin&lt;/code>.&lt;/li>
&lt;li>&lt;strong>Save&lt;/strong>.&lt;/li>
&lt;li>Repeat the process to create a role &lt;code>dashboard-dev&lt;/code>.&lt;/li>
&lt;/ol>
&lt;h4>Add the dashboard groups&lt;span class="hx:absolute hx:-mt-20" id="add-the-dashboard-groups">&lt;/span>
&lt;a href="#add-the-dashboard-groups" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>In the left hand menu, select &lt;strong>Groups&lt;/strong>, and then &lt;strong>Create Group&lt;/strong>.&lt;/li>
&lt;li>Name the group &lt;code>dashboard-admin&lt;/code>&lt;/li>
&lt;li>&lt;strong>Create.&lt;/strong>&lt;/li>
&lt;li>Repeat the process to create &lt;code>dashboard-dev&lt;/code> and &lt;code>dashboard-user&lt;/code> groups.&lt;/li>
&lt;/ol>
&lt;p>Now map the group to a role:&lt;/p>
&lt;ol>
&lt;li>Select dashboard-admin from the list&lt;/li>
&lt;li>Select the &lt;strong>Role mapping&lt;/strong> tab.&lt;/li>
&lt;li>Select &lt;strong>Assign Role.&lt;/strong>&lt;/li>
&lt;li>Select &lt;strong>&lt;code>dashboard-admin&lt;/code>&lt;/strong>&lt;/li>
&lt;li>&lt;strong>Assign.&lt;/strong>&lt;/li>
&lt;li>Repeat the process for &lt;code>dashboard-dev&lt;/code>&lt;/li>
&lt;/ol>
&lt;h4>Add the group client scope&lt;span class="hx:absolute hx:-mt-20" id="add-the-group-client-scope">&lt;/span>
&lt;a href="#add-the-group-client-scope" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>In the left hand menu, select &lt;strong>Client scopes&lt;/strong> and &lt;strong>Create client scope&lt;/strong>.&lt;/li>
&lt;li>Name it &lt;code>groups&lt;/code> and provide a description.&lt;/li>
&lt;li>&lt;strong>Save&lt;/strong>.&lt;/li>
&lt;/ol>
&lt;p>Now map the scope:&lt;/p>
&lt;ol>
&lt;li>Select the &lt;strong>Mappers&lt;/strong> tab.&lt;/li>
&lt;li>&lt;strong>Add predefined mappers.&lt;/strong>&lt;/li>
&lt;li>Select &lt;code>groups&lt;/code>.&lt;/li>
&lt;li>&lt;strong>Add&lt;/strong>.&lt;/li>
&lt;/ol>
&lt;h4>Add new client scopes to dashboard client&lt;span class="hx:absolute hx:-mt-20" id="add-new-client-scopes-to-dashboard-client">&lt;/span>
&lt;a href="#add-new-client-scopes-to-dashboard-client" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>In the left hand menu, select &lt;strong>Clients&lt;/strong>, and then &lt;code>dashboard&lt;/code>.&lt;/li>
&lt;li>Select the &lt;strong>Client scopes&lt;/strong> tab.&lt;/li>
&lt;li>&lt;strong>Add client scope&lt;/strong>.&lt;/li>
&lt;li>Select &lt;code>groups&lt;/code> and &lt;code>libreClientScope&lt;/code>.&lt;/li>
&lt;li>&lt;strong>Add Default&lt;/strong>.&lt;/li>
&lt;/ol>
&lt;h3>Add Client Policy&lt;span class="hx:absolute hx:-mt-20" id="add-client-policy">&lt;/span>
&lt;a href="#add-client-policy" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>In Keycloak, &lt;em>policies&lt;/em> define authorization.
Rhize requires authorization for the database service.&lt;/p>
&lt;ol>
&lt;li>In the left hand menu, select &lt;strong>Clients&lt;/strong>, and then &lt;code>libreBaas&lt;/code>.&lt;/li>
&lt;li>Select the &lt;strong>Authorization&lt;/strong> tab.&lt;/li>
&lt;li>Select &lt;strong>Policies &amp;gt; Create Policy&lt;/strong>&lt;/li>
&lt;li>Select &lt;strong>Group &amp;gt; Create Policy&lt;/strong>.&lt;/li>
&lt;li>Name the policy &lt;code>libreAdminGroupPolicy&lt;/code>.&lt;/li>
&lt;li>Select &lt;strong>Add Groups&lt;/strong>.&lt;/li>
&lt;li>Select &lt;code>libreAdminGroup&lt;/code>.&lt;/li>
&lt;li>&lt;strong>Add&lt;/strong>.&lt;/li>
&lt;li>For &lt;strong>Logic&lt;/strong>, choose &lt;code>Positive&lt;/code>.&lt;/li>
&lt;li>&lt;strong>Save&lt;/strong>.&lt;/li>
&lt;/ol>
&lt;h3>Add users&lt;span class="hx:absolute hx:-mt-20" id="add-users">&lt;/span>
&lt;a href="#add-users" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ol>
&lt;li>In the left hand menu, select &lt;strong>Users&lt;/strong>, and &lt;strong>Add User&lt;/strong>.&lt;/li>
&lt;li>Fill in the following values:
&lt;ul>
&lt;li>&lt;strong>Username&lt;/strong>: &lt;code>system@libremfg.ai&lt;/code>.&lt;/li>
&lt;li>&lt;strong>Email&lt;/strong>: &lt;code>system@libremfg.ai&lt;/code>.&lt;/li>
&lt;li>&lt;strong>Email Verified&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;li>&lt;strong>First name&lt;/strong>: &lt;code>system&lt;/code>&lt;/li>
&lt;li>&lt;strong>Last name&lt;/strong>: &lt;code>Libre&lt;/code>&lt;/li>
&lt;li>&lt;strong>Join Groups&lt;/strong>: &lt;code>libreAdminGroup&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Create&lt;/strong>.&lt;/li>
&lt;/ol>
&lt;p>Now create a user password:&lt;/p>
&lt;ol>
&lt;li>Select the &lt;strong>Credentials&lt;/strong> tab.&lt;/li>
&lt;li>&lt;strong>Set Password&lt;/strong>.&lt;/li>
&lt;li>Enter a strong password.&lt;/li>
&lt;li>For &lt;strong>Temporary&lt;/strong>, choose &lt;code>Off&lt;/code>.&lt;/li>
&lt;li>&lt;strong>Save&lt;/strong>.&lt;/li>
&lt;/ol>
&lt;p>Repeat this process for the following accounts:&lt;/p>
&lt;ul>
&lt;li>Audit:
&lt;ul>
&lt;li>&lt;strong>Username&lt;/strong>: &lt;code>libreAudit@libremfg.ai&lt;/code>&lt;/li>
&lt;li>&lt;strong>Email&lt;/strong>: &lt;code>libreAudit@libremfg.ai&lt;/code>&lt;/li>
&lt;li>&lt;strong>Email Verified&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;li>&lt;strong>First name&lt;/strong>: &lt;code>Audit&lt;/code>&lt;/li>
&lt;li>&lt;strong>Last name&lt;/strong>: &lt;code>Libre&lt;/code>&lt;/li>
&lt;li>&lt;strong>Join Groups&lt;/strong>: &lt;code>libreAdminGroup&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Core:
&lt;ul>
&lt;li>&lt;strong>Username&lt;/strong>: &lt;code>libreCore@libremfg.ai&lt;/code>&lt;/li>
&lt;li>&lt;strong>Email&lt;/strong>: &lt;code>libreCore@libremfg.ai&lt;/code>&lt;/li>
&lt;li>&lt;strong>Email Verified&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;li>&lt;strong>First name&lt;/strong>: &lt;code>Core&lt;/code>&lt;/li>
&lt;li>&lt;strong>Last name&lt;/strong>: &lt;code>Libre&lt;/code>&lt;/li>
&lt;li>&lt;strong>Join Groups&lt;/strong>: &lt;code>libreAdminGroup&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>BPMN
&lt;ul>
&lt;li>&lt;strong>Username&lt;/strong>: &lt;code>libreBpmn@libremfg.ai&lt;/code>&lt;/li>
&lt;li>&lt;strong>Email&lt;/strong>: &lt;code>libreBpmn@libremfg.ai&lt;/code>&lt;/li>
&lt;li>&lt;strong>Email Verified&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;li>&lt;strong>First name&lt;/strong>: &lt;code>Bpmn&lt;/code>&lt;/li>
&lt;li>&lt;strong>Last name&lt;/strong>: &lt;code>Libre&lt;/code>&lt;/li>
&lt;li>&lt;strong>Join Groups&lt;/strong>: &lt;code>libreAdminGroup&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Router
&lt;ul>
&lt;li>&lt;strong>Username&lt;/strong>: &lt;code>libreRouter@libremfg.ai&lt;/code>&lt;/li>
&lt;li>&lt;strong>Email&lt;/strong>: &lt;code>libreRouter@libremfg.ai&lt;/code>&lt;/li>
&lt;li>&lt;strong>Email Verified&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;li>&lt;strong>First name&lt;/strong>: &lt;code>Router&lt;/code>&lt;/li>
&lt;li>&lt;strong>Last name&lt;/strong>: &lt;code>Libre&lt;/code>&lt;/li>
&lt;li>&lt;strong>Join Groups&lt;/strong>: &lt;code>libreAdminGroup&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Agent
&lt;ul>
&lt;li>&lt;strong>Username&lt;/strong>: &lt;code>libreAgent@libremfg.ai&lt;/code>&lt;/li>
&lt;li>&lt;strong>Email&lt;/strong>: &lt;code>libreAgent@libremfg.ai&lt;/code>&lt;/li>
&lt;li>&lt;strong>Email Verified&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;li>&lt;strong>First name&lt;/strong>: &lt;code>Agent&lt;/code>&lt;/li>
&lt;li>&lt;strong>Last name&lt;/strong>: &lt;code>Libre&lt;/code>&lt;/li>
&lt;li>&lt;strong>Join Groups&lt;/strong>: &lt;code>libreAdminGroup&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3>Enable Keycloak Audit Trail&lt;span class="hx:absolute hx:-mt-20" id="enable-keycloak-audit-trail">&lt;/span>
&lt;a href="#enable-keycloak-audit-trail" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>With the &lt;code>libre&lt;/code> realm selected:&lt;/p>
&lt;ol>
&lt;li>Select &lt;strong>Realm Settings&lt;/strong>, and then &lt;strong>Events&lt;/strong>.&lt;/li>
&lt;li>Select the tab &lt;strong>User event settings&lt;/strong>.&lt;/li>
&lt;li>Enable &lt;strong>Save Events&lt;/strong> and set an expiration.&lt;/li>
&lt;li>&lt;strong>Save&lt;/strong>.&lt;/li>
&lt;li>Repeat the process for the &lt;strong>Admin event settings&lt;/strong> tab.&lt;/li>
&lt;/ol>
&lt;h3>Configure password policy&lt;span class="hx:absolute hx:-mt-20" id="configure-password-policy">&lt;/span>
&lt;a href="#configure-password-policy" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>With the &lt;code>libre&lt;/code> realm selected:&lt;/p>
&lt;ol>
&lt;li>Select &lt;strong>Authentication&lt;/strong> and then the &lt;strong>Policies&lt;/strong> tab.&lt;/li>
&lt;li>Select the &lt;strong>Password policy&lt;/strong> tab.&lt;/li>
&lt;li>Add your organisation&amp;rsquo;s password policy.&lt;/li>
&lt;/ol>
&lt;h3>Configure brute-force protections&lt;span class="hx:absolute hx:-mt-20" id="configure-brute-force-protections">&lt;/span>
&lt;a href="#configure-brute-force-protections" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>With the &lt;code>libre&lt;/code> realm selected:&lt;/p>
&lt;ol>
&lt;li>Select &lt;strong>Realm settings&lt;/strong> and then the &lt;strong>Security defenses&lt;/strong> tab.&lt;/li>
&lt;li>In &lt;strong>Brute force detection&lt;/strong>, enable the feature and configure it to your requirements.&lt;/li>
&lt;/ol>
&lt;/div>
&lt;h2>Next steps&lt;span class="hx:absolute hx:-mt-20" id="next-steps">&lt;/span>
&lt;a href="#next-steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;a href="https://docs.rhize.com/versions/v3.0.3/deploy/install/services/" >Install services&lt;/a>.&lt;/p></description></item><item><title>Configure Keycloak</title><link>https://docs.rhize.com/versions/v3.1.0/deploy/install/keycloak/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.rhize.com/versions/v3.1.0/deploy/install/keycloak/</guid><description>
&lt;p>Rhize uses &lt;a href="https://keycloak.org" target="_blank" rel="noopener">Keycloak&lt;/a> as an OpenID provider.
In your cluster, the Keycloak server to authenticate users, services, and manage Role-based access controls.&lt;/p>
&lt;p>This topic describes how to set up Keycloak in your Rhize cluster.
For a conceptual overview of the authentication flow,
read &lt;a href="https://docs.rhize.com/explanations/about-openidconnect/" >About OpenID Connect&lt;/a>&lt;/p>
&lt;h2>Prerequisites&lt;span class="hx:absolute hx:-mt-20" id="prerequisites">&lt;/span>
&lt;a href="#prerequisites" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>First, ensure that you have followed the instructions from &lt;a href="https://docs.rhize.com/deploy/install/setup-kubernetes/" >Set up Kubernetes&lt;/a>.
All prerequisites for that step apply here.&lt;/p>
&lt;h2>Steps&lt;span class="hx:absolute hx:-mt-20" id="steps">&lt;/span>
&lt;a href="#steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Follow these steps to configure a Keycloak realm and associate Rhize services to Keycloak clients, groups, roles, and policies.&lt;/p>
&lt;div class="hextra-steps hx:ml-4 hx:mb-12 hx:ltr:border-l hx:rtl:border-r hx:border-gray-200 hx:ltr:pl-6 hx:rtl:pr-6 hx:dark:border-neutral-800 [counter-reset:step]">
&lt;h3>Log in&lt;span class="hx:absolute hx:-mt-20" id="log-in">&lt;/span>
&lt;a href="#log-in" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ol>
&lt;li>
&lt;p>Go to &lt;code>localhost&lt;/code> on the port where you forwarded the URL. If you used the example values from the last step, that&amp;rsquo;s &lt;code>localhost:5101&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Use the container credentials to log in.&lt;/p>
&lt;p>To find this, look in the &lt;code>keycloak.yaml&lt;/code> file.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3>Create a realm&lt;span class="hx:absolute hx:-mt-20" id="create-a-realm">&lt;/span>
&lt;a href="#create-a-realm" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>A Keycloak &lt;em>realm&lt;/em> is like a tenant that contains all configuration.&lt;/p>
&lt;p>To create your Rhize realm, follow these steps.&lt;/p>
&lt;ol>
&lt;li>In the side menu, select &lt;strong>Master&lt;/strong> then &lt;strong>Create Realm&lt;/strong>.&lt;/li>
&lt;li>For the &lt;strong>Realm Name&lt;/strong>, enter &lt;code>libre&lt;/code>. &lt;strong>Create.&lt;/strong>&lt;/li>
&lt;/ol>
&lt;h3>Configure realm settings&lt;span class="hx:absolute hx:-mt-20" id="configure-realm-settings">&lt;/span>
&lt;a href="#configure-realm-settings" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h4>Configure frontend URL and SSL&lt;span class="hx:absolute hx:-mt-20" id="configure-frontend-url-and-ssl">&lt;/span>
&lt;a href="#configure-frontend-url-and-ssl" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>In the side menu, select &lt;strong>Realm Settings&lt;/strong>.&lt;/li>
&lt;li>Enter the following values:
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Field&lt;/th>
&lt;th>value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Frontend URL&lt;/td>
&lt;td>Keycloak frontend URL&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Require SSL&lt;/td>
&lt;td>External requests&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/li>
&lt;/ol>
&lt;h4>Enable Keycloak Audit Trail&lt;span class="hx:absolute hx:-mt-20" id="enable-keycloak-audit-trail">&lt;/span>
&lt;a href="#enable-keycloak-audit-trail" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>Select &lt;strong>Realm Settings&lt;/strong>, and then &lt;strong>Events&lt;/strong>.&lt;/li>
&lt;li>Select the tab &lt;strong>User event settings&lt;/strong>.&lt;/li>
&lt;li>Enable &lt;strong>Save Events&lt;/strong> and set an expiration.&lt;/li>
&lt;li>&lt;strong>Save&lt;/strong>.&lt;/li>
&lt;li>Repeat the process for the &lt;strong>Admin event settings&lt;/strong> tab.&lt;/li>
&lt;/ol>
&lt;h4>Configure password policy&lt;span class="hx:absolute hx:-mt-20" id="configure-password-policy">&lt;/span>
&lt;a href="#configure-password-policy" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>Select &lt;strong>Authentication&lt;/strong> and then the &lt;strong>Policies&lt;/strong> tab.&lt;/li>
&lt;li>Select the &lt;strong>Password policy&lt;/strong> tab.&lt;/li>
&lt;li>Add your organisation&amp;rsquo;s password policy.&lt;/li>
&lt;/ol>
&lt;h4>Configure brute-force protections&lt;span class="hx:absolute hx:-mt-20" id="configure-brute-force-protections">&lt;/span>
&lt;a href="#configure-brute-force-protections" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>Select &lt;strong>Realm settings&lt;/strong> and then the &lt;strong>Security defenses&lt;/strong> tab.&lt;/li>
&lt;li>In &lt;strong>Brute force detection&lt;/strong>, enable the feature and configure it to your requirements.&lt;/li>
&lt;/ol>
&lt;h4>Configure theme (Optional)&lt;span class="hx:absolute hx:-mt-20" id="configure-theme-optional">&lt;/span>
&lt;a href="#configure-theme-optional" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>If created with the Libre Theme &lt;code>init&lt;/code> container, configure the &lt;strong>Login Theme&lt;/strong> in &lt;strong>Realm settings&lt;/strong> for &lt;code>libre&lt;/code>.&lt;/p>
&lt;h3>Create clients&lt;span class="hx:absolute hx:-mt-20" id="create-clients">&lt;/span>
&lt;a href="#create-clients" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>In Keycloak, &lt;em>clients&lt;/em> are entities that request Keycloak to authenticate a user.
You need to create a client for each service.&lt;/p>
&lt;p>The DB client requires additional configuration of flows and grants.
Other clients, such as the UI and Dashboard, use the standard flow to coordinate authorization between the browser and Keycloak to simplify security and improve user convenience.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">Each standard-flow client has its own subdomain.
Refer to &lt;a href="https://docs.rhize.com/versions/v3.1.0/reference/default-ports/" >Default URLs and Ports&lt;/a> for our recommended conventions.&lt;/div>
&lt;/div>
&lt;/div>
&lt;h4>Create DB client&lt;span class="hx:absolute hx:-mt-20" id="create-db-client">&lt;/span>
&lt;a href="#create-db-client" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Create a client for the DB as follows:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>In the side menu, select &lt;strong>Clients &amp;gt; create client&lt;/strong>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Configure the &lt;strong>General Settings&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Client Type&lt;/strong>: &lt;code>OpenID Connect&lt;/code>&lt;/li>
&lt;li>&lt;strong>Client ID&lt;/strong>: &lt;code>libreBaas&lt;/code>&lt;/li>
&lt;li>&lt;strong>Name&lt;/strong>: &lt;code>Libre Backend as a Service&lt;/code>&lt;/li>
&lt;li>&lt;strong>Description&lt;/strong>: &lt;code>Libre Backend as a Service&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>When finished, select &lt;strong>Next.&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Configure the &lt;strong>Capability config&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Client Authentication&lt;/strong>: On&lt;/li>
&lt;li>&lt;strong>Authorization&lt;/strong>: On&lt;/li>
&lt;li>For &lt;strong>Authentication flow&lt;/strong>, enable:
&lt;ul>
&lt;li>🗸 Standard flow&lt;/li>
&lt;li>🗸 Direct access grants&lt;/li>
&lt;li>🗸 Implicit flow&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Select &lt;strong>Next&lt;/strong>, then &lt;strong>Save&lt;/strong>.&lt;/p>
&lt;p>On success, this opens the &lt;strong>Client details&lt;/strong> page for the newly created client.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Select the &lt;strong>Service accounts roles&lt;/strong> tab and assign the following roles to the &lt;code>libreBaas&lt;/code> service account. To locate roles, change the filter to &lt;strong>Filter by clients&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;code>manage-clients&lt;/code>&lt;/li>
&lt;li>&lt;code>manage-account&lt;/code>&lt;/li>
&lt;li>&lt;code>manage-users&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4>Create UI client&lt;span class="hx:absolute hx:-mt-20" id="create-ui-client">&lt;/span>
&lt;a href="#create-ui-client" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>Create a client for the UI as follows:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>In the side menu, select &lt;strong>Clients &amp;gt; create client&lt;/strong>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Configure the &lt;strong>General Settings&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Client Type&lt;/strong>: &lt;code>OpenID Connect&lt;/code>&lt;/li>
&lt;li>&lt;strong>Client ID&lt;/strong>: &lt;code>libreUI&lt;/code>&lt;/li>
&lt;li>&lt;strong>Name&lt;/strong>: &lt;code>Libre User Interface&lt;/code>&lt;/li>
&lt;li>&lt;strong>Description&lt;/strong>: &lt;code>Libre User Interface&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>When finished, select &lt;strong>Next.&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Configure the &lt;strong>Capability config&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Client Authentication&lt;/strong>: On&lt;/li>
&lt;li>&lt;strong>Authorization&lt;/strong>: On&lt;/li>
&lt;li>For &lt;strong>Authentication flow&lt;/strong>, enable:
&lt;ul>
&lt;li>🗸 Standard flow&lt;/li>
&lt;li>🗸 Direct access grants&lt;/li>
&lt;li>🗸 Implicit flow&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Configure the &lt;strong>Access Settings&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Root URL&lt;/strong>: &lt;code>&amp;lt;UI_SUBDOMAIN&amp;gt;.&amp;lt;YOUR_DOMAIN&amp;gt;&lt;/code> without trailing slashes&lt;/li>
&lt;li>&lt;strong>Home URL&lt;/strong>: &lt;code>&amp;lt;UI_SUBDOMAIN&amp;gt;.&amp;lt;YOUR_DOMAIN&amp;gt;&lt;/code> without trailing slashes&lt;/li>
&lt;li>&lt;strong>Web Origins&lt;/strong>: &lt;code>&amp;lt;UI_SUBDOMAIN&amp;gt;.&amp;lt;YOUR_DOMAIN&amp;gt;&lt;/code> without trailing slashes&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Select &lt;strong>Next&lt;/strong>, then &lt;strong>Save&lt;/strong>.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h4>Create dashboard client&lt;span class="hx:absolute hx:-mt-20" id="create-dashboard-client">&lt;/span>
&lt;a href="#create-dashboard-client" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>
&lt;p>In the side menu, select &lt;strong>Clients &amp;gt; create client&lt;/strong>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Configure the &lt;strong>General Settings&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Client Type&lt;/strong>: &lt;code>OpenID Connect&lt;/code>&lt;/li>
&lt;li>&lt;strong>Client ID&lt;/strong>: &lt;code>dashboard&lt;/code>&lt;/li>
&lt;li>&lt;strong>Name&lt;/strong>: &lt;code>Libre Dashboard&lt;/code>&lt;/li>
&lt;li>&lt;strong>Description&lt;/strong>: &lt;code>Libre Dashboard&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Configure the &lt;strong>Capability config&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Client Authentication&lt;/strong>: On&lt;/li>
&lt;li>&lt;strong>Authorization&lt;/strong>: On&lt;/li>
&lt;li>For &lt;strong>Authentication flow&lt;/strong>, enable:
&lt;ul>
&lt;li>🗸 Standard flow&lt;/li>
&lt;li>🗸 Direct access grants&lt;/li>
&lt;li>🗸 Implicit flow&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Configure the &lt;strong>Access Settings&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Root URL&lt;/strong>: &lt;code>&amp;lt;DASHBOARD_SUBDOMAIN&amp;gt;.&amp;lt;YOUR_DOMAIN&amp;gt;&lt;/code> without trailing slashes&lt;/li>
&lt;li>&lt;strong>Home URL&lt;/strong>: &lt;code>&amp;lt;DASHBOARD_SUBDOMAIN&amp;gt;.&amp;lt;YOUR_DOMAIN&amp;gt;&lt;/code> without trailing slashes&lt;/li>
&lt;li>&lt;strong>Valid redirect URIs&lt;/strong>: &lt;code>&amp;lt;DASHBOARD_URL&amp;gt;/login/generic_oauth&lt;/code> without trailing slashes&lt;/li>
&lt;li>&lt;strong>Valid post logout redirect URIs&lt;/strong>: &lt;code>+&lt;/code> without trailing slashes&lt;/li>
&lt;li>&lt;strong>Web origins&lt;/strong>: &lt;code>&amp;lt;DASHBOARD_SUBDOMAIN&amp;gt;.&amp;lt;YOUR_DOMAIN&amp;gt;&lt;/code> without trailing slashes&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Select &lt;strong>Next&lt;/strong>, then &lt;strong>Save&lt;/strong>.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h4>Create other service clients&lt;span class="hx:absolute hx:-mt-20" id="create-other-service-clients">&lt;/span>
&lt;a href="#create-other-service-clients" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>The other services do not need authorization but do need client authentication.
By default you need to add only the client ID.&lt;/p>
&lt;p>For example, to create the BPMN engine client:&lt;/p>
&lt;ol>
&lt;li>In the side menu, select &lt;strong>Clients &amp;gt; create client&lt;/strong>.&lt;/li>
&lt;li>For &lt;strong>Client ID&lt;/strong>, enter &lt;code>libreBpmn&lt;/code>&lt;/li>
&lt;li>Configure the &lt;strong>Capability config&lt;/strong>:
&lt;ul>
&lt;li>&lt;strong>Client Authentication&lt;/strong>: On&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Select &lt;strong>Next&lt;/strong>, then &lt;strong>Save&lt;/strong>.&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>Repeat this process for each of the following services:&lt;/strong>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Client ID&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>libreAudit&lt;/code>&lt;/td>
&lt;td>The audit log service&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>libreCore&lt;/code>&lt;/td>
&lt;td>The edge agent&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>libreRouter&lt;/code>&lt;/td>
&lt;td>API router&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Based on your architecture, repeat for any Libre Edge Agents, &lt;code>libreAgent&lt;/code>.&lt;/p>
&lt;h3>Scope services&lt;span class="hx:absolute hx:-mt-20" id="scope-services">&lt;/span>
&lt;a href="#scope-services" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>In Keycloak, a &lt;em>scope&lt;/em> bounds the access a service has.
Rhize creates a default client scope, then binds services to that scope.&lt;/p>
&lt;h4>Create a client scope&lt;span class="hx:absolute hx:-mt-20" id="create-a-client-scope">&lt;/span>
&lt;a href="#create-a-client-scope" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>To create a scope for your Rhize services, follow these steps:&lt;/p>
&lt;ol>
&lt;li>Select &lt;strong>Client Scopes &amp;gt; Create client scope&lt;/strong>.&lt;/li>
&lt;li>Fill in the following values:
&lt;ul>
&lt;li>&lt;strong>Name&lt;/strong>: &lt;code>libreClientScope&lt;/code>&lt;/li>
&lt;li>&lt;strong>Description&lt;/strong>: &lt;code>Libre Client Scope&lt;/code>&lt;/li>
&lt;li>&lt;strong>Type&lt;/strong>: &lt;code>None&lt;/code>&lt;/li>
&lt;li>&lt;strong>Display on consent screen&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;li>&lt;strong>Include in token scope&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Create&lt;/strong>.&lt;/li>
&lt;li>Select the &lt;strong>Mappers&lt;/strong> tab, then &lt;strong>Configure new mapper&lt;/strong>. Add an audience mapper for the DB client:
&lt;ul>
&lt;li>&lt;strong>Mapper Type&lt;/strong>: &lt;code>Audience&lt;/code>&lt;/li>
&lt;li>&lt;strong>Name&lt;/strong>: &lt;code>libreBaasAudienceMapper&lt;/code>&lt;/li>
&lt;li>&lt;strong>Include Client Audience&lt;/strong>: &lt;code>libreBaas&lt;/code>&lt;/li>
&lt;li>&lt;strong>Add to ID Token&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;li>&lt;strong>Add to access token&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Repeat the preceding step for a mapper for the UI client:
&lt;ul>
&lt;li>&lt;strong>Mapper Type&lt;/strong>: &lt;code>Audience&lt;/code>&lt;/li>
&lt;li>&lt;strong>Name&lt;/strong>: &lt;code>libreUIAudienceMapper&lt;/code>&lt;/li>
&lt;li>&lt;strong>Include Client Audience&lt;/strong>: &lt;code>libreUI&lt;/code>&lt;/li>
&lt;li>&lt;strong>Add to ID Token&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;li>&lt;strong>Add to access token&lt;/strong>: &lt;code>Off&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Repeat the preceding step for a mapper for the BPMN client:
&lt;ul>
&lt;li>&lt;strong>Mapper Type&lt;/strong>: &lt;code>Audience&lt;/code>&lt;/li>
&lt;li>&lt;strong>Name&lt;/strong>: &lt;code>libreBpmnAudienceMapper&lt;/code>&lt;/li>
&lt;li>&lt;strong>Include Client Audience&lt;/strong>: &lt;code>libreBpmn&lt;/code>&lt;/li>
&lt;li>&lt;strong>Add to ID Token&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;li>&lt;strong>Add to access token&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>If using the Rhize Audit microservice, repeat the preceding step for an Audit scope and audience mapper:
&lt;ul>
&lt;li>&lt;strong>Mapper Type&lt;/strong>: &lt;code>Audience&lt;/code>&lt;/li>
&lt;li>&lt;strong>Name&lt;/strong>: &lt;code>libreAuditAudienceMapper&lt;/code>&lt;/li>
&lt;li>&lt;strong>Include Client Audience&lt;/strong>:&lt;/li>
&lt;li>&lt;strong>Included Custom Audience&lt;/strong>: &lt;code>audit&lt;/code>&lt;/li>
&lt;li>&lt;strong>Add to ID Token&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;li>&lt;strong>Add to access token&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4>Add services to the scope&lt;span class="hx:absolute hx:-mt-20" id="add-services-to-the-scope">&lt;/span>
&lt;a href="#add-services-to-the-scope" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>Go to &lt;strong>Clients&lt;/strong>. Select &lt;code>libreBaas&lt;/code>.&lt;/li>
&lt;li>Select the &lt;strong>Client Scopes&lt;/strong> tab.&lt;/li>
&lt;li>Select &lt;strong>Add Client scope&lt;/strong>&lt;/li>
&lt;li>Select &lt;code>libreClientScope&lt;/code> from the list.&lt;/li>
&lt;li>&lt;strong>Add &amp;gt; Default&lt;/strong>.&lt;/li>
&lt;/ol>
&lt;p>Repeat this process for the &lt;code>dashboard&lt;/code>, &lt;code>libreUI&lt;/code>, &lt;code>libreBpmn&lt;/code>, &lt;code>libreCore&lt;/code>, &lt;code>libreRouter&lt;/code>, &lt;code>libreAudit&lt;/code> (if applicable). Based on your architecture repeat for any Libre Edge Agent clients.&lt;/p>
&lt;h3>Create roles and groups&lt;span class="hx:absolute hx:-mt-20" id="create-roles-and-groups">&lt;/span>
&lt;a href="#create-roles-and-groups" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>In Keycloak, &lt;em>roles&lt;/em> identify a category or type of user.
&lt;em>Groups&lt;/em> are a common set of attributes for a set of users.&lt;/p>
&lt;h4>Add the Admin Group&lt;span class="hx:absolute hx:-mt-20" id="add-the-admin-group">&lt;/span>
&lt;a href="#add-the-admin-group" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>In the left hand menu, select &lt;strong>Groups &amp;gt; Create group&lt;/strong>.&lt;/li>
&lt;li>Give the group a name like &lt;code>libreAdminGroup&lt;/code>.&lt;/li>
&lt;li>&lt;strong>Create&lt;/strong>.&lt;/li>
&lt;/ol>
&lt;h4>Add the dashboard realm roles&lt;span class="hx:absolute hx:-mt-20" id="add-the-dashboard-realm-roles">&lt;/span>
&lt;a href="#add-the-dashboard-realm-roles" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>Select &lt;strong>Realm Roles&lt;/strong>, and then &lt;strong>Create role&lt;/strong>.&lt;/li>
&lt;li>Name the role &lt;code>dashboard-admin&lt;/code>.&lt;/li>
&lt;li>&lt;strong>Save&lt;/strong>.&lt;/li>
&lt;li>Repeat the process to create a role &lt;code>dashboard-dev&lt;/code>.&lt;/li>
&lt;/ol>
&lt;h4>Add the dashboard groups&lt;span class="hx:absolute hx:-mt-20" id="add-the-dashboard-groups">&lt;/span>
&lt;a href="#add-the-dashboard-groups" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>In the left hand menu, select &lt;strong>Groups&lt;/strong>, and then &lt;strong>Create Group&lt;/strong>.&lt;/li>
&lt;li>Name the group &lt;code>dashboard-admin&lt;/code>&lt;/li>
&lt;li>&lt;strong>Create.&lt;/strong>&lt;/li>
&lt;li>Repeat the process to create &lt;code>dashboard-dev&lt;/code> and &lt;code>dashboard-user&lt;/code> groups.&lt;/li>
&lt;/ol>
&lt;p>Now map the group to a role:&lt;/p>
&lt;ol>
&lt;li>Select dashboard-admin from the list&lt;/li>
&lt;li>Select the &lt;strong>Role mapping&lt;/strong> tab.&lt;/li>
&lt;li>Select &lt;strong>Assign Role.&lt;/strong>&lt;/li>
&lt;li>Select &lt;strong>&lt;code>dashboard-admin&lt;/code>&lt;/strong>&lt;/li>
&lt;li>&lt;strong>Assign.&lt;/strong>&lt;/li>
&lt;li>Repeat the process for &lt;code>dashboard-dev&lt;/code>&lt;/li>
&lt;/ol>
&lt;h4>Add the group client scope&lt;span class="hx:absolute hx:-mt-20" id="add-the-group-client-scope">&lt;/span>
&lt;a href="#add-the-group-client-scope" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>In the left hand menu, select &lt;strong>Client scopes&lt;/strong> and &lt;strong>Create client scope&lt;/strong>.&lt;/li>
&lt;li>Name it &lt;code>groups&lt;/code> and provide a description.&lt;/li>
&lt;li>&lt;strong>Save&lt;/strong>.&lt;/li>
&lt;/ol>
&lt;p>Now map the scope:&lt;/p>
&lt;ol>
&lt;li>Select the &lt;strong>Mappers&lt;/strong> tab.&lt;/li>
&lt;li>&lt;strong>Add predefined mappers.&lt;/strong>&lt;/li>
&lt;li>Select &lt;code>groups&lt;/code>.&lt;/li>
&lt;li>&lt;strong>Add&lt;/strong>.&lt;/li>
&lt;/ol>
&lt;h4>Add new client scopes to dashboard client&lt;span class="hx:absolute hx:-mt-20" id="add-new-client-scopes-to-dashboard-client">&lt;/span>
&lt;a href="#add-new-client-scopes-to-dashboard-client" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ol>
&lt;li>In the left hand menu, select &lt;strong>Clients&lt;/strong>, and then &lt;code>dashboard&lt;/code>.&lt;/li>
&lt;li>Select the &lt;strong>Client scopes&lt;/strong> tab.&lt;/li>
&lt;li>&lt;strong>Add client scope&lt;/strong>.&lt;/li>
&lt;li>Select &lt;code>groups&lt;/code>.&lt;/li>
&lt;li>&lt;strong>Add &amp;gt; Default&lt;/strong>.&lt;/li>
&lt;/ol>
&lt;h3>Add Client Policy&lt;span class="hx:absolute hx:-mt-20" id="add-client-policy">&lt;/span>
&lt;a href="#add-client-policy" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>In Keycloak, &lt;em>policies&lt;/em> define authorization.
Rhize requires authorization for the database service.&lt;/p>
&lt;ol>
&lt;li>In the left hand menu, select &lt;strong>Clients&lt;/strong>, and then &lt;code>libreBaas&lt;/code>.&lt;/li>
&lt;li>Select the &lt;strong>Authorization&lt;/strong> tab.&lt;/li>
&lt;li>Select the &lt;strong>Policies&lt;/strong> sub-tab.&lt;/li>
&lt;li>Select &lt;strong>Create Policy &amp;gt; Group&lt;/strong>.&lt;/li>
&lt;li>Name the policy &lt;code>libreAdminGroupPolicy&lt;/code>.&lt;/li>
&lt;li>Select &lt;strong>Add Groups&lt;/strong>.&lt;/li>
&lt;li>Select &lt;code>libreAdminGroup&lt;/code>.&lt;/li>
&lt;li>&lt;strong>Add&lt;/strong>.&lt;/li>
&lt;li>For &lt;strong>Logic&lt;/strong>, choose &lt;code>Positive&lt;/code>.&lt;/li>
&lt;li>&lt;strong>Save&lt;/strong>.&lt;/li>
&lt;/ol>
&lt;h3>Add users&lt;span class="hx:absolute hx:-mt-20" id="add-users">&lt;/span>
&lt;a href="#add-users" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ol>
&lt;li>In the left hand menu, select &lt;strong>Users&lt;/strong>, and &lt;strong>Add User&lt;/strong>.&lt;/li>
&lt;li>Fill in the following values:
&lt;ul>
&lt;li>&lt;strong>Username&lt;/strong>: &lt;code>system@libremfg.ai&lt;/code>.&lt;/li>
&lt;li>&lt;strong>Email&lt;/strong>: &lt;code>system@libremfg.ai&lt;/code>.&lt;/li>
&lt;li>&lt;strong>Email Verified&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;li>&lt;strong>First name&lt;/strong>: &lt;code>system&lt;/code>&lt;/li>
&lt;li>&lt;strong>Last name&lt;/strong>: &lt;code>Libre&lt;/code>&lt;/li>
&lt;li>&lt;strong>Join Groups&lt;/strong>: &lt;code>libreAdminGroup&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Create&lt;/strong>.&lt;/li>
&lt;/ol>
&lt;p>Now create a user password:&lt;/p>
&lt;ol>
&lt;li>Select the &lt;strong>Credentials&lt;/strong> tab.&lt;/li>
&lt;li>&lt;strong>Set Password&lt;/strong>.&lt;/li>
&lt;li>Enter a strong password.&lt;/li>
&lt;li>For &lt;strong>Temporary&lt;/strong>, choose &lt;code>Off&lt;/code>.&lt;/li>
&lt;li>&lt;strong>Save&lt;/strong>.&lt;/li>
&lt;/ol>
&lt;p>Repeat this process for the following accounts:&lt;/p>
&lt;ul>
&lt;li>Audit:
&lt;ul>
&lt;li>&lt;strong>Username&lt;/strong>: &lt;code>libreAudit@libremfg.ai&lt;/code>&lt;/li>
&lt;li>&lt;strong>Email&lt;/strong>: &lt;code>libreAudit@libremfg.ai&lt;/code>&lt;/li>
&lt;li>&lt;strong>Email Verified&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;li>&lt;strong>First name&lt;/strong>: &lt;code>Audit&lt;/code>&lt;/li>
&lt;li>&lt;strong>Last name&lt;/strong>: &lt;code>Libre&lt;/code>&lt;/li>
&lt;li>&lt;strong>Join Groups&lt;/strong>: &lt;code>libreAdminGroup&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Core:
&lt;ul>
&lt;li>&lt;strong>Username&lt;/strong>: &lt;code>libreCore@libremfg.ai&lt;/code>&lt;/li>
&lt;li>&lt;strong>Email&lt;/strong>: &lt;code>libreCore@libremfg.ai&lt;/code>&lt;/li>
&lt;li>&lt;strong>Email Verified&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;li>&lt;strong>First name&lt;/strong>: &lt;code>Core&lt;/code>&lt;/li>
&lt;li>&lt;strong>Last name&lt;/strong>: &lt;code>Libre&lt;/code>&lt;/li>
&lt;li>&lt;strong>Join Groups&lt;/strong>: &lt;code>libreAdminGroup&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>BPMN
&lt;ul>
&lt;li>&lt;strong>Username&lt;/strong>: &lt;code>libreBpmn@libremfg.ai&lt;/code>&lt;/li>
&lt;li>&lt;strong>Email&lt;/strong>: &lt;code>libreBpmn@libremfg.ai&lt;/code>&lt;/li>
&lt;li>&lt;strong>Email Verified&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;li>&lt;strong>First name&lt;/strong>: &lt;code>Bpmn&lt;/code>&lt;/li>
&lt;li>&lt;strong>Last name&lt;/strong>: &lt;code>Libre&lt;/code>&lt;/li>
&lt;li>&lt;strong>Join Groups&lt;/strong>: &lt;code>libreAdminGroup&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Router
&lt;ul>
&lt;li>&lt;strong>Username&lt;/strong>: &lt;code>libreRouter@libremfg.ai&lt;/code>&lt;/li>
&lt;li>&lt;strong>Email&lt;/strong>: &lt;code>libreRouter@libremfg.ai&lt;/code>&lt;/li>
&lt;li>&lt;strong>Email Verified&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;li>&lt;strong>First name&lt;/strong>: &lt;code>Router&lt;/code>&lt;/li>
&lt;li>&lt;strong>Last name&lt;/strong>: &lt;code>Libre&lt;/code>&lt;/li>
&lt;li>&lt;strong>Join Groups&lt;/strong>: &lt;code>libreAdminGroup&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Agent
&lt;ul>
&lt;li>&lt;strong>Username&lt;/strong>: &lt;code>libreAgent@libremfg.ai&lt;/code>&lt;/li>
&lt;li>&lt;strong>Email&lt;/strong>: &lt;code>libreAgent@libremfg.ai&lt;/code>&lt;/li>
&lt;li>&lt;strong>Email Verified&lt;/strong>: &lt;code>On&lt;/code>&lt;/li>
&lt;li>&lt;strong>First name&lt;/strong>: &lt;code>Agent&lt;/code>&lt;/li>
&lt;li>&lt;strong>Last name&lt;/strong>: &lt;code>Libre&lt;/code>&lt;/li>
&lt;li>&lt;strong>Join Groups&lt;/strong>: &lt;code>libreAdminGroup&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/div>
&lt;h2>Next steps&lt;span class="hx:absolute hx:-mt-20" id="next-steps">&lt;/span>
&lt;a href="#next-steps" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;a href="https://docs.rhize.com/versions/v3.1.0/deploy/install/services/" >Install services&lt;/a>.&lt;/p></description></item></channel></rss>