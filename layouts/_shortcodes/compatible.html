<!--- variables based on shortcode argument -->
{{ $arg := (.Get 0) }}

<!-- range over data file -->
{{ range $.Site.Data.versionCompat }}

<!-- Find matches -->
{{ if eq ( .version | lower) ( $arg | lower ) }}

<div class="notices note">
  <span class="type">v{{ $arg }} compatibility</span>
  Rhize v{{ $arg }} has been tested to work with the following third-party applications:
  <ul>
    {{ with .apollo_router }}<li>Apollo router {{ . }}</li>{{ end }}
    {{ with .audit_postgres }}<li>Audit Postgres {{ . }}</li>{{ end }}
    {{ with .grafana }}<li> Grafana: {{ . }}</li> {{ end }}
    {{ with .keycloak }}<li> Keycloak: {{ . }}</li> {{ end }}
    {{ with .keycloak_postgres }}<li> Keycloak Postgres: {{ . }}</li> {{ end }}
    {{ with .loki }}<li> Loki: {{ . }}</li> {{ end }}
    {{ with .nats }}<li> NATS: {{ . }}</li>{{ end }}
    {{ with .prometheus }}<li> Prometheus: {{ . }}</li>{{ end }}
    {{ with .restate }}<li> Restate: {{ . }}</li>{{ end }}
    {{ with .redpanda }}<li> Redpanda: {{ . }}</li>{{ end }}
    {{ with .redpanda_console }}<li> Redpanda Console: {{ . }}</li>{{ end }}
    {{ with .tempo }}<li> Tempo: {{ . }}</li> {{ end }}
  </ul>
</div>
    {{end}}
{{ end }}
